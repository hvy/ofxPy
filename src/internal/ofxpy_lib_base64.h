static const char *of_py_base64 = "IyBUaGlzIGZpbGUgd2FzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IFNXSUcgKGh0dHA6Ly93d3cuc3dpZy5vcmcpLgojIFZlcnNpb24gMi4wLjkKIwojIERvIG5vdCBtYWtlIGNoYW5nZXMgdG8gdGhpcyBmaWxlIHVubGVzcyB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmctLW1vZGlmeQojIHRoZSBTV0lHIGludGVyZmFjZSBmaWxlIGluc3RlYWQuCgoKCmZyb20gc3lzIGltcG9ydCB2ZXJzaW9uX2luZm8KaWYgdmVyc2lvbl9pbmZvID49ICgyLDYsMCk6CiAgICBkZWYgc3dpZ19pbXBvcnRfaGVscGVyKCk6CiAgICAgICAgZnJvbSBvcy5wYXRoIGltcG9ydCBkaXJuYW1lCiAgICAgICAgaW1wb3J0IGltcAogICAgICAgIGZwID0gTm9uZQogICAgICAgIHRyeToKICAgICAgICAgICAgZnAsIHBhdGhuYW1lLCBkZXNjcmlwdGlvbiA9IGltcC5maW5kX21vZHVsZSgnX29mJywgW2Rpcm5hbWUoX19maWxlX18pXSkKICAgICAgICBleGNlcHQgSW1wb3J0RXJyb3I6CiAgICAgICAgICAgIGltcG9ydCBfb2YKICAgICAgICAgICAgcmV0dXJuIF9vZgogICAgICAgIGlmIGZwIGlzIG5vdCBOb25lOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBfbW9kID0gaW1wLmxvYWRfbW9kdWxlKCdfb2YnLCBmcCwgcGF0aG5hbWUsIGRlc2NyaXB0aW9uKQogICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgZnAuY2xvc2UoKQogICAgICAgICAgICByZXR1cm4gX21vZAogICAgX29mID0gc3dpZ19pbXBvcnRfaGVscGVyKCkKICAgIGRlbCBzd2lnX2ltcG9ydF9oZWxwZXIKZWxzZToKICAgIGltcG9ydCBfb2YKZGVsIHZlcnNpb25faW5mbwp0cnk6CiAgICBfc3dpZ19wcm9wZXJ0eSA9IHByb3BlcnR5CmV4Y2VwdCBOYW1lRXJyb3I6CiAgICBwYXNzICMgUHl0aG9uIDwgMi4yIGRvZXNuJ3QgaGF2ZSAncHJvcGVydHknLgpkZWYgX3N3aWdfc2V0YXR0cl9ub25keW5hbWljKHNlbGYsY2xhc3NfdHlwZSxuYW1lLHZhbHVlLHN0YXRpYz0xKToKICAgIGlmIChuYW1lID09ICJ0aGlzb3duIik6IHJldHVybiBzZWxmLnRoaXMub3duKHZhbHVlKQogICAgaWYgKG5hbWUgPT0gInRoaXMiKToKICAgICAgICBpZiB0eXBlKHZhbHVlKS5fX25hbWVfXyA9PSAnU3dpZ1B5T2JqZWN0JzoKICAgICAgICAgICAgc2VsZi5fX2RpY3RfX1tuYW1lXSA9IHZhbHVlCiAgICAgICAgICAgIHJldHVybgogICAgbWV0aG9kID0gY2xhc3NfdHlwZS5fX3N3aWdfc2V0bWV0aG9kc19fLmdldChuYW1lLE5vbmUpCiAgICBpZiBtZXRob2Q6IHJldHVybiBtZXRob2Qoc2VsZix2YWx1ZSkKICAgIGlmIChub3Qgc3RhdGljKToKICAgICAgICBzZWxmLl9fZGljdF9fW25hbWVdID0gdmFsdWUKICAgIGVsc2U6CiAgICAgICAgcmFpc2UgQXR0cmlidXRlRXJyb3IoIllvdSBjYW5ub3QgYWRkIGF0dHJpYnV0ZXMgdG8gJXMiICUgc2VsZikKCmRlZiBfc3dpZ19zZXRhdHRyKHNlbGYsY2xhc3NfdHlwZSxuYW1lLHZhbHVlKToKICAgIHJldHVybiBfc3dpZ19zZXRhdHRyX25vbmR5bmFtaWMoc2VsZixjbGFzc190eXBlLG5hbWUsdmFsdWUsMCkKCmRlZiBfc3dpZ19nZXRhdHRyKHNlbGYsY2xhc3NfdHlwZSxuYW1lKToKICAgIGlmIChuYW1lID09ICJ0aGlzb3duIik6IHJldHVybiBzZWxmLnRoaXMub3duKCkKICAgIG1ldGhvZCA9IGNsYXNzX3R5cGUuX19zd2lnX2dldG1ldGhvZHNfXy5nZXQobmFtZSxOb25lKQogICAgaWYgbWV0aG9kOiByZXR1cm4gbWV0aG9kKHNlbGYpCiAgICByYWlzZSBBdHRyaWJ1dGVFcnJvcihuYW1lKQoKZGVmIF9zd2lnX3JlcHIoc2VsZik6CiAgICB0cnk6IHN0cnRoaXMgPSAicHJveHkgb2YgIiArIHNlbGYudGhpcy5fX3JlcHJfXygpCiAgICBleGNlcHQ6IHN0cnRoaXMgPSAiIgogICAgcmV0dXJuICI8JXMuJXM7ICVzID4iICUgKHNlbGYuX19jbGFzc19fLl9fbW9kdWxlX18sIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fLCBzdHJ0aGlzLCkKCnRyeToKICAgIF9vYmplY3QgPSBvYmplY3QKICAgIF9uZXdjbGFzcyA9IDEKZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgY2xhc3MgX29iamVjdCA6IHBhc3MKICAgIF9uZXdjbGFzcyA9IDAKCgpjbGFzcyBTd2lnUHlJdGVyYXRvcihfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgU3dpZ1B5SXRlcmF0b3IsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIFN3aWdQeUl0ZXJhdG9yLCBuYW1lKQogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzLCAqKmt3YXJncyk6IHJhaXNlIEF0dHJpYnV0ZUVycm9yKCJObyBjb25zdHJ1Y3RvciBkZWZpbmVkIC0gY2xhc3MgaXMgYWJzdHJhY3QiKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9Td2lnUHlJdGVyYXRvcgogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiB2YWx1ZShzZWxmKTogcmV0dXJuIF9vZi5Td2lnUHlJdGVyYXRvcl92YWx1ZShzZWxmKQogICAgZGVmIGluY3Ioc2VsZiwgbj0xKTogcmV0dXJuIF9vZi5Td2lnUHlJdGVyYXRvcl9pbmNyKHNlbGYsIG4pCiAgICBkZWYgZGVjcihzZWxmLCBuPTEpOiByZXR1cm4gX29mLlN3aWdQeUl0ZXJhdG9yX2RlY3Ioc2VsZiwgbikKICAgIGRlZiBkaXN0YW5jZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2YuU3dpZ1B5SXRlcmF0b3JfZGlzdGFuY2Uoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZXF1YWwoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLlN3aWdQeUl0ZXJhdG9yX2VxdWFsKHNlbGYsICphcmdzKQogICAgZGVmIGNvcHkoc2VsZik6IHJldHVybiBfb2YuU3dpZ1B5SXRlcmF0b3JfY29weShzZWxmKQogICAgZGVmIG5leHQoc2VsZik6IHJldHVybiBfb2YuU3dpZ1B5SXRlcmF0b3JfbmV4dChzZWxmKQogICAgZGVmIF9fbmV4dF9fKHNlbGYpOiByZXR1cm4gX29mLlN3aWdQeUl0ZXJhdG9yX19fbmV4dF9fKHNlbGYpCiAgICBkZWYgcHJldmlvdXMoc2VsZik6IHJldHVybiBfb2YuU3dpZ1B5SXRlcmF0b3JfcHJldmlvdXMoc2VsZikKICAgIGRlZiBhZHZhbmNlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5Td2lnUHlJdGVyYXRvcl9hZHZhbmNlKHNlbGYsICphcmdzKQogICAgZGVmIF9fZXFfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2YuU3dpZ1B5SXRlcmF0b3JfX19lcV9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fbmVfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2YuU3dpZ1B5SXRlcmF0b3JfX19uZV9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faWFkZF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5Td2lnUHlJdGVyYXRvcl9fX2lhZGRfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2lzdWJfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2YuU3dpZ1B5SXRlcmF0b3JfX19pc3ViX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19hZGRfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2YuU3dpZ1B5SXRlcmF0b3JfX19hZGRfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX3N1Yl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5Td2lnUHlJdGVyYXRvcl9fX3N1Yl9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faXRlcl9fKHNlbGYpOiByZXR1cm4gc2VsZgpTd2lnUHlJdGVyYXRvcl9zd2lncmVnaXN0ZXIgPSBfb2YuU3dpZ1B5SXRlcmF0b3Jfc3dpZ3JlZ2lzdGVyClN3aWdQeUl0ZXJhdG9yX3N3aWdyZWdpc3RlcihTd2lnUHlJdGVyYXRvcikKCmNsYXNzIG9mQmFzZURyYXdzKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkJhc2VEcmF3cywgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZCYXNlRHJhd3MsIG5hbWUpCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKTogcmFpc2UgQXR0cmlidXRlRXJyb3IoIk5vIGNvbnN0cnVjdG9yIGRlZmluZWQgLSBjbGFzcyBpcyBhYnN0cmFjdCIpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mQmFzZURyYXdzCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIGRyYXcoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZURyYXdzX2RyYXcoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0SGVpZ2h0KHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZURyYXdzX2dldEhlaWdodChzZWxmKQogICAgZGVmIGdldFdpZHRoKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZURyYXdzX2dldFdpZHRoKHNlbGYpCiAgICBkZWYgc2V0QW5jaG9yUGVyY2VudChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlRHJhd3Nfc2V0QW5jaG9yUGVyY2VudChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRBbmNob3JQb2ludChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlRHJhd3Nfc2V0QW5jaG9yUG9pbnQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVzZXRBbmNob3Ioc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlRHJhd3NfcmVzZXRBbmNob3Ioc2VsZikKb2ZCYXNlRHJhd3Nfc3dpZ3JlZ2lzdGVyID0gX29mLm9mQmFzZURyYXdzX3N3aWdyZWdpc3RlcgpvZkJhc2VEcmF3c19zd2lncmVnaXN0ZXIob2ZCYXNlRHJhd3MpCgpjbGFzcyBvZkJhc2VVcGRhdGVzKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkJhc2VVcGRhdGVzLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkJhc2VVcGRhdGVzLCBuYW1lKQogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzLCAqKmt3YXJncyk6IHJhaXNlIEF0dHJpYnV0ZUVycm9yKCJObyBjb25zdHJ1Y3RvciBkZWZpbmVkIC0gY2xhc3MgaXMgYWJzdHJhY3QiKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkJhc2VVcGRhdGVzCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIHVwZGF0ZShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VVcGRhdGVzX3VwZGF0ZShzZWxmKQpvZkJhc2VVcGRhdGVzX3N3aWdyZWdpc3RlciA9IF9vZi5vZkJhc2VVcGRhdGVzX3N3aWdyZWdpc3RlcgpvZkJhc2VVcGRhdGVzX3N3aWdyZWdpc3RlcihvZkJhc2VVcGRhdGVzKQoKY2xhc3Mgb2ZCYXNlSGFzVGV4dHVyZShfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZCYXNlSGFzVGV4dHVyZSwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZCYXNlSGFzVGV4dHVyZSwgbmFtZSkKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncywgKiprd2FyZ3MpOiByYWlzZSBBdHRyaWJ1dGVFcnJvcigiTm8gY29uc3RydWN0b3IgZGVmaW5lZCAtIGNsYXNzIGlzIGFic3RyYWN0IikKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZCYXNlSGFzVGV4dHVyZQogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBnZXRUZXh0dXJlUmVmZXJlbmNlKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZUhhc1RleHR1cmVfZ2V0VGV4dHVyZVJlZmVyZW5jZShzZWxmKQogICAgZGVmIHNldFVzZVRleHR1cmUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZUhhc1RleHR1cmVfc2V0VXNlVGV4dHVyZShzZWxmLCAqYXJncykKb2ZCYXNlSGFzVGV4dHVyZV9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZCYXNlSGFzVGV4dHVyZV9zd2lncmVnaXN0ZXIKb2ZCYXNlSGFzVGV4dHVyZV9zd2lncmVnaXN0ZXIob2ZCYXNlSGFzVGV4dHVyZSkKCmNsYXNzIG9mQWJzdHJhY3RIYXNQaXhlbHMoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mQWJzdHJhY3RIYXNQaXhlbHMsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mQWJzdHJhY3RIYXNQaXhlbHMsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mQWJzdHJhY3RIYXNQaXhlbHMKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7CiAgICBkZWYgX19pbml0X18oc2VsZik6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mQWJzdHJhY3RIYXNQaXhlbHMoKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwpvZkFic3RyYWN0SGFzUGl4ZWxzX3N3aWdyZWdpc3RlciA9IF9vZi5vZkFic3RyYWN0SGFzUGl4ZWxzX3N3aWdyZWdpc3RlcgpvZkFic3RyYWN0SGFzUGl4ZWxzX3N3aWdyZWdpc3RlcihvZkFic3RyYWN0SGFzUGl4ZWxzKQoKY2xhc3Mgb2ZBYnN0cmFjdEltYWdlKG9mQmFzZURyYXdzLG9mQmFzZUhhc1RleHR1cmUpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mQmFzZURyYXdzLG9mQmFzZUhhc1RleHR1cmVdOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkFic3RyYWN0SW1hZ2UsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mQmFzZURyYXdzLG9mQmFzZUhhc1RleHR1cmVdOiBfX3N3aWdfZ2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfZ2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mQWJzdHJhY3RJbWFnZSwgbmFtZSkKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncywgKiprd2FyZ3MpOiByYWlzZSBBdHRyaWJ1dGVFcnJvcigiTm8gY29uc3RydWN0b3IgZGVmaW5lZCAtIGNsYXNzIGlzIGFic3RyYWN0IikKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZBYnN0cmFjdEltYWdlCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZkFic3RyYWN0SW1hZ2Vfc3dpZ3JlZ2lzdGVyID0gX29mLm9mQWJzdHJhY3RJbWFnZV9zd2lncmVnaXN0ZXIKb2ZBYnN0cmFjdEltYWdlX3N3aWdyZWdpc3RlcihvZkFic3RyYWN0SW1hZ2UpCgpjbGFzcyBvZkJhc2VTb3VuZElucHV0KF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkJhc2VTb3VuZElucHV0LCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkJhc2VTb3VuZElucHV0LCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkJhc2VTb3VuZElucHV0CiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIGF1ZGlvSW4oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVNvdW5kSW5wdXRfYXVkaW9JbihzZWxmLCAqYXJncykKICAgIGRlZiBhdWRpb1JlY2VpdmVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VTb3VuZElucHV0X2F1ZGlvUmVjZWl2ZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pbml0X18oc2VsZik6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mQmFzZVNvdW5kSW5wdXQoKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwpvZkJhc2VTb3VuZElucHV0X3N3aWdyZWdpc3RlciA9IF9vZi5vZkJhc2VTb3VuZElucHV0X3N3aWdyZWdpc3RlcgpvZkJhc2VTb3VuZElucHV0X3N3aWdyZWdpc3RlcihvZkJhc2VTb3VuZElucHV0KQoKY2xhc3Mgb2ZCYXNlU291bmRPdXRwdXQoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mQmFzZVNvdW5kT3V0cHV0LCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkJhc2VTb3VuZE91dHB1dCwgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZCYXNlU291bmRPdXRwdXQKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7CiAgICBkZWYgYXVkaW9PdXQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVNvdW5kT3V0cHV0X2F1ZGlvT3V0KHNlbGYsICphcmdzKQogICAgZGVmIGF1ZGlvUmVxdWVzdGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VTb3VuZE91dHB1dF9hdWRpb1JlcXVlc3RlZChzZWxmLCAqYXJncykKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZCYXNlU291bmRPdXRwdXQoKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwpvZkJhc2VTb3VuZE91dHB1dF9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZCYXNlU291bmRPdXRwdXRfc3dpZ3JlZ2lzdGVyCm9mQmFzZVNvdW5kT3V0cHV0X3N3aWdyZWdpc3RlcihvZkJhc2VTb3VuZE91dHB1dCkKCmNsYXNzIG9mQmFzZVZpZGVvKG9mQmFzZVVwZGF0ZXMpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mQmFzZVVwZGF0ZXNdOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkJhc2VWaWRlbywgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZCYXNlVXBkYXRlc106IF9fc3dpZ19nZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19nZXRtZXRob2RzX18nLHt9KSkKICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZCYXNlVmlkZW8sIG5hbWUpCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKTogcmFpc2UgQXR0cmlidXRlRXJyb3IoIk5vIGNvbnN0cnVjdG9yIGRlZmluZWQgLSBjbGFzcyBpcyBhYnN0cmFjdCIpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mQmFzZVZpZGVvCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIGlzRnJhbWVOZXcoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9faXNGcmFtZU5ldyhzZWxmKQogICAgZGVmIGNsb3NlKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvX2Nsb3NlKHNlbGYpCm9mQmFzZVZpZGVvX3N3aWdyZWdpc3RlciA9IF9vZi5vZkJhc2VWaWRlb19zd2lncmVnaXN0ZXIKb2ZCYXNlVmlkZW9fc3dpZ3JlZ2lzdGVyKG9mQmFzZVZpZGVvKQoKY2xhc3Mgb2ZCYXNlVmlkZW9EcmF3cyhvZkJhc2VWaWRlbyk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZCYXNlVmlkZW9dOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkJhc2VWaWRlb0RyYXdzLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkJhc2VWaWRlb106IF9fc3dpZ19nZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19nZXRtZXRob2RzX18nLHt9KSkKICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZCYXNlVmlkZW9EcmF3cywgbmFtZSkKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncywgKiprd2FyZ3MpOiByYWlzZSBBdHRyaWJ1dGVFcnJvcigiTm8gY29uc3RydWN0b3IgZGVmaW5lZCAtIGNsYXNzIGlzIGFic3RyYWN0IikKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZCYXNlVmlkZW9EcmF3cwogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKb2ZCYXNlVmlkZW9EcmF3c19zd2lncmVnaXN0ZXIgPSBfb2Yub2ZCYXNlVmlkZW9EcmF3c19zd2lncmVnaXN0ZXIKb2ZCYXNlVmlkZW9EcmF3c19zd2lncmVnaXN0ZXIob2ZCYXNlVmlkZW9EcmF3cykKCmNsYXNzIG9mQmFzZVZpZGVvR3JhYmJlcihvZkJhc2VWaWRlbyk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZCYXNlVmlkZW9dOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkJhc2VWaWRlb0dyYWJiZXIsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mQmFzZVZpZGVvXTogX19zd2lnX2dldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX2dldG1ldGhvZHNfXycse30pKQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkJhc2VWaWRlb0dyYWJiZXIsIG5hbWUpCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKTogcmFpc2UgQXR0cmlidXRlRXJyb3IoIk5vIGNvbnN0cnVjdG9yIGRlZmluZWQgLSBjbGFzcyBpcyBhYnN0cmFjdCIpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mQmFzZVZpZGVvR3JhYmJlcgogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBsaXN0RGV2aWNlcyhzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb0dyYWJiZXJfbGlzdERldmljZXMoc2VsZikKICAgIGRlZiBpbml0R3JhYmJlcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9HcmFiYmVyX2luaXRHcmFiYmVyKHNlbGYsICphcmdzKQogICAgZGVmIHVwZGF0ZShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb0dyYWJiZXJfdXBkYXRlKHNlbGYpCiAgICBkZWYgaXNGcmFtZU5ldyhzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb0dyYWJiZXJfaXNGcmFtZU5ldyhzZWxmKQogICAgZGVmIGdldFBpeGVscyhzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb0dyYWJiZXJfZ2V0UGl4ZWxzKHNlbGYpCiAgICBkZWYgY2xvc2Uoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9HcmFiYmVyX2Nsb3NlKHNlbGYpCiAgICBkZWYgZ2V0SGVpZ2h0KHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvR3JhYmJlcl9nZXRIZWlnaHQoc2VsZikKICAgIGRlZiBnZXRXaWR0aChzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb0dyYWJiZXJfZ2V0V2lkdGgoc2VsZikKICAgIGRlZiBzZXRQaXhlbEZvcm1hdChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9HcmFiYmVyX3NldFBpeGVsRm9ybWF0KHNlbGYsICphcmdzKQogICAgZGVmIGdldFBpeGVsRm9ybWF0KHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvR3JhYmJlcl9nZXRQaXhlbEZvcm1hdChzZWxmKQogICAgZGVmIHNldFZlcmJvc2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvR3JhYmJlcl9zZXRWZXJib3NlKHNlbGYsICphcmdzKQogICAgZGVmIHNldERldmljZUlEKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb0dyYWJiZXJfc2V0RGV2aWNlSUQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0RGVzaXJlZEZyYW1lUmF0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9HcmFiYmVyX3NldERlc2lyZWRGcmFtZVJhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgdmlkZW9TZXR0aW5ncyhzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb0dyYWJiZXJfdmlkZW9TZXR0aW5ncyhzZWxmKQpvZkJhc2VWaWRlb0dyYWJiZXJfc3dpZ3JlZ2lzdGVyID0gX29mLm9mQmFzZVZpZGVvR3JhYmJlcl9zd2lncmVnaXN0ZXIKb2ZCYXNlVmlkZW9HcmFiYmVyX3N3aWdyZWdpc3RlcihvZkJhc2VWaWRlb0dyYWJiZXIpCgpjbGFzcyBvZkJhc2VWaWRlb1BsYXllcihvZkJhc2VWaWRlbyk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZCYXNlVmlkZW9dOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkJhc2VWaWRlb1BsYXllciwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZCYXNlVmlkZW9dOiBfX3N3aWdfZ2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfZ2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mQmFzZVZpZGVvUGxheWVyLCBuYW1lKQogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzLCAqKmt3YXJncyk6IHJhaXNlIEF0dHJpYnV0ZUVycm9yKCJObyBjb25zdHJ1Y3RvciBkZWZpbmVkIC0gY2xhc3MgaXMgYWJzdHJhY3QiKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkJhc2VWaWRlb1BsYXllcgogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBsb2FkTW92aWUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvUGxheWVyX2xvYWRNb3ZpZShzZWxmLCAqYXJncykKICAgIGRlZiBjbG9zZShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9jbG9zZShzZWxmKQogICAgZGVmIHVwZGF0ZShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl91cGRhdGUoc2VsZikKICAgIGRlZiBwbGF5KHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvUGxheWVyX3BsYXkoc2VsZikKICAgIGRlZiBzdG9wKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvUGxheWVyX3N0b3Aoc2VsZikKICAgIGRlZiBpc0ZyYW1lTmV3KHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvUGxheWVyX2lzRnJhbWVOZXcoc2VsZikKICAgIGRlZiBnZXRQaXhlbHMoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9QbGF5ZXJfZ2V0UGl4ZWxzKHNlbGYpCiAgICBkZWYgZ2V0VGV4dHVyZShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9nZXRUZXh0dXJlKHNlbGYpCiAgICBkZWYgZ2V0V2lkdGgoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9QbGF5ZXJfZ2V0V2lkdGgoc2VsZikKICAgIGRlZiBnZXRIZWlnaHQoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9QbGF5ZXJfZ2V0SGVpZ2h0KHNlbGYpCiAgICBkZWYgaXNQYXVzZWQoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9QbGF5ZXJfaXNQYXVzZWQoc2VsZikKICAgIGRlZiBpc0xvYWRlZChzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9pc0xvYWRlZChzZWxmKQogICAgZGVmIGlzUGxheWluZyhzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9pc1BsYXlpbmcoc2VsZikKICAgIGRlZiBzZXRQaXhlbEZvcm1hdChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9QbGF5ZXJfc2V0UGl4ZWxGb3JtYXQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0UGl4ZWxGb3JtYXQoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9QbGF5ZXJfZ2V0UGl4ZWxGb3JtYXQoc2VsZikKICAgIGRlZiBnZXRQb3NpdGlvbihzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9nZXRQb3NpdGlvbihzZWxmKQogICAgZGVmIGdldFNwZWVkKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvUGxheWVyX2dldFNwZWVkKHNlbGYpCiAgICBkZWYgZ2V0RHVyYXRpb24oc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9QbGF5ZXJfZ2V0RHVyYXRpb24oc2VsZikKICAgIGRlZiBnZXRJc01vdmllRG9uZShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9nZXRJc01vdmllRG9uZShzZWxmKQogICAgZGVmIHNldFBhdXNlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9QbGF5ZXJfc2V0UGF1c2VkKHNlbGYsICphcmdzKQogICAgZGVmIHNldFBvc2l0aW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9zZXRQb3NpdGlvbihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRWb2x1bWUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvUGxheWVyX3NldFZvbHVtZShzZWxmLCAqYXJncykKICAgIGRlZiBzZXRMb29wU3RhdGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvUGxheWVyX3NldExvb3BTdGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiBzZXRTcGVlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9QbGF5ZXJfc2V0U3BlZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0RnJhbWUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvUGxheWVyX3NldEZyYW1lKHNlbGYsICphcmdzKQogICAgZGVmIGdldEN1cnJlbnRGcmFtZShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9nZXRDdXJyZW50RnJhbWUoc2VsZikKICAgIGRlZiBnZXRUb3RhbE51bUZyYW1lcyhzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9nZXRUb3RhbE51bUZyYW1lcyhzZWxmKQogICAgZGVmIGdldExvb3BTdGF0ZShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9nZXRMb29wU3RhdGUoc2VsZikKICAgIGRlZiBmaXJzdEZyYW1lKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVZpZGVvUGxheWVyX2ZpcnN0RnJhbWUoc2VsZikKICAgIGRlZiBuZXh0RnJhbWUoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlVmlkZW9QbGF5ZXJfbmV4dEZyYW1lKHNlbGYpCiAgICBkZWYgcHJldmlvdXNGcmFtZShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VWaWRlb1BsYXllcl9wcmV2aW91c0ZyYW1lKHNlbGYpCm9mQmFzZVZpZGVvUGxheWVyX3N3aWdyZWdpc3RlciA9IF9vZi5vZkJhc2VWaWRlb1BsYXllcl9zd2lncmVnaXN0ZXIKb2ZCYXNlVmlkZW9QbGF5ZXJfc3dpZ3JlZ2lzdGVyKG9mQmFzZVZpZGVvUGxheWVyKQoKY2xhc3Mgb2ZCYXNlUmVuZGVyZXIoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mQmFzZVJlbmRlcmVyLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkJhc2VSZW5kZXJlciwgbmFtZSkKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncywgKiprd2FyZ3MpOiByYWlzZSBBdHRyaWJ1dGVFcnJvcigiTm8gY29uc3RydWN0b3IgZGVmaW5lZCAtIGNsYXNzIGlzIGFic3RyYWN0IikKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZCYXNlUmVuZGVyZXIKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7CiAgICBkZWYgZ2V0VHlwZShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9nZXRUeXBlKHNlbGYpCiAgICBkZWYgdXBkYXRlKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX3VwZGF0ZShzZWxmKQogICAgZGVmIGRyYXcoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX2RyYXcoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcHVzaFZpZXcoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfcHVzaFZpZXcoc2VsZikKICAgIGRlZiBwb3BWaWV3KHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX3BvcFZpZXcoc2VsZikKICAgIGRlZiB2aWV3cG9ydChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfdmlld3BvcnQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0dXBTY3JlZW5QZXJzcGVjdGl2ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfc2V0dXBTY3JlZW5QZXJzcGVjdGl2ZShzZWxmLCAqYXJncykKICAgIGRlZiBzZXR1cFNjcmVlbk9ydGhvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9zZXR1cFNjcmVlbk9ydGhvKHNlbGYsICphcmdzKQogICAgZGVmIGdldEN1cnJlbnRWaWV3cG9ydChzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9nZXRDdXJyZW50Vmlld3BvcnQoc2VsZikKICAgIGRlZiBnZXRWaWV3cG9ydFdpZHRoKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX2dldFZpZXdwb3J0V2lkdGgoc2VsZikKICAgIGRlZiBnZXRWaWV3cG9ydEhlaWdodChzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9nZXRWaWV3cG9ydEhlaWdodChzZWxmKQogICAgZGVmIHNldENvb3JkSGFuZGVkbmVzcyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfc2V0Q29vcmRIYW5kZWRuZXNzKHNlbGYsICphcmdzKQogICAgZGVmIGdldENvb3JkSGFuZGVkbmVzcyhzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9nZXRDb29yZEhhbmRlZG5lc3Moc2VsZikKICAgIGRlZiBwdXNoTWF0cml4KHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX3B1c2hNYXRyaXgoc2VsZikKICAgIGRlZiBwb3BNYXRyaXgoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfcG9wTWF0cml4KHNlbGYpCiAgICBkZWYgdHJhbnNsYXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl90cmFuc2xhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2NhbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX3NjYWxlKHNlbGYsICphcmdzKQogICAgZGVmIHJvdGF0ZVgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX3JvdGF0ZVgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcm90YXRlWShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfcm90YXRlWShzZWxmLCAqYXJncykKICAgIGRlZiByb3RhdGVaKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9yb3RhdGVaKHNlbGYsICphcmdzKQogICAgZGVmIHJvdGF0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfcm90YXRlKHNlbGYsICphcmdzKQogICAgZGVmIG1hdHJpeE1vZGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX21hdHJpeE1vZGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbG9hZElkZW50aXR5TWF0cml4KHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX2xvYWRJZGVudGl0eU1hdHJpeChzZWxmKQogICAgZGVmIGxvYWRNYXRyaXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX2xvYWRNYXRyaXgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbXVsdE1hdHJpeChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfbXVsdE1hdHJpeChzZWxmLCAqYXJncykKICAgIGRlZiBzZXR1cEdyYXBoaWNEZWZhdWx0cyhzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9zZXR1cEdyYXBoaWNEZWZhdWx0cyhzZWxmKQogICAgZGVmIHNldHVwU2NyZWVuKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX3NldHVwU2NyZWVuKHNlbGYpCiAgICBkZWYgc2V0UmVjdE1vZGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX3NldFJlY3RNb2RlKHNlbGYsICphcmdzKQogICAgZGVmIGdldFJlY3RNb2RlKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX2dldFJlY3RNb2RlKHNlbGYpCiAgICBkZWYgc2V0RmlsbE1vZGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX3NldEZpbGxNb2RlKHNlbGYsICphcmdzKQogICAgZGVmIGdldEZpbGxNb2RlKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX2dldEZpbGxNb2RlKHNlbGYpCiAgICBkZWYgc2V0TGluZVdpZHRoKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9zZXRMaW5lV2lkdGgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0QmxlbmRNb2RlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9zZXRCbGVuZE1vZGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0TGluZVNtb290aGluZyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfc2V0TGluZVNtb290aGluZyhzZWxmLCAqYXJncykKICAgIGRlZiBzZXRDaXJjbGVSZXNvbHV0aW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9zZXRDaXJjbGVSZXNvbHV0aW9uKHNlbGYsICphcmdzKQogICAgZGVmIHNldFNwaGVyZVJlc29sdXRpb24oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX3NldFNwaGVyZVJlc29sdXRpb24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgZW5hYmxlUG9pbnRTcHJpdGVzKHNlbGYpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX2VuYWJsZVBvaW50U3ByaXRlcyhzZWxmKQogICAgZGVmIGRpc2FibGVQb2ludFNwcml0ZXMoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfZGlzYWJsZVBvaW50U3ByaXRlcyhzZWxmKQogICAgZGVmIHNldENvbG9yKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9zZXRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRIZXhDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfc2V0SGV4Q29sb3Ioc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0QmdDb2xvcihzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9nZXRCZ0NvbG9yKHNlbGYpCiAgICBkZWYgYkNsZWFyQmcoc2VsZik6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfYkNsZWFyQmcoc2VsZikKICAgIGRlZiBiYWNrZ3JvdW5kKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9iYWNrZ3JvdW5kKHNlbGYsICphcmdzKQogICAgZGVmIHNldEJhY2tncm91bmRBdXRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9zZXRCYWNrZ3JvdW5kQXV0byhzZWxmLCAqYXJncykKICAgIGRlZiBjbGVhcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfY2xlYXIoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY2xlYXJBbHBoYShzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9jbGVhckFscGhhKHNlbGYpCiAgICBkZWYgZHJhd0xpbmUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX2RyYXdMaW5lKHNlbGYsICphcmdzKQogICAgZGVmIGRyYXdSZWN0YW5nbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZVJlbmRlcmVyX2RyYXdSZWN0YW5nbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZHJhd1RyaWFuZ2xlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9kcmF3VHJpYW5nbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZHJhd0NpcmNsZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCYXNlUmVuZGVyZXJfZHJhd0NpcmNsZShzZWxmLCAqYXJncykKICAgIGRlZiBkcmF3U3BoZXJlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9kcmF3U3BoZXJlKHNlbGYsICphcmdzKQogICAgZGVmIGRyYXdFbGxpcHNlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9kcmF3RWxsaXBzZShzZWxmLCAqYXJncykKICAgIGRlZiBkcmF3U3RyaW5nKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9kcmF3U3RyaW5nKHNlbGYsICphcmdzKQogICAgZGVmIHJlbmRlcnNQYXRoUHJpbWl0aXZlcyhzZWxmKTogcmV0dXJuIF9vZi5vZkJhc2VSZW5kZXJlcl9yZW5kZXJzUGF0aFByaW1pdGl2ZXMoc2VsZikKb2ZCYXNlUmVuZGVyZXJfc3dpZ3JlZ2lzdGVyID0gX29mLm9mQmFzZVJlbmRlcmVyX3N3aWdyZWdpc3RlcgpvZkJhc2VSZW5kZXJlcl9zd2lncmVnaXN0ZXIob2ZCYXNlUmVuZGVyZXIpCgpjbGFzcyBvZkJ1ZmZlcihfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZCdWZmZXIsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mQnVmZmVyLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkJ1ZmZlcigqYXJncykKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mQnVmZmVyCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIHNldChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCdWZmZXJfc2V0KHNlbGYsICphcmdzKQogICAgZGVmIGFwcGVuZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCdWZmZXJfYXBwZW5kKHNlbGYsICphcmdzKQogICAgZGVmIHdyaXRlVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQnVmZmVyX3dyaXRlVG8oc2VsZiwgKmFyZ3MpCiAgICBkZWYgY2xlYXIoc2VsZik6IHJldHVybiBfb2Yub2ZCdWZmZXJfY2xlYXIoc2VsZikKICAgIGRlZiBhbGxvY2F0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZCdWZmZXJfYWxsb2NhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0QmluYXJ5QnVmZmVyKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkJ1ZmZlcl9nZXRCaW5hcnlCdWZmZXIoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0VGV4dChzZWxmKTogcmV0dXJuIF9vZi5vZkJ1ZmZlcl9nZXRUZXh0KHNlbGYpCiAgICBkZWYgc2l6ZShzZWxmKTogcmV0dXJuIF9vZi5vZkJ1ZmZlcl9zaXplKHNlbGYpCiAgICBkZWYgZ2V0TmV4dExpbmUoc2VsZik6IHJldHVybiBfb2Yub2ZCdWZmZXJfZ2V0TmV4dExpbmUoc2VsZikKICAgIGRlZiBnZXRGaXJzdExpbmUoc2VsZik6IHJldHVybiBfb2Yub2ZCdWZmZXJfZ2V0Rmlyc3RMaW5lKHNlbGYpCiAgICBkZWYgaXNMYXN0TGluZShzZWxmKTogcmV0dXJuIF9vZi5vZkJ1ZmZlcl9pc0xhc3RMaW5lKHNlbGYpCiAgICBkZWYgcmVzZXRMaW5lUmVhZGVyKHNlbGYpOiByZXR1cm4gX29mLm9mQnVmZmVyX3Jlc2V0TGluZVJlYWRlcihzZWxmKQpvZkJ1ZmZlcl9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZCdWZmZXJfc3dpZ3JlZ2lzdGVyCm9mQnVmZmVyX3N3aWdyZWdpc3RlcihvZkJ1ZmZlcikKCgpkZWYgb2ZCdWZmZXJGcm9tRmlsZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkJ1ZmZlckZyb21GaWxlKCphcmdzKQpvZkJ1ZmZlckZyb21GaWxlID0gX29mLm9mQnVmZmVyRnJvbUZpbGUKCmRlZiBvZkJ1ZmZlclRvRmlsZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkJ1ZmZlclRvRmlsZSgqYXJncykKb2ZCdWZmZXJUb0ZpbGUgPSBfb2Yub2ZCdWZmZXJUb0ZpbGUKY2xhc3Mgb2ZGaWxlUGF0aChfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZGaWxlUGF0aCwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZGaWxlUGF0aCwgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2dldG1ldGhvZHNfX1siZ2V0RmlsZUV4dCJdID0gbGFtYmRhIHg6IF9vZi5vZkZpbGVQYXRoX2dldEZpbGVFeHQKICAgIGlmIF9uZXdjbGFzczpnZXRGaWxlRXh0ID0gc3RhdGljbWV0aG9kKF9vZi5vZkZpbGVQYXRoX2dldEZpbGVFeHQpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJyZW1vdmVFeHQiXSA9IGxhbWJkYSB4OiBfb2Yub2ZGaWxlUGF0aF9yZW1vdmVFeHQKICAgIGlmIF9uZXdjbGFzczpyZW1vdmVFeHQgPSBzdGF0aWNtZXRob2QoX29mLm9mRmlsZVBhdGhfcmVtb3ZlRXh0KQogICAgX19zd2lnX2dldG1ldGhvZHNfX1siYWRkTGVhZGluZ1NsYXNoIl0gPSBsYW1iZGEgeDogX29mLm9mRmlsZVBhdGhfYWRkTGVhZGluZ1NsYXNoCiAgICBpZiBfbmV3Y2xhc3M6YWRkTGVhZGluZ1NsYXNoID0gc3RhdGljbWV0aG9kKF9vZi5vZkZpbGVQYXRoX2FkZExlYWRpbmdTbGFzaCkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImFkZFRyYWlsaW5nU2xhc2giXSA9IGxhbWJkYSB4OiBfb2Yub2ZGaWxlUGF0aF9hZGRUcmFpbGluZ1NsYXNoCiAgICBpZiBfbmV3Y2xhc3M6YWRkVHJhaWxpbmdTbGFzaCA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlUGF0aF9hZGRUcmFpbGluZ1NsYXNoKQogICAgX19zd2lnX2dldG1ldGhvZHNfX1sicmVtb3ZlVHJhaWxpbmdTbGFzaCJdID0gbGFtYmRhIHg6IF9vZi5vZkZpbGVQYXRoX3JlbW92ZVRyYWlsaW5nU2xhc2gKICAgIGlmIF9uZXdjbGFzczpyZW1vdmVUcmFpbGluZ1NsYXNoID0gc3RhdGljbWV0aG9kKF9vZi5vZkZpbGVQYXRoX3JlbW92ZVRyYWlsaW5nU2xhc2gpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJnZXRQYXRoRm9yRGlyZWN0b3J5Il0gPSBsYW1iZGEgeDogX29mLm9mRmlsZVBhdGhfZ2V0UGF0aEZvckRpcmVjdG9yeQogICAgaWYgX25ld2NsYXNzOmdldFBhdGhGb3JEaXJlY3RvcnkgPSBzdGF0aWNtZXRob2QoX29mLm9mRmlsZVBhdGhfZ2V0UGF0aEZvckRpcmVjdG9yeSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImdldEFic29sdXRlUGF0aCJdID0gbGFtYmRhIHg6IF9vZi5vZkZpbGVQYXRoX2dldEFic29sdXRlUGF0aAogICAgaWYgX25ld2NsYXNzOmdldEFic29sdXRlUGF0aCA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlUGF0aF9nZXRBYnNvbHV0ZVBhdGgpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJpc0Fic29sdXRlIl0gPSBsYW1iZGEgeDogX29mLm9mRmlsZVBhdGhfaXNBYnNvbHV0ZQogICAgaWYgX25ld2NsYXNzOmlzQWJzb2x1dGUgPSBzdGF0aWNtZXRob2QoX29mLm9mRmlsZVBhdGhfaXNBYnNvbHV0ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImdldEZpbGVOYW1lIl0gPSBsYW1iZGEgeDogX29mLm9mRmlsZVBhdGhfZ2V0RmlsZU5hbWUKICAgIGlmIF9uZXdjbGFzczpnZXRGaWxlTmFtZSA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlUGF0aF9nZXRGaWxlTmFtZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImdldEJhc2VOYW1lIl0gPSBsYW1iZGEgeDogX29mLm9mRmlsZVBhdGhfZ2V0QmFzZU5hbWUKICAgIGlmIF9uZXdjbGFzczpnZXRCYXNlTmFtZSA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlUGF0aF9nZXRCYXNlTmFtZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImdldEVuY2xvc2luZ0RpcmVjdG9yeSJdID0gbGFtYmRhIHg6IF9vZi5vZkZpbGVQYXRoX2dldEVuY2xvc2luZ0RpcmVjdG9yeQogICAgaWYgX25ld2NsYXNzOmdldEVuY2xvc2luZ0RpcmVjdG9yeSA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlUGF0aF9nZXRFbmNsb3NpbmdEaXJlY3RvcnkpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJnZXRDdXJyZW50V29ya2luZ0RpcmVjdG9yeSJdID0gbGFtYmRhIHg6IF9vZi5vZkZpbGVQYXRoX2dldEN1cnJlbnRXb3JraW5nRGlyZWN0b3J5CiAgICBpZiBfbmV3Y2xhc3M6Z2V0Q3VycmVudFdvcmtpbmdEaXJlY3RvcnkgPSBzdGF0aWNtZXRob2QoX29mLm9mRmlsZVBhdGhfZ2V0Q3VycmVudFdvcmtpbmdEaXJlY3RvcnkpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJqb2luIl0gPSBsYW1iZGEgeDogX29mLm9mRmlsZVBhdGhfam9pbgogICAgaWYgX25ld2NsYXNzOmpvaW4gPSBzdGF0aWNtZXRob2QoX29mLm9mRmlsZVBhdGhfam9pbikKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImdldEN1cnJlbnRFeGVQYXRoIl0gPSBsYW1iZGEgeDogX29mLm9mRmlsZVBhdGhfZ2V0Q3VycmVudEV4ZVBhdGgKICAgIGlmIF9uZXdjbGFzczpnZXRDdXJyZW50RXhlUGF0aCA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlUGF0aF9nZXRDdXJyZW50RXhlUGF0aCkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImdldEN1cnJlbnRFeGVEaXIiXSA9IGxhbWJkYSB4OiBfb2Yub2ZGaWxlUGF0aF9nZXRDdXJyZW50RXhlRGlyCiAgICBpZiBfbmV3Y2xhc3M6Z2V0Q3VycmVudEV4ZURpciA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlUGF0aF9nZXRDdXJyZW50RXhlRGlyKQogICAgX19zd2lnX2dldG1ldGhvZHNfX1siZ2V0VXNlckhvbWVEaXIiXSA9IGxhbWJkYSB4OiBfb2Yub2ZGaWxlUGF0aF9nZXRVc2VySG9tZURpcgogICAgaWYgX25ld2NsYXNzOmdldFVzZXJIb21lRGlyID0gc3RhdGljbWV0aG9kKF9vZi5vZkZpbGVQYXRoX2dldFVzZXJIb21lRGlyKQogICAgZGVmIF9faW5pdF9fKHNlbGYpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkZpbGVQYXRoKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mRmlsZVBhdGgKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mRmlsZVBhdGhfc3dpZ3JlZ2lzdGVyID0gX29mLm9mRmlsZVBhdGhfc3dpZ3JlZ2lzdGVyCm9mRmlsZVBhdGhfc3dpZ3JlZ2lzdGVyKG9mRmlsZVBhdGgpCgpkZWYgb2ZGaWxlUGF0aF9nZXRGaWxlRXh0KCphcmdzKToKICByZXR1cm4gX29mLm9mRmlsZVBhdGhfZ2V0RmlsZUV4dCgqYXJncykKb2ZGaWxlUGF0aF9nZXRGaWxlRXh0ID0gX29mLm9mRmlsZVBhdGhfZ2V0RmlsZUV4dAoKZGVmIG9mRmlsZVBhdGhfcmVtb3ZlRXh0KCphcmdzKToKICByZXR1cm4gX29mLm9mRmlsZVBhdGhfcmVtb3ZlRXh0KCphcmdzKQpvZkZpbGVQYXRoX3JlbW92ZUV4dCA9IF9vZi5vZkZpbGVQYXRoX3JlbW92ZUV4dAoKZGVmIG9mRmlsZVBhdGhfYWRkTGVhZGluZ1NsYXNoKCphcmdzKToKICByZXR1cm4gX29mLm9mRmlsZVBhdGhfYWRkTGVhZGluZ1NsYXNoKCphcmdzKQpvZkZpbGVQYXRoX2FkZExlYWRpbmdTbGFzaCA9IF9vZi5vZkZpbGVQYXRoX2FkZExlYWRpbmdTbGFzaAoKZGVmIG9mRmlsZVBhdGhfYWRkVHJhaWxpbmdTbGFzaCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkZpbGVQYXRoX2FkZFRyYWlsaW5nU2xhc2goKmFyZ3MpCm9mRmlsZVBhdGhfYWRkVHJhaWxpbmdTbGFzaCA9IF9vZi5vZkZpbGVQYXRoX2FkZFRyYWlsaW5nU2xhc2gKCmRlZiBvZkZpbGVQYXRoX3JlbW92ZVRyYWlsaW5nU2xhc2goKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZGaWxlUGF0aF9yZW1vdmVUcmFpbGluZ1NsYXNoKCphcmdzKQpvZkZpbGVQYXRoX3JlbW92ZVRyYWlsaW5nU2xhc2ggPSBfb2Yub2ZGaWxlUGF0aF9yZW1vdmVUcmFpbGluZ1NsYXNoCgpkZWYgb2ZGaWxlUGF0aF9nZXRQYXRoRm9yRGlyZWN0b3J5KCphcmdzKToKICByZXR1cm4gX29mLm9mRmlsZVBhdGhfZ2V0UGF0aEZvckRpcmVjdG9yeSgqYXJncykKb2ZGaWxlUGF0aF9nZXRQYXRoRm9yRGlyZWN0b3J5ID0gX29mLm9mRmlsZVBhdGhfZ2V0UGF0aEZvckRpcmVjdG9yeQoKZGVmIG9mRmlsZVBhdGhfZ2V0QWJzb2x1dGVQYXRoKCphcmdzKToKICByZXR1cm4gX29mLm9mRmlsZVBhdGhfZ2V0QWJzb2x1dGVQYXRoKCphcmdzKQpvZkZpbGVQYXRoX2dldEFic29sdXRlUGF0aCA9IF9vZi5vZkZpbGVQYXRoX2dldEFic29sdXRlUGF0aAoKZGVmIG9mRmlsZVBhdGhfaXNBYnNvbHV0ZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkZpbGVQYXRoX2lzQWJzb2x1dGUoKmFyZ3MpCm9mRmlsZVBhdGhfaXNBYnNvbHV0ZSA9IF9vZi5vZkZpbGVQYXRoX2lzQWJzb2x1dGUKCmRlZiBvZkZpbGVQYXRoX2dldEZpbGVOYW1lKCphcmdzKToKICByZXR1cm4gX29mLm9mRmlsZVBhdGhfZ2V0RmlsZU5hbWUoKmFyZ3MpCm9mRmlsZVBhdGhfZ2V0RmlsZU5hbWUgPSBfb2Yub2ZGaWxlUGF0aF9nZXRGaWxlTmFtZQoKZGVmIG9mRmlsZVBhdGhfZ2V0QmFzZU5hbWUoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZGaWxlUGF0aF9nZXRCYXNlTmFtZSgqYXJncykKb2ZGaWxlUGF0aF9nZXRCYXNlTmFtZSA9IF9vZi5vZkZpbGVQYXRoX2dldEJhc2VOYW1lCgpkZWYgb2ZGaWxlUGF0aF9nZXRFbmNsb3NpbmdEaXJlY3RvcnkoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZGaWxlUGF0aF9nZXRFbmNsb3NpbmdEaXJlY3RvcnkoKmFyZ3MpCm9mRmlsZVBhdGhfZ2V0RW5jbG9zaW5nRGlyZWN0b3J5ID0gX29mLm9mRmlsZVBhdGhfZ2V0RW5jbG9zaW5nRGlyZWN0b3J5CgpkZWYgb2ZGaWxlUGF0aF9nZXRDdXJyZW50V29ya2luZ0RpcmVjdG9yeSgpOgogIHJldHVybiBfb2Yub2ZGaWxlUGF0aF9nZXRDdXJyZW50V29ya2luZ0RpcmVjdG9yeSgpCm9mRmlsZVBhdGhfZ2V0Q3VycmVudFdvcmtpbmdEaXJlY3RvcnkgPSBfb2Yub2ZGaWxlUGF0aF9nZXRDdXJyZW50V29ya2luZ0RpcmVjdG9yeQoKZGVmIG9mRmlsZVBhdGhfam9pbigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkZpbGVQYXRoX2pvaW4oKmFyZ3MpCm9mRmlsZVBhdGhfam9pbiA9IF9vZi5vZkZpbGVQYXRoX2pvaW4KCmRlZiBvZkZpbGVQYXRoX2dldEN1cnJlbnRFeGVQYXRoKCk6CiAgcmV0dXJuIF9vZi5vZkZpbGVQYXRoX2dldEN1cnJlbnRFeGVQYXRoKCkKb2ZGaWxlUGF0aF9nZXRDdXJyZW50RXhlUGF0aCA9IF9vZi5vZkZpbGVQYXRoX2dldEN1cnJlbnRFeGVQYXRoCgpkZWYgb2ZGaWxlUGF0aF9nZXRDdXJyZW50RXhlRGlyKCk6CiAgcmV0dXJuIF9vZi5vZkZpbGVQYXRoX2dldEN1cnJlbnRFeGVEaXIoKQpvZkZpbGVQYXRoX2dldEN1cnJlbnRFeGVEaXIgPSBfb2Yub2ZGaWxlUGF0aF9nZXRDdXJyZW50RXhlRGlyCgpkZWYgb2ZGaWxlUGF0aF9nZXRVc2VySG9tZURpcigpOgogIHJldHVybiBfb2Yub2ZGaWxlUGF0aF9nZXRVc2VySG9tZURpcigpCm9mRmlsZVBhdGhfZ2V0VXNlckhvbWVEaXIgPSBfb2Yub2ZGaWxlUGF0aF9nZXRVc2VySG9tZURpcgoKY2xhc3Mgb2ZGaWxlKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkZpbGUsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mRmlsZSwgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgUmVmZXJlbmNlID0gX29mLm9mRmlsZV9SZWZlcmVuY2UKICAgIFJlYWRPbmx5ID0gX29mLm9mRmlsZV9SZWFkT25seQogICAgV3JpdGVPbmx5ID0gX29mLm9mRmlsZV9Xcml0ZU9ubHkKICAgIFJlYWRXcml0ZSA9IF9vZi5vZkZpbGVfUmVhZFdyaXRlCiAgICBBcHBlbmQgPSBfb2Yub2ZGaWxlX0FwcGVuZAogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZGaWxlKCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZGaWxlCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIG9wZW4oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmlsZV9vcGVuKHNlbGYsICphcmdzKQogICAgZGVmIGNoYW5nZU1vZGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmlsZV9jaGFuZ2VNb2RlKHNlbGYsICphcmdzKQogICAgZGVmIGNsb3NlKHNlbGYpOiByZXR1cm4gX29mLm9mRmlsZV9jbG9zZShzZWxmKQogICAgZGVmIGNyZWF0ZShzZWxmKTogcmV0dXJuIF9vZi5vZkZpbGVfY3JlYXRlKHNlbGYpCiAgICBkZWYgZXhpc3RzKHNlbGYpOiByZXR1cm4gX29mLm9mRmlsZV9leGlzdHMoc2VsZikKICAgIGRlZiBwYXRoKHNlbGYpOiByZXR1cm4gX29mLm9mRmlsZV9wYXRoKHNlbGYpCiAgICBkZWYgZ2V0RXh0ZW5zaW9uKHNlbGYpOiByZXR1cm4gX29mLm9mRmlsZV9nZXRFeHRlbnNpb24oc2VsZikKICAgIGRlZiBnZXRGaWxlTmFtZShzZWxmKTogcmV0dXJuIF9vZi5vZkZpbGVfZ2V0RmlsZU5hbWUoc2VsZikKICAgIGRlZiBnZXRCYXNlTmFtZShzZWxmKTogcmV0dXJuIF9vZi5vZkZpbGVfZ2V0QmFzZU5hbWUoc2VsZikKICAgIGRlZiBnZXRFbmNsb3NpbmdEaXJlY3Rvcnkoc2VsZik6IHJldHVybiBfb2Yub2ZGaWxlX2dldEVuY2xvc2luZ0RpcmVjdG9yeShzZWxmKQogICAgZGVmIGdldEFic29sdXRlUGF0aChzZWxmKTogcmV0dXJuIF9vZi5vZkZpbGVfZ2V0QWJzb2x1dGVQYXRoKHNlbGYpCiAgICBkZWYgY2FuUmVhZChzZWxmKTogcmV0dXJuIF9vZi5vZkZpbGVfY2FuUmVhZChzZWxmKQogICAgZGVmIGNhbldyaXRlKHNlbGYpOiByZXR1cm4gX29mLm9mRmlsZV9jYW5Xcml0ZShzZWxmKQogICAgZGVmIGNhbkV4ZWN1dGUoc2VsZik6IHJldHVybiBfb2Yub2ZGaWxlX2NhbkV4ZWN1dGUoc2VsZikKICAgIGRlZiBpc0ZpbGUoc2VsZik6IHJldHVybiBfb2Yub2ZGaWxlX2lzRmlsZShzZWxmKQogICAgZGVmIGlzTGluayhzZWxmKTogcmV0dXJuIF9vZi5vZkZpbGVfaXNMaW5rKHNlbGYpCiAgICBkZWYgaXNEaXJlY3Rvcnkoc2VsZik6IHJldHVybiBfb2Yub2ZGaWxlX2lzRGlyZWN0b3J5KHNlbGYpCiAgICBkZWYgaXNEZXZpY2Uoc2VsZik6IHJldHVybiBfb2Yub2ZGaWxlX2lzRGV2aWNlKHNlbGYpCiAgICBkZWYgaXNIaWRkZW4oc2VsZik6IHJldHVybiBfb2Yub2ZGaWxlX2lzSGlkZGVuKHNlbGYpCiAgICBkZWYgc2V0V3JpdGVhYmxlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZpbGVfc2V0V3JpdGVhYmxlKHNlbGYsICphcmdzKQogICAgZGVmIHNldFJlYWRPbmx5KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZpbGVfc2V0UmVhZE9ubHkoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0RXhlY3V0YWJsZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGaWxlX3NldEV4ZWN1dGFibGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY29weVRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZpbGVfY29weVRvKHNlbGYsICphcmdzKQogICAgZGVmIG1vdmVUbyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGaWxlX21vdmVUbyhzZWxmLCAqYXJncykKICAgIGRlZiByZW5hbWVUbyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGaWxlX3JlbmFtZVRvKHNlbGYsICphcmdzKQogICAgZGVmIHJlbW92ZShzZWxmLCByZWN1cnNpdmU9RmFsc2UpOiByZXR1cm4gX29mLm9mRmlsZV9yZW1vdmUoc2VsZiwgcmVjdXJzaXZlKQogICAgZGVmIGdldFNpemUoc2VsZik6IHJldHVybiBfb2Yub2ZGaWxlX2dldFNpemUoc2VsZikKICAgIGRlZiBnZXRQb2NvRmlsZShzZWxmKTogcmV0dXJuIF9vZi5vZkZpbGVfZ2V0UG9jb0ZpbGUoc2VsZikKICAgIGRlZiBfX2VxX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmlsZV9fX2VxX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19uZV9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZpbGVfX19uZV9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fbHRfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGaWxlX19fbHRfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2xlX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmlsZV9fX2xlX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19ndF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZpbGVfX19ndF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fZ2VfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGaWxlX19fZ2VfXyhzZWxmLCAqYXJncykKICAgIGRlZiByZWFkVG9CdWZmZXIoc2VsZik6IHJldHVybiBfb2Yub2ZGaWxlX3JlYWRUb0J1ZmZlcihzZWxmKQogICAgZGVmIHdyaXRlRnJvbUJ1ZmZlcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGaWxlX3dyaXRlRnJvbUJ1ZmZlcihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRGaWxlQnVmZmVyKHNlbGYpOiByZXR1cm4gX29mLm9mRmlsZV9nZXRGaWxlQnVmZmVyKHNlbGYpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJjb3B5RnJvbVRvIl0gPSBsYW1iZGEgeDogX29mLm9mRmlsZV9jb3B5RnJvbVRvCiAgICBpZiBfbmV3Y2xhc3M6Y29weUZyb21UbyA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlX2NvcHlGcm9tVG8pCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJtb3ZlRnJvbVRvIl0gPSBsYW1iZGEgeDogX29mLm9mRmlsZV9tb3ZlRnJvbVRvCiAgICBpZiBfbmV3Y2xhc3M6bW92ZUZyb21UbyA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlX21vdmVGcm9tVG8pCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJkb2VzRmlsZUV4aXN0Il0gPSBsYW1iZGEgeDogX29mLm9mRmlsZV9kb2VzRmlsZUV4aXN0CiAgICBpZiBfbmV3Y2xhc3M6ZG9lc0ZpbGVFeGlzdCA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlX2RvZXNGaWxlRXhpc3QpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJyZW1vdmVGaWxlIl0gPSBsYW1iZGEgeDogX29mLm9mRmlsZV9yZW1vdmVGaWxlCiAgICBpZiBfbmV3Y2xhc3M6cmVtb3ZlRmlsZSA9IHN0YXRpY21ldGhvZChfb2Yub2ZGaWxlX3JlbW92ZUZpbGUpCm9mRmlsZV9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZGaWxlX3N3aWdyZWdpc3RlcgpvZkZpbGVfc3dpZ3JlZ2lzdGVyKG9mRmlsZSkKCmRlZiBvZkZpbGVfY29weUZyb21UbygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkZpbGVfY29weUZyb21UbygqYXJncykKb2ZGaWxlX2NvcHlGcm9tVG8gPSBfb2Yub2ZGaWxlX2NvcHlGcm9tVG8KCmRlZiBvZkZpbGVfbW92ZUZyb21UbygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkZpbGVfbW92ZUZyb21UbygqYXJncykKb2ZGaWxlX21vdmVGcm9tVG8gPSBfb2Yub2ZGaWxlX21vdmVGcm9tVG8KCmRlZiBvZkZpbGVfZG9lc0ZpbGVFeGlzdCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkZpbGVfZG9lc0ZpbGVFeGlzdCgqYXJncykKb2ZGaWxlX2RvZXNGaWxlRXhpc3QgPSBfb2Yub2ZGaWxlX2RvZXNGaWxlRXhpc3QKCmRlZiBvZkZpbGVfcmVtb3ZlRmlsZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkZpbGVfcmVtb3ZlRmlsZSgqYXJncykKb2ZGaWxlX3JlbW92ZUZpbGUgPSBfb2Yub2ZGaWxlX3JlbW92ZUZpbGUKCmNsYXNzIG9mRGlyZWN0b3J5KF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkRpcmVjdG9yeSwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZEaXJlY3RvcnksIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mRGlyZWN0b3J5KCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgZGVmIG9wZW4oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X29wZW4oc2VsZiwgKmFyZ3MpCiAgICBkZWYgY2xvc2Uoc2VsZik6IHJldHVybiBfb2Yub2ZEaXJlY3RvcnlfY2xvc2Uoc2VsZikKICAgIGRlZiBjcmVhdGUoc2VsZiwgcmVjdXJzaXZlPUZhbHNlKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9jcmVhdGUoc2VsZiwgcmVjdXJzaXZlKQogICAgZGVmIGV4aXN0cyhzZWxmKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9leGlzdHMoc2VsZikKICAgIGRlZiBwYXRoKHNlbGYpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X3BhdGgoc2VsZikKICAgIGRlZiBnZXRBYnNvbHV0ZVBhdGgoc2VsZik6IHJldHVybiBfb2Yub2ZEaXJlY3RvcnlfZ2V0QWJzb2x1dGVQYXRoKHNlbGYpCiAgICBkZWYgaXNEaXJlY3Rvcnkoc2VsZik6IHJldHVybiBfb2Yub2ZEaXJlY3RvcnlfaXNEaXJlY3Rvcnkoc2VsZikKICAgIGRlZiBpc0hpZGRlbihzZWxmKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9pc0hpZGRlbihzZWxmKQogICAgZGVmIHNldFdyaXRlYWJsZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZEaXJlY3Rvcnlfc2V0V3JpdGVhYmxlKHNlbGYsICphcmdzKQogICAgZGVmIHNldFJlYWRPbmx5KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9zZXRSZWFkT25seShzZWxmLCAqYXJncykKICAgIGRlZiBzZXRFeGVjdXRhYmxlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9zZXRFeGVjdXRhYmxlKHNlbGYsICphcmdzKQogICAgZGVmIHNldFNob3dIaWRkZW4oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X3NldFNob3dIaWRkZW4oc2VsZiwgKmFyZ3MpCiAgICBkZWYgY29weVRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9jb3B5VG8oc2VsZiwgKmFyZ3MpCiAgICBkZWYgbW92ZVRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9tb3ZlVG8oc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVuYW1lVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X3JlbmFtZVRvKHNlbGYsICphcmdzKQogICAgZGVmIHJlbW92ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZEaXJlY3RvcnlfcmVtb3ZlKHNlbGYsICphcmdzKQogICAgZGVmIGFsbG93RXh0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9hbGxvd0V4dChzZWxmLCAqYXJncykKICAgIGRlZiBsaXN0RGlyKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9saXN0RGlyKHNlbGYsICphcmdzKQogICAgZGVmIGdldE9yaWdpbmFsRGlyZWN0b3J5KHNlbGYpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X2dldE9yaWdpbmFsRGlyZWN0b3J5KHNlbGYpCiAgICBkZWYgZ2V0TmFtZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZEaXJlY3RvcnlfZ2V0TmFtZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRQYXRoKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9nZXRQYXRoKHNlbGYsICphcmdzKQogICAgZGVmIGdldEZpbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X2dldEZpbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0RmlsZXMoc2VsZik6IHJldHVybiBfb2Yub2ZEaXJlY3RvcnlfZ2V0RmlsZXMoc2VsZikKICAgIGRlZiBnZXRTaG93SGlkZGVuKHNlbGYpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X2dldFNob3dIaWRkZW4oc2VsZikKICAgIGRlZiByZXNldChzZWxmKTogcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9yZXNldChzZWxmKQogICAgZGVmIHNvcnQoc2VsZik6IHJldHVybiBfb2Yub2ZEaXJlY3Rvcnlfc29ydChzZWxmKQogICAgZGVmIHNpemUoc2VsZik6IHJldHVybiBfb2Yub2ZEaXJlY3Rvcnlfc2l6ZShzZWxmKQogICAgZGVmIG51bUZpbGVzKHNlbGYpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X251bUZpbGVzKHNlbGYpCiAgICBkZWYgZ2V0UG9jb0ZpbGUoc2VsZik6IHJldHVybiBfb2Yub2ZEaXJlY3RvcnlfZ2V0UG9jb0ZpbGUoc2VsZikKICAgIGRlZiBfX2VxX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X19fZXFfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX25lX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X19fbmVfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2x0X18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X19fbHRfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2xlX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X19fbGVfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2d0X18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X19fZ3RfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2dlX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRGlyZWN0b3J5X19fZ2VfXyhzZWxmLCAqYXJncykKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImNyZWF0ZURpcmVjdG9yeSJdID0gbGFtYmRhIHg6IF9vZi5vZkRpcmVjdG9yeV9jcmVhdGVEaXJlY3RvcnkKICAgIGlmIF9uZXdjbGFzczpjcmVhdGVEaXJlY3RvcnkgPSBzdGF0aWNtZXRob2QoX29mLm9mRGlyZWN0b3J5X2NyZWF0ZURpcmVjdG9yeSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImlzRGlyZWN0b3J5RW1wdHkiXSA9IGxhbWJkYSB4OiBfb2Yub2ZEaXJlY3RvcnlfaXNEaXJlY3RvcnlFbXB0eQogICAgaWYgX25ld2NsYXNzOmlzRGlyZWN0b3J5RW1wdHkgPSBzdGF0aWNtZXRob2QoX29mLm9mRGlyZWN0b3J5X2lzRGlyZWN0b3J5RW1wdHkpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJkb2VzRGlyZWN0b3J5RXhpc3QiXSA9IGxhbWJkYSB4OiBfb2Yub2ZEaXJlY3RvcnlfZG9lc0RpcmVjdG9yeUV4aXN0CiAgICBpZiBfbmV3Y2xhc3M6ZG9lc0RpcmVjdG9yeUV4aXN0ID0gc3RhdGljbWV0aG9kKF9vZi5vZkRpcmVjdG9yeV9kb2VzRGlyZWN0b3J5RXhpc3QpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJyZW1vdmVEaXJlY3RvcnkiXSA9IGxhbWJkYSB4OiBfb2Yub2ZEaXJlY3RvcnlfcmVtb3ZlRGlyZWN0b3J5CiAgICBpZiBfbmV3Y2xhc3M6cmVtb3ZlRGlyZWN0b3J5ID0gc3RhdGljbWV0aG9kKF9vZi5vZkRpcmVjdG9yeV9yZW1vdmVEaXJlY3RvcnkpCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkRpcmVjdG9yeQogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKb2ZEaXJlY3Rvcnlfc3dpZ3JlZ2lzdGVyID0gX29mLm9mRGlyZWN0b3J5X3N3aWdyZWdpc3RlcgpvZkRpcmVjdG9yeV9zd2lncmVnaXN0ZXIob2ZEaXJlY3RvcnkpCgpkZWYgb2ZEaXJlY3RvcnlfY3JlYXRlRGlyZWN0b3J5KCphcmdzKToKICByZXR1cm4gX29mLm9mRGlyZWN0b3J5X2NyZWF0ZURpcmVjdG9yeSgqYXJncykKb2ZEaXJlY3RvcnlfY3JlYXRlRGlyZWN0b3J5ID0gX29mLm9mRGlyZWN0b3J5X2NyZWF0ZURpcmVjdG9yeQoKZGVmIG9mRGlyZWN0b3J5X2lzRGlyZWN0b3J5RW1wdHkoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZEaXJlY3RvcnlfaXNEaXJlY3RvcnlFbXB0eSgqYXJncykKb2ZEaXJlY3RvcnlfaXNEaXJlY3RvcnlFbXB0eSA9IF9vZi5vZkRpcmVjdG9yeV9pc0RpcmVjdG9yeUVtcHR5CgpkZWYgb2ZEaXJlY3RvcnlfZG9lc0RpcmVjdG9yeUV4aXN0KCphcmdzKToKICByZXR1cm4gX29mLm9mRGlyZWN0b3J5X2RvZXNEaXJlY3RvcnlFeGlzdCgqYXJncykKb2ZEaXJlY3RvcnlfZG9lc0RpcmVjdG9yeUV4aXN0ID0gX29mLm9mRGlyZWN0b3J5X2RvZXNEaXJlY3RvcnlFeGlzdAoKZGVmIG9mRGlyZWN0b3J5X3JlbW92ZURpcmVjdG9yeSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkRpcmVjdG9yeV9yZW1vdmVEaXJlY3RvcnkoKmFyZ3MpCm9mRGlyZWN0b3J5X3JlbW92ZURpcmVjdG9yeSA9IF9vZi5vZkRpcmVjdG9yeV9yZW1vdmVEaXJlY3RvcnkKCmNsYXNzIG9mUmVjdGFuZ2xlKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZlJlY3RhbmdsZSwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZSZWN0YW5nbGUsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mUmVjdGFuZ2xlCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZSZWN0YW5nbGUoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgc2V0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV9zZXQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0WChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfc2V0WChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRZKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV9zZXRZKHNlbGYsICphcmdzKQogICAgZGVmIHNldFdpZHRoKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV9zZXRXaWR0aChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRIZWlnaHQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX3NldEhlaWdodChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRQb3NpdGlvbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfc2V0UG9zaXRpb24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0RnJvbUNlbnRlcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfc2V0RnJvbUNlbnRlcihzZWxmLCAqYXJncykKICAgIGRlZiB0cmFuc2xhdGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX3RyYW5zbGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiB0cmFuc2xhdGVYKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV90cmFuc2xhdGVYKHNlbGYsICphcmdzKQogICAgZGVmIHRyYW5zbGF0ZVkoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX3RyYW5zbGF0ZVkoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2NhbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX3NjYWxlKHNlbGYsICphcmdzKQogICAgZGVmIHNjYWxlV2lkdGgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX3NjYWxlV2lkdGgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2NhbGVIZWlnaHQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX3NjYWxlSGVpZ2h0KHNlbGYsICphcmdzKQogICAgZGVmIHNjYWxlRnJvbUNlbnRlcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfc2NhbGVGcm9tQ2VudGVyKHNlbGYsICphcmdzKQogICAgZGVmIHNjYWxlVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX3NjYWxlVG8oc2VsZiwgKmFyZ3MpCiAgICBkZWYgYWxpZ25Ub0hvcnooc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2FsaWduVG9Ib3J6KHNlbGYsICphcmdzKQogICAgZGVmIGFsaWduVG9WZXJ0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV9hbGlnblRvVmVydChzZWxmLCAqYXJncykKICAgIGRlZiBhbGlnblRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV9hbGlnblRvKHNlbGYsICphcmdzKQogICAgZGVmIGluc2lkZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfaW5zaWRlKHNlbGYsICphcmdzKQogICAgZGVmIGludGVyc2VjdHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2ludGVyc2VjdHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ3Jvd1RvSW5jbHVkZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ3Jvd1RvSW5jbHVkZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRJbnRlcnNlY3Rpb24oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2dldEludGVyc2VjdGlvbihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRVbmlvbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0VW5pb24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgc3RhbmRhcmRpemUoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfc3RhbmRhcmRpemUoc2VsZikKICAgIGRlZiBnZXRTdGFuZGFyZGl6ZWQoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0U3RhbmRhcmRpemVkKHNlbGYpCiAgICBkZWYgaXNTdGFuZGFyZGl6ZWQoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfaXNTdGFuZGFyZGl6ZWQoc2VsZikKICAgIGRlZiBnZXRBcmVhKHNlbGYpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2dldEFyZWEoc2VsZikKICAgIGRlZiBnZXRQZXJpbWV0ZXIoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0UGVyaW1ldGVyKHNlbGYpCiAgICBkZWYgZ2V0QXNwZWN0UmF0aW8oc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0QXNwZWN0UmF0aW8oc2VsZikKICAgIGRlZiBpc0VtcHR5KHNlbGYpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2lzRW1wdHkoc2VsZikKICAgIGRlZiBnZXRNaW4oc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0TWluKHNlbGYpCiAgICBkZWYgZ2V0TWF4KHNlbGYpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2dldE1heChzZWxmKQogICAgZGVmIGdldE1pblgoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0TWluWChzZWxmKQogICAgZGVmIGdldE1heFgoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0TWF4WChzZWxmKQogICAgZGVmIGdldE1pblkoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0TWluWShzZWxmKQogICAgZGVmIGdldE1heFkoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0TWF4WShzZWxmKQogICAgZGVmIGdldExlZnQoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0TGVmdChzZWxmKQogICAgZGVmIGdldFJpZ2h0KHNlbGYpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2dldFJpZ2h0KHNlbGYpCiAgICBkZWYgZ2V0VG9wKHNlbGYpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2dldFRvcChzZWxmKQogICAgZGVmIGdldEJvdHRvbShzZWxmKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV9nZXRCb3R0b20oc2VsZikKICAgIGRlZiBnZXRUb3BMZWZ0KHNlbGYpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2dldFRvcExlZnQoc2VsZikKICAgIGRlZiBnZXRUb3BSaWdodChzZWxmKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV9nZXRUb3BSaWdodChzZWxmKQogICAgZGVmIGdldEJvdHRvbUxlZnQoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0Qm90dG9tTGVmdChzZWxmKQogICAgZGVmIGdldEJvdHRvbVJpZ2h0KHNlbGYpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2dldEJvdHRvbVJpZ2h0KHNlbGYpCiAgICBkZWYgZ2V0SG9yekFuY2hvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0SG9yekFuY2hvcihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRWZXJ0QW5jaG9yKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV9nZXRWZXJ0QW5jaG9yKHNlbGYsICphcmdzKQogICAgZGVmIGdldFBvc2l0aW9uKHNlbGYpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX2dldFBvc2l0aW9uKHNlbGYpCiAgICBkZWYgZ2V0UG9zaXRpb25SZWYoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0UG9zaXRpb25SZWYoc2VsZikKICAgIGRlZiBnZXRDZW50ZXIoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0Q2VudGVyKHNlbGYpCiAgICBkZWYgZ2V0WChzZWxmKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV9nZXRYKHNlbGYpCiAgICBkZWYgZ2V0WShzZWxmKTogcmV0dXJuIF9vZi5vZlJlY3RhbmdsZV9nZXRZKHNlbGYpCiAgICBkZWYgZ2V0V2lkdGgoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0V2lkdGgoc2VsZikKICAgIGRlZiBnZXRIZWlnaHQoc2VsZik6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfZ2V0SGVpZ2h0KHNlbGYpCiAgICBkZWYgX19hZGRfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZSZWN0YW5nbGVfX19hZGRfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2VxX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX19fZXFfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX25lX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUmVjdGFuZ2xlX19fbmVfXyhzZWxmLCAqYXJncykKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInBvc2l0aW9uIl0gPSBfb2Yub2ZSZWN0YW5nbGVfcG9zaXRpb25fc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJwb3NpdGlvbiJdID0gX29mLm9mUmVjdGFuZ2xlX3Bvc2l0aW9uX2dldAogICAgaWYgX25ld2NsYXNzOnBvc2l0aW9uID0gX3N3aWdfcHJvcGVydHkoX29mLm9mUmVjdGFuZ2xlX3Bvc2l0aW9uX2dldCwgX29mLm9mUmVjdGFuZ2xlX3Bvc2l0aW9uX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bIngiXSA9IF9vZi5vZlJlY3RhbmdsZV94X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sieCJdID0gX29mLm9mUmVjdGFuZ2xlX3hfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6eCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlJlY3RhbmdsZV94X2dldCwgX29mLm9mUmVjdGFuZ2xlX3hfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sieSJdID0gX29mLm9mUmVjdGFuZ2xlX3lfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ5Il0gPSBfb2Yub2ZSZWN0YW5nbGVfeV9nZXQKICAgIGlmIF9uZXdjbGFzczp5ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mUmVjdGFuZ2xlX3lfZ2V0LCBfb2Yub2ZSZWN0YW5nbGVfeV9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ3aWR0aCJdID0gX29mLm9mUmVjdGFuZ2xlX3dpZHRoX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sid2lkdGgiXSA9IF9vZi5vZlJlY3RhbmdsZV93aWR0aF9nZXQKICAgIGlmIF9uZXdjbGFzczp3aWR0aCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlJlY3RhbmdsZV93aWR0aF9nZXQsIF9vZi5vZlJlY3RhbmdsZV93aWR0aF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJoZWlnaHQiXSA9IF9vZi5vZlJlY3RhbmdsZV9oZWlnaHRfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJoZWlnaHQiXSA9IF9vZi5vZlJlY3RhbmdsZV9oZWlnaHRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6aGVpZ2h0ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mUmVjdGFuZ2xlX2hlaWdodF9nZXQsIF9vZi5vZlJlY3RhbmdsZV9oZWlnaHRfc2V0KQpvZlJlY3RhbmdsZV9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZSZWN0YW5nbGVfc3dpZ3JlZ2lzdGVyCm9mUmVjdGFuZ2xlX3N3aWdyZWdpc3RlcihvZlJlY3RhbmdsZSkKCmNsYXNzIG9mU2VyaWFsRGV2aWNlSW5mbyhfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZTZXJpYWxEZXZpY2VJbmZvLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlNlcmlhbERldmljZUluZm8sIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mU2VyaWFsRGV2aWNlSW5mbygqYXJncykKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIGRlZiBnZXREZXZpY2VQYXRoKHNlbGYpOiByZXR1cm4gX29mLm9mU2VyaWFsRGV2aWNlSW5mb19nZXREZXZpY2VQYXRoKHNlbGYpCiAgICBkZWYgZ2V0RGV2aWNlTmFtZShzZWxmKTogcmV0dXJuIF9vZi5vZlNlcmlhbERldmljZUluZm9fZ2V0RGV2aWNlTmFtZShzZWxmKQogICAgZGVmIGdldERldmljZUlEKHNlbGYpOiByZXR1cm4gX29mLm9mU2VyaWFsRGV2aWNlSW5mb19nZXREZXZpY2VJRChzZWxmKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZTZXJpYWxEZXZpY2VJbmZvCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZlNlcmlhbERldmljZUluZm9fc3dpZ3JlZ2lzdGVyID0gX29mLm9mU2VyaWFsRGV2aWNlSW5mb19zd2lncmVnaXN0ZXIKb2ZTZXJpYWxEZXZpY2VJbmZvX3N3aWdyZWdpc3RlcihvZlNlcmlhbERldmljZUluZm8pCgpjbGFzcyBvZlN0eWxlKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZlN0eWxlLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlN0eWxlLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZik6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mU3R5bGUoKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZTdHlsZQogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImNvbG9yIl0gPSBfb2Yub2ZTdHlsZV9jb2xvcl9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImNvbG9yIl0gPSBfb2Yub2ZTdHlsZV9jb2xvcl9nZXQKICAgIGlmIF9uZXdjbGFzczpjb2xvciA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlN0eWxlX2NvbG9yX2dldCwgX29mLm9mU3R5bGVfY29sb3Jfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siYmdDb2xvciJdID0gX29mLm9mU3R5bGVfYmdDb2xvcl9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImJnQ29sb3IiXSA9IF9vZi5vZlN0eWxlX2JnQ29sb3JfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6YmdDb2xvciA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlN0eWxlX2JnQ29sb3JfZ2V0LCBfb2Yub2ZTdHlsZV9iZ0NvbG9yX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInBvbHlNb2RlIl0gPSBfb2Yub2ZTdHlsZV9wb2x5TW9kZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInBvbHlNb2RlIl0gPSBfb2Yub2ZTdHlsZV9wb2x5TW9kZV9nZXQKICAgIGlmIF9uZXdjbGFzczpwb2x5TW9kZSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlN0eWxlX3BvbHlNb2RlX2dldCwgX29mLm9mU3R5bGVfcG9seU1vZGVfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sicmVjdE1vZGUiXSA9IF9vZi5vZlN0eWxlX3JlY3RNb2RlX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sicmVjdE1vZGUiXSA9IF9vZi5vZlN0eWxlX3JlY3RNb2RlX2dldAogICAgaWYgX25ld2NsYXNzOnJlY3RNb2RlID0gX3N3aWdfcHJvcGVydHkoX29mLm9mU3R5bGVfcmVjdE1vZGVfZ2V0LCBfb2Yub2ZTdHlsZV9yZWN0TW9kZV9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJiRmlsbCJdID0gX29mLm9mU3R5bGVfYkZpbGxfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJiRmlsbCJdID0gX29mLm9mU3R5bGVfYkZpbGxfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6YkZpbGwgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZTdHlsZV9iRmlsbF9nZXQsIF9vZi5vZlN0eWxlX2JGaWxsX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImRyYXdCaXRtYXBNb2RlIl0gPSBfb2Yub2ZTdHlsZV9kcmF3Qml0bWFwTW9kZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImRyYXdCaXRtYXBNb2RlIl0gPSBfb2Yub2ZTdHlsZV9kcmF3Qml0bWFwTW9kZV9nZXQKICAgIGlmIF9uZXdjbGFzczpkcmF3Qml0bWFwTW9kZSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlN0eWxlX2RyYXdCaXRtYXBNb2RlX2dldCwgX29mLm9mU3R5bGVfZHJhd0JpdG1hcE1vZGVfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siYmxlbmRpbmdNb2RlIl0gPSBfb2Yub2ZTdHlsZV9ibGVuZGluZ01vZGVfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJibGVuZGluZ01vZGUiXSA9IF9vZi5vZlN0eWxlX2JsZW5kaW5nTW9kZV9nZXQKICAgIGlmIF9uZXdjbGFzczpibGVuZGluZ01vZGUgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZTdHlsZV9ibGVuZGluZ01vZGVfZ2V0LCBfb2Yub2ZTdHlsZV9ibGVuZGluZ01vZGVfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sic21vb3RoaW5nIl0gPSBfb2Yub2ZTdHlsZV9zbW9vdGhpbmdfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJzbW9vdGhpbmciXSA9IF9vZi5vZlN0eWxlX3Ntb290aGluZ19nZXQKICAgIGlmIF9uZXdjbGFzczpzbW9vdGhpbmcgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZTdHlsZV9zbW9vdGhpbmdfZ2V0LCBfb2Yub2ZTdHlsZV9zbW9vdGhpbmdfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siY2lyY2xlUmVzb2x1dGlvbiJdID0gX29mLm9mU3R5bGVfY2lyY2xlUmVzb2x1dGlvbl9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImNpcmNsZVJlc29sdXRpb24iXSA9IF9vZi5vZlN0eWxlX2NpcmNsZVJlc29sdXRpb25fZ2V0CiAgICBpZiBfbmV3Y2xhc3M6Y2lyY2xlUmVzb2x1dGlvbiA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlN0eWxlX2NpcmNsZVJlc29sdXRpb25fZ2V0LCBfb2Yub2ZTdHlsZV9jaXJjbGVSZXNvbHV0aW9uX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInNwaGVyZVJlc29sdXRpb24iXSA9IF9vZi5vZlN0eWxlX3NwaGVyZVJlc29sdXRpb25fc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJzcGhlcmVSZXNvbHV0aW9uIl0gPSBfb2Yub2ZTdHlsZV9zcGhlcmVSZXNvbHV0aW9uX2dldAogICAgaWYgX25ld2NsYXNzOnNwaGVyZVJlc29sdXRpb24gPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZTdHlsZV9zcGhlcmVSZXNvbHV0aW9uX2dldCwgX29mLm9mU3R5bGVfc3BoZXJlUmVzb2x1dGlvbl9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJjdXJ2ZVJlc29sdXRpb24iXSA9IF9vZi5vZlN0eWxlX2N1cnZlUmVzb2x1dGlvbl9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImN1cnZlUmVzb2x1dGlvbiJdID0gX29mLm9mU3R5bGVfY3VydmVSZXNvbHV0aW9uX2dldAogICAgaWYgX25ld2NsYXNzOmN1cnZlUmVzb2x1dGlvbiA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlN0eWxlX2N1cnZlUmVzb2x1dGlvbl9nZXQsIF9vZi5vZlN0eWxlX2N1cnZlUmVzb2x1dGlvbl9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJsaW5lV2lkdGgiXSA9IF9vZi5vZlN0eWxlX2xpbmVXaWR0aF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImxpbmVXaWR0aCJdID0gX29mLm9mU3R5bGVfbGluZVdpZHRoX2dldAogICAgaWYgX25ld2NsYXNzOmxpbmVXaWR0aCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlN0eWxlX2xpbmVXaWR0aF9nZXQsIF9vZi5vZlN0eWxlX2xpbmVXaWR0aF9zZXQpCm9mU3R5bGVfc3dpZ3JlZ2lzdGVyID0gX29mLm9mU3R5bGVfc3dpZ3JlZ2lzdGVyCm9mU3R5bGVfc3dpZ3JlZ2lzdGVyKG9mU3R5bGUpCgpjbGFzcyBvZkNvbG9yKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkNvbG9yLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkNvbG9yLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkNvbG9yCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZDb2xvcigqYXJncykKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImZyb21Ic2IiXSA9IGxhbWJkYSB4OiBfb2Yub2ZDb2xvcl9mcm9tSHNiCiAgICBpZiBfbmV3Y2xhc3M6ZnJvbUhzYiA9IHN0YXRpY21ldGhvZChfb2Yub2ZDb2xvcl9mcm9tSHNiKQogICAgX19zd2lnX2dldG1ldGhvZHNfX1siZnJvbUhleCJdID0gbGFtYmRhIHg6IF9vZi5vZkNvbG9yX2Zyb21IZXgKICAgIGlmIF9uZXdjbGFzczpmcm9tSGV4ID0gc3RhdGljbWV0aG9kKF9vZi5vZkNvbG9yX2Zyb21IZXgpCiAgICBkZWYgc2V0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNvbG9yX3NldChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRIZXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ29sb3Jfc2V0SGV4KHNlbGYsICphcmdzKQogICAgZGVmIGdldEhleChzZWxmKTogcmV0dXJuIF9vZi5vZkNvbG9yX2dldEhleChzZWxmKQogICAgZGVmIGNsYW1wKHNlbGYpOiByZXR1cm4gX29mLm9mQ29sb3JfY2xhbXAoc2VsZikKICAgIGRlZiBpbnZlcnQoc2VsZik6IHJldHVybiBfb2Yub2ZDb2xvcl9pbnZlcnQoc2VsZikKICAgIGRlZiBub3JtYWxpemUoc2VsZik6IHJldHVybiBfb2Yub2ZDb2xvcl9ub3JtYWxpemUoc2VsZikKICAgIGRlZiBsZXJwKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNvbG9yX2xlcnAoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0Q2xhbXBlZChzZWxmKTogcmV0dXJuIF9vZi5vZkNvbG9yX2dldENsYW1wZWQoc2VsZikKICAgIGRlZiBnZXRJbnZlcnRlZChzZWxmKTogcmV0dXJuIF9vZi5vZkNvbG9yX2dldEludmVydGVkKHNlbGYpCiAgICBkZWYgZ2V0Tm9ybWFsaXplZChzZWxmKTogcmV0dXJuIF9vZi5vZkNvbG9yX2dldE5vcm1hbGl6ZWQoc2VsZikKICAgIGRlZiBnZXRMZXJwZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ29sb3JfZ2V0TGVycGVkKHNlbGYsICphcmdzKQogICAgZGVmIGdldEh1ZShzZWxmKTogcmV0dXJuIF9vZi5vZkNvbG9yX2dldEh1ZShzZWxmKQogICAgZGVmIGdldFNhdHVyYXRpb24oc2VsZik6IHJldHVybiBfb2Yub2ZDb2xvcl9nZXRTYXR1cmF0aW9uKHNlbGYpCiAgICBkZWYgZ2V0QnJpZ2h0bmVzcyhzZWxmKTogcmV0dXJuIF9vZi5vZkNvbG9yX2dldEJyaWdodG5lc3Moc2VsZikKICAgIGRlZiBnZXRMaWdodG5lc3Moc2VsZik6IHJldHVybiBfb2Yub2ZDb2xvcl9nZXRMaWdodG5lc3Moc2VsZikKICAgIGRlZiBnZXRIc2Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ29sb3JfZ2V0SHNiKHNlbGYsICphcmdzKQogICAgZGVmIHNldEh1ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZDb2xvcl9zZXRIdWUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0U2F0dXJhdGlvbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZDb2xvcl9zZXRTYXR1cmF0aW9uKHNlbGYsICphcmdzKQogICAgZGVmIHNldEJyaWdodG5lc3Moc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ29sb3Jfc2V0QnJpZ2h0bmVzcyhzZWxmLCAqYXJncykKICAgIGRlZiBzZXRIc2Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ29sb3Jfc2V0SHNiKHNlbGYsICphcmdzKQogICAgZGVmIF9fZXFfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZDb2xvcl9fX2VxX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19uZV9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNvbG9yX19fbmVfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2FkZF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNvbG9yX19fYWRkX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pYWRkX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ29sb3JfX19pYWRkX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19zdWJfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZDb2xvcl9fX3N1Yl9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faXN1Yl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNvbG9yX19faXN1Yl9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fbXVsX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ29sb3JfX19tdWxfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2ltdWxfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZDb2xvcl9fX2ltdWxfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2Rpdl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNvbG9yX19fZGl2X18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pZGl2X18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ29sb3JfX19pZGl2X18oc2VsZiwgKmFyZ3MpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJsaW1pdCJdID0gbGFtYmRhIHg6IF9vZi5vZkNvbG9yX2xpbWl0CiAgICBpZiBfbmV3Y2xhc3M6bGltaXQgPSBzdGF0aWNtZXRob2QoX29mLm9mQ29sb3JfbGltaXQpCm9mQ29sb3Jfc3dpZ3JlZ2lzdGVyID0gX29mLm9mQ29sb3Jfc3dpZ3JlZ2lzdGVyCm9mQ29sb3Jfc3dpZ3JlZ2lzdGVyKG9mQ29sb3IpCgpkZWYgb2ZDb2xvcl9mcm9tSHNiKCphcmdzKToKICByZXR1cm4gX29mLm9mQ29sb3JfZnJvbUhzYigqYXJncykKb2ZDb2xvcl9mcm9tSHNiID0gX29mLm9mQ29sb3JfZnJvbUhzYgoKZGVmIG9mQ29sb3JfZnJvbUhleCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkNvbG9yX2Zyb21IZXgoKmFyZ3MpCm9mQ29sb3JfZnJvbUhleCA9IF9vZi5vZkNvbG9yX2Zyb21IZXgKY3ZhciA9IF9vZi5jdmFyCm9mQ29sb3Iud2hpdGUgPSBfb2YuY3Zhci5vZkNvbG9yX3doaXRlCm9mQ29sb3IuZ3JheSA9IF9vZi5jdmFyLm9mQ29sb3JfZ3JheQpvZkNvbG9yLmJsYWNrID0gX29mLmN2YXIub2ZDb2xvcl9ibGFjawpvZkNvbG9yLnJlZCA9IF9vZi5jdmFyLm9mQ29sb3JfcmVkCm9mQ29sb3IuZ3JlZW4gPSBfb2YuY3Zhci5vZkNvbG9yX2dyZWVuCm9mQ29sb3IuYmx1ZSA9IF9vZi5jdmFyLm9mQ29sb3JfYmx1ZQpvZkNvbG9yLmN5YW4gPSBfb2YuY3Zhci5vZkNvbG9yX2N5YW4Kb2ZDb2xvci5tYWdlbnRhID0gX29mLmN2YXIub2ZDb2xvcl9tYWdlbnRhCm9mQ29sb3IueWVsbG93ID0gX29mLmN2YXIub2ZDb2xvcl95ZWxsb3cKb2ZDb2xvci5hbGljZUJsdWUgPSBfb2YuY3Zhci5vZkNvbG9yX2FsaWNlQmx1ZQpvZkNvbG9yLmFudGlxdWVXaGl0ZSA9IF9vZi5jdmFyLm9mQ29sb3JfYW50aXF1ZVdoaXRlCm9mQ29sb3IuYXF1YSA9IF9vZi5jdmFyLm9mQ29sb3JfYXF1YQpvZkNvbG9yLmFxdWFtYXJpbmUgPSBfb2YuY3Zhci5vZkNvbG9yX2FxdWFtYXJpbmUKb2ZDb2xvci5henVyZSA9IF9vZi5jdmFyLm9mQ29sb3JfYXp1cmUKb2ZDb2xvci5iZWlnZSA9IF9vZi5jdmFyLm9mQ29sb3JfYmVpZ2UKb2ZDb2xvci5iaXNxdWUgPSBfb2YuY3Zhci5vZkNvbG9yX2Jpc3F1ZQpvZkNvbG9yLmJsYW5jaGVkQWxtb25kID0gX29mLmN2YXIub2ZDb2xvcl9ibGFuY2hlZEFsbW9uZApvZkNvbG9yLmJsdWVWaW9sZXQgPSBfb2YuY3Zhci5vZkNvbG9yX2JsdWVWaW9sZXQKb2ZDb2xvci5icm93biA9IF9vZi5jdmFyLm9mQ29sb3JfYnJvd24Kb2ZDb2xvci5idXJseVdvb2QgPSBfb2YuY3Zhci5vZkNvbG9yX2J1cmx5V29vZApvZkNvbG9yLmNhZGV0Qmx1ZSA9IF9vZi5jdmFyLm9mQ29sb3JfY2FkZXRCbHVlCm9mQ29sb3IuY2hhcnRyZXVzZSA9IF9vZi5jdmFyLm9mQ29sb3JfY2hhcnRyZXVzZQpvZkNvbG9yLmNob2NvbGF0ZSA9IF9vZi5jdmFyLm9mQ29sb3JfY2hvY29sYXRlCm9mQ29sb3IuY29yYWwgPSBfb2YuY3Zhci5vZkNvbG9yX2NvcmFsCm9mQ29sb3IuY29ybmZsb3dlckJsdWUgPSBfb2YuY3Zhci5vZkNvbG9yX2Nvcm5mbG93ZXJCbHVlCm9mQ29sb3IuY29ybnNpbGsgPSBfb2YuY3Zhci5vZkNvbG9yX2Nvcm5zaWxrCm9mQ29sb3IuY3JpbXNvbiA9IF9vZi5jdmFyLm9mQ29sb3JfY3JpbXNvbgpvZkNvbG9yLmRhcmtCbHVlID0gX29mLmN2YXIub2ZDb2xvcl9kYXJrQmx1ZQpvZkNvbG9yLmRhcmtDeWFuID0gX29mLmN2YXIub2ZDb2xvcl9kYXJrQ3lhbgpvZkNvbG9yLmRhcmtHb2xkZW5Sb2QgPSBfb2YuY3Zhci5vZkNvbG9yX2RhcmtHb2xkZW5Sb2QKb2ZDb2xvci5kYXJrR3JheSA9IF9vZi5jdmFyLm9mQ29sb3JfZGFya0dyYXkKb2ZDb2xvci5kYXJrR3JleSA9IF9vZi5jdmFyLm9mQ29sb3JfZGFya0dyZXkKb2ZDb2xvci5kYXJrR3JlZW4gPSBfb2YuY3Zhci5vZkNvbG9yX2RhcmtHcmVlbgpvZkNvbG9yLmRhcmtLaGFraSA9IF9vZi5jdmFyLm9mQ29sb3JfZGFya0toYWtpCm9mQ29sb3IuZGFya01hZ2VudGEgPSBfb2YuY3Zhci5vZkNvbG9yX2RhcmtNYWdlbnRhCm9mQ29sb3IuZGFya09saXZlR3JlZW4gPSBfb2YuY3Zhci5vZkNvbG9yX2RhcmtPbGl2ZUdyZWVuCm9mQ29sb3IuZGFya29yYW5nZSA9IF9vZi5jdmFyLm9mQ29sb3JfZGFya29yYW5nZQpvZkNvbG9yLmRhcmtPcmNoaWQgPSBfb2YuY3Zhci5vZkNvbG9yX2RhcmtPcmNoaWQKb2ZDb2xvci5kYXJrUmVkID0gX29mLmN2YXIub2ZDb2xvcl9kYXJrUmVkCm9mQ29sb3IuZGFya1NhbG1vbiA9IF9vZi5jdmFyLm9mQ29sb3JfZGFya1NhbG1vbgpvZkNvbG9yLmRhcmtTZWFHcmVlbiA9IF9vZi5jdmFyLm9mQ29sb3JfZGFya1NlYUdyZWVuCm9mQ29sb3IuZGFya1NsYXRlQmx1ZSA9IF9vZi5jdmFyLm9mQ29sb3JfZGFya1NsYXRlQmx1ZQpvZkNvbG9yLmRhcmtTbGF0ZUdyYXkgPSBfb2YuY3Zhci5vZkNvbG9yX2RhcmtTbGF0ZUdyYXkKb2ZDb2xvci5kYXJrU2xhdGVHcmV5ID0gX29mLmN2YXIub2ZDb2xvcl9kYXJrU2xhdGVHcmV5Cm9mQ29sb3IuZGFya1R1cnF1b2lzZSA9IF9vZi5jdmFyLm9mQ29sb3JfZGFya1R1cnF1b2lzZQpvZkNvbG9yLmRhcmtWaW9sZXQgPSBfb2YuY3Zhci5vZkNvbG9yX2RhcmtWaW9sZXQKb2ZDb2xvci5kZWVwUGluayA9IF9vZi5jdmFyLm9mQ29sb3JfZGVlcFBpbmsKb2ZDb2xvci5kZWVwU2t5Qmx1ZSA9IF9vZi5jdmFyLm9mQ29sb3JfZGVlcFNreUJsdWUKb2ZDb2xvci5kaW1HcmF5ID0gX29mLmN2YXIub2ZDb2xvcl9kaW1HcmF5Cm9mQ29sb3IuZGltR3JleSA9IF9vZi5jdmFyLm9mQ29sb3JfZGltR3JleQpvZkNvbG9yLmRvZGdlckJsdWUgPSBfb2YuY3Zhci5vZkNvbG9yX2RvZGdlckJsdWUKb2ZDb2xvci5maXJlQnJpY2sgPSBfb2YuY3Zhci5vZkNvbG9yX2ZpcmVCcmljawpvZkNvbG9yLmZsb3JhbFdoaXRlID0gX29mLmN2YXIub2ZDb2xvcl9mbG9yYWxXaGl0ZQpvZkNvbG9yLmZvcmVzdEdyZWVuID0gX29mLmN2YXIub2ZDb2xvcl9mb3Jlc3RHcmVlbgpvZkNvbG9yLmZ1Y2hzaWEgPSBfb2YuY3Zhci5vZkNvbG9yX2Z1Y2hzaWEKb2ZDb2xvci5nYWluc2Jvcm8gPSBfb2YuY3Zhci5vZkNvbG9yX2dhaW5zYm9ybwpvZkNvbG9yLmdob3N0V2hpdGUgPSBfb2YuY3Zhci5vZkNvbG9yX2dob3N0V2hpdGUKb2ZDb2xvci5nb2xkID0gX29mLmN2YXIub2ZDb2xvcl9nb2xkCm9mQ29sb3IuZ29sZGVuUm9kID0gX29mLmN2YXIub2ZDb2xvcl9nb2xkZW5Sb2QKb2ZDb2xvci5ncmV5ID0gX29mLmN2YXIub2ZDb2xvcl9ncmV5Cm9mQ29sb3IuZ3JlZW5ZZWxsb3cgPSBfb2YuY3Zhci5vZkNvbG9yX2dyZWVuWWVsbG93Cm9mQ29sb3IuaG9uZXlEZXcgPSBfb2YuY3Zhci5vZkNvbG9yX2hvbmV5RGV3Cm9mQ29sb3IuaG90UGluayA9IF9vZi5jdmFyLm9mQ29sb3JfaG90UGluawpvZkNvbG9yLmluZGlhblJlZCA9IF9vZi5jdmFyLm9mQ29sb3JfaW5kaWFuUmVkCm9mQ29sb3IuaW5kaWdvID0gX29mLmN2YXIub2ZDb2xvcl9pbmRpZ28Kb2ZDb2xvci5pdm9yeSA9IF9vZi5jdmFyLm9mQ29sb3JfaXZvcnkKb2ZDb2xvci5raGFraSA9IF9vZi5jdmFyLm9mQ29sb3Jfa2hha2kKb2ZDb2xvci5sYXZlbmRlciA9IF9vZi5jdmFyLm9mQ29sb3JfbGF2ZW5kZXIKb2ZDb2xvci5sYXZlbmRlckJsdXNoID0gX29mLmN2YXIub2ZDb2xvcl9sYXZlbmRlckJsdXNoCm9mQ29sb3IubGF3bkdyZWVuID0gX29mLmN2YXIub2ZDb2xvcl9sYXduR3JlZW4Kb2ZDb2xvci5sZW1vbkNoaWZmb24gPSBfb2YuY3Zhci5vZkNvbG9yX2xlbW9uQ2hpZmZvbgpvZkNvbG9yLmxpZ2h0Qmx1ZSA9IF9vZi5jdmFyLm9mQ29sb3JfbGlnaHRCbHVlCm9mQ29sb3IubGlnaHRDb3JhbCA9IF9vZi5jdmFyLm9mQ29sb3JfbGlnaHRDb3JhbApvZkNvbG9yLmxpZ2h0Q3lhbiA9IF9vZi5jdmFyLm9mQ29sb3JfbGlnaHRDeWFuCm9mQ29sb3IubGlnaHRHb2xkZW5Sb2RZZWxsb3cgPSBfb2YuY3Zhci5vZkNvbG9yX2xpZ2h0R29sZGVuUm9kWWVsbG93Cm9mQ29sb3IubGlnaHRHcmF5ID0gX29mLmN2YXIub2ZDb2xvcl9saWdodEdyYXkKb2ZDb2xvci5saWdodEdyZXkgPSBfb2YuY3Zhci5vZkNvbG9yX2xpZ2h0R3JleQpvZkNvbG9yLmxpZ2h0R3JlZW4gPSBfb2YuY3Zhci5vZkNvbG9yX2xpZ2h0R3JlZW4Kb2ZDb2xvci5saWdodFBpbmsgPSBfb2YuY3Zhci5vZkNvbG9yX2xpZ2h0UGluawpvZkNvbG9yLmxpZ2h0U2FsbW9uID0gX29mLmN2YXIub2ZDb2xvcl9saWdodFNhbG1vbgpvZkNvbG9yLmxpZ2h0U2VhR3JlZW4gPSBfb2YuY3Zhci5vZkNvbG9yX2xpZ2h0U2VhR3JlZW4Kb2ZDb2xvci5saWdodFNreUJsdWUgPSBfb2YuY3Zhci5vZkNvbG9yX2xpZ2h0U2t5Qmx1ZQpvZkNvbG9yLmxpZ2h0U2xhdGVHcmF5ID0gX29mLmN2YXIub2ZDb2xvcl9saWdodFNsYXRlR3JheQpvZkNvbG9yLmxpZ2h0U2xhdGVHcmV5ID0gX29mLmN2YXIub2ZDb2xvcl9saWdodFNsYXRlR3JleQpvZkNvbG9yLmxpZ2h0U3RlZWxCbHVlID0gX29mLmN2YXIub2ZDb2xvcl9saWdodFN0ZWVsQmx1ZQpvZkNvbG9yLmxpZ2h0WWVsbG93ID0gX29mLmN2YXIub2ZDb2xvcl9saWdodFllbGxvdwpvZkNvbG9yLmxpbWUgPSBfb2YuY3Zhci5vZkNvbG9yX2xpbWUKb2ZDb2xvci5saW1lR3JlZW4gPSBfb2YuY3Zhci5vZkNvbG9yX2xpbWVHcmVlbgpvZkNvbG9yLmxpbmVuID0gX29mLmN2YXIub2ZDb2xvcl9saW5lbgpvZkNvbG9yLm1hcm9vbiA9IF9vZi5jdmFyLm9mQ29sb3JfbWFyb29uCm9mQ29sb3IubWVkaXVtQXF1YU1hcmluZSA9IF9vZi5jdmFyLm9mQ29sb3JfbWVkaXVtQXF1YU1hcmluZQpvZkNvbG9yLm1lZGl1bUJsdWUgPSBfb2YuY3Zhci5vZkNvbG9yX21lZGl1bUJsdWUKb2ZDb2xvci5tZWRpdW1PcmNoaWQgPSBfb2YuY3Zhci5vZkNvbG9yX21lZGl1bU9yY2hpZApvZkNvbG9yLm1lZGl1bVB1cnBsZSA9IF9vZi5jdmFyLm9mQ29sb3JfbWVkaXVtUHVycGxlCm9mQ29sb3IubWVkaXVtU2VhR3JlZW4gPSBfb2YuY3Zhci5vZkNvbG9yX21lZGl1bVNlYUdyZWVuCm9mQ29sb3IubWVkaXVtU2xhdGVCbHVlID0gX29mLmN2YXIub2ZDb2xvcl9tZWRpdW1TbGF0ZUJsdWUKb2ZDb2xvci5tZWRpdW1TcHJpbmdHcmVlbiA9IF9vZi5jdmFyLm9mQ29sb3JfbWVkaXVtU3ByaW5nR3JlZW4Kb2ZDb2xvci5tZWRpdW1UdXJxdW9pc2UgPSBfb2YuY3Zhci5vZkNvbG9yX21lZGl1bVR1cnF1b2lzZQpvZkNvbG9yLm1lZGl1bVZpb2xldFJlZCA9IF9vZi5jdmFyLm9mQ29sb3JfbWVkaXVtVmlvbGV0UmVkCm9mQ29sb3IubWlkbmlnaHRCbHVlID0gX29mLmN2YXIub2ZDb2xvcl9taWRuaWdodEJsdWUKb2ZDb2xvci5taW50Q3JlYW0gPSBfb2YuY3Zhci5vZkNvbG9yX21pbnRDcmVhbQpvZkNvbG9yLm1pc3R5Um9zZSA9IF9vZi5jdmFyLm9mQ29sb3JfbWlzdHlSb3NlCm9mQ29sb3IubW9jY2FzaW4gPSBfb2YuY3Zhci5vZkNvbG9yX21vY2Nhc2luCm9mQ29sb3IubmF2YWpvV2hpdGUgPSBfb2YuY3Zhci5vZkNvbG9yX25hdmFqb1doaXRlCm9mQ29sb3IubmF2eSA9IF9vZi5jdmFyLm9mQ29sb3JfbmF2eQpvZkNvbG9yLm9sZExhY2UgPSBfb2YuY3Zhci5vZkNvbG9yX29sZExhY2UKb2ZDb2xvci5vbGl2ZSA9IF9vZi5jdmFyLm9mQ29sb3Jfb2xpdmUKb2ZDb2xvci5vbGl2ZURyYWIgPSBfb2YuY3Zhci5vZkNvbG9yX29saXZlRHJhYgpvZkNvbG9yLm9yYW5nZSA9IF9vZi5jdmFyLm9mQ29sb3Jfb3JhbmdlCm9mQ29sb3Iub3JhbmdlUmVkID0gX29mLmN2YXIub2ZDb2xvcl9vcmFuZ2VSZWQKb2ZDb2xvci5vcmNoaWQgPSBfb2YuY3Zhci5vZkNvbG9yX29yY2hpZApvZkNvbG9yLnBhbGVHb2xkZW5Sb2QgPSBfb2YuY3Zhci5vZkNvbG9yX3BhbGVHb2xkZW5Sb2QKb2ZDb2xvci5wYWxlR3JlZW4gPSBfb2YuY3Zhci5vZkNvbG9yX3BhbGVHcmVlbgpvZkNvbG9yLnBhbGVUdXJxdW9pc2UgPSBfb2YuY3Zhci5vZkNvbG9yX3BhbGVUdXJxdW9pc2UKb2ZDb2xvci5wYWxlVmlvbGV0UmVkID0gX29mLmN2YXIub2ZDb2xvcl9wYWxlVmlvbGV0UmVkCm9mQ29sb3IucGFwYXlhV2hpcCA9IF9vZi5jdmFyLm9mQ29sb3JfcGFwYXlhV2hpcApvZkNvbG9yLnBlYWNoUHVmZiA9IF9vZi5jdmFyLm9mQ29sb3JfcGVhY2hQdWZmCm9mQ29sb3IucGVydSA9IF9vZi5jdmFyLm9mQ29sb3JfcGVydQpvZkNvbG9yLnBpbmsgPSBfb2YuY3Zhci5vZkNvbG9yX3BpbmsKb2ZDb2xvci5wbHVtID0gX29mLmN2YXIub2ZDb2xvcl9wbHVtCm9mQ29sb3IucG93ZGVyQmx1ZSA9IF9vZi5jdmFyLm9mQ29sb3JfcG93ZGVyQmx1ZQpvZkNvbG9yLnB1cnBsZSA9IF9vZi5jdmFyLm9mQ29sb3JfcHVycGxlCm9mQ29sb3Iucm9zeUJyb3duID0gX29mLmN2YXIub2ZDb2xvcl9yb3N5QnJvd24Kb2ZDb2xvci5yb3lhbEJsdWUgPSBfb2YuY3Zhci5vZkNvbG9yX3JveWFsQmx1ZQpvZkNvbG9yLnNhZGRsZUJyb3duID0gX29mLmN2YXIub2ZDb2xvcl9zYWRkbGVCcm93bgpvZkNvbG9yLnNhbG1vbiA9IF9vZi5jdmFyLm9mQ29sb3Jfc2FsbW9uCm9mQ29sb3Iuc2FuZHlCcm93biA9IF9vZi5jdmFyLm9mQ29sb3Jfc2FuZHlCcm93bgpvZkNvbG9yLnNlYUdyZWVuID0gX29mLmN2YXIub2ZDb2xvcl9zZWFHcmVlbgpvZkNvbG9yLnNlYVNoZWxsID0gX29mLmN2YXIub2ZDb2xvcl9zZWFTaGVsbApvZkNvbG9yLnNpZW5uYSA9IF9vZi5jdmFyLm9mQ29sb3Jfc2llbm5hCm9mQ29sb3Iuc2lsdmVyID0gX29mLmN2YXIub2ZDb2xvcl9zaWx2ZXIKb2ZDb2xvci5za3lCbHVlID0gX29mLmN2YXIub2ZDb2xvcl9za3lCbHVlCm9mQ29sb3Iuc2xhdGVCbHVlID0gX29mLmN2YXIub2ZDb2xvcl9zbGF0ZUJsdWUKb2ZDb2xvci5zbGF0ZUdyYXkgPSBfb2YuY3Zhci5vZkNvbG9yX3NsYXRlR3JheQpvZkNvbG9yLnNsYXRlR3JleSA9IF9vZi5jdmFyLm9mQ29sb3Jfc2xhdGVHcmV5Cm9mQ29sb3Iuc25vdyA9IF9vZi5jdmFyLm9mQ29sb3Jfc25vdwpvZkNvbG9yLnNwcmluZ0dyZWVuID0gX29mLmN2YXIub2ZDb2xvcl9zcHJpbmdHcmVlbgpvZkNvbG9yLnN0ZWVsQmx1ZSA9IF9vZi5jdmFyLm9mQ29sb3Jfc3RlZWxCbHVlCm9mQ29sb3IudGFuID0gX29mLmN2YXIub2ZDb2xvcl90YW4Kb2ZDb2xvci50ZWFsID0gX29mLmN2YXIub2ZDb2xvcl90ZWFsCm9mQ29sb3IudGhpc3RsZSA9IF9vZi5jdmFyLm9mQ29sb3JfdGhpc3RsZQpvZkNvbG9yLnRvbWF0byA9IF9vZi5jdmFyLm9mQ29sb3JfdG9tYXRvCm9mQ29sb3IudHVycXVvaXNlID0gX29mLmN2YXIub2ZDb2xvcl90dXJxdW9pc2UKb2ZDb2xvci52aW9sZXQgPSBfb2YuY3Zhci5vZkNvbG9yX3Zpb2xldApvZkNvbG9yLndoZWF0ID0gX29mLmN2YXIub2ZDb2xvcl93aGVhdApvZkNvbG9yLndoaXRlU21va2UgPSBfb2YuY3Zhci5vZkNvbG9yX3doaXRlU21va2UKb2ZDb2xvci55ZWxsb3dHcmVlbiA9IF9vZi5jdmFyLm9mQ29sb3JfeWVsbG93R3JlZW4KCmRlZiBvZkNvbG9yX2xpbWl0KCk6CiAgcmV0dXJuIF9vZi5vZkNvbG9yX2xpbWl0KCkKb2ZDb2xvcl9saW1pdCA9IF9vZi5vZkNvbG9yX2xpbWl0CgpjbGFzcyBvZkZsb2F0Q29sb3IoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mRmxvYXRDb2xvciwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZGbG9hdENvbG9yLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkZsb2F0Q29sb3IKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7CiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkZsb2F0Q29sb3IoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJmcm9tSHNiIl0gPSBsYW1iZGEgeDogX29mLm9mRmxvYXRDb2xvcl9mcm9tSHNiCiAgICBpZiBfbmV3Y2xhc3M6ZnJvbUhzYiA9IHN0YXRpY21ldGhvZChfb2Yub2ZGbG9hdENvbG9yX2Zyb21Ic2IpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJmcm9tSGV4Il0gPSBsYW1iZGEgeDogX29mLm9mRmxvYXRDb2xvcl9mcm9tSGV4CiAgICBpZiBfbmV3Y2xhc3M6ZnJvbUhleCA9IHN0YXRpY21ldGhvZChfb2Yub2ZGbG9hdENvbG9yX2Zyb21IZXgpCiAgICBkZWYgc2V0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0Q29sb3Jfc2V0KHNlbGYsICphcmdzKQogICAgZGVmIHNldEhleChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX3NldEhleChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRIZXgoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX2dldEhleChzZWxmKQogICAgZGVmIGNsYW1wKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9jbGFtcChzZWxmKQogICAgZGVmIGludmVydChzZWxmKTogcmV0dXJuIF9vZi5vZkZsb2F0Q29sb3JfaW52ZXJ0KHNlbGYpCiAgICBkZWYgbm9ybWFsaXplKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9ub3JtYWxpemUoc2VsZikKICAgIGRlZiBsZXJwKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0Q29sb3JfbGVycChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRDbGFtcGVkKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9nZXRDbGFtcGVkKHNlbGYpCiAgICBkZWYgZ2V0SW52ZXJ0ZWQoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX2dldEludmVydGVkKHNlbGYpCiAgICBkZWYgZ2V0Tm9ybWFsaXplZChzZWxmKTogcmV0dXJuIF9vZi5vZkZsb2F0Q29sb3JfZ2V0Tm9ybWFsaXplZChzZWxmKQogICAgZGVmIGdldExlcnBlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX2dldExlcnBlZChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRIdWUoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX2dldEh1ZShzZWxmKQogICAgZGVmIGdldFNhdHVyYXRpb24oc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX2dldFNhdHVyYXRpb24oc2VsZikKICAgIGRlZiBnZXRCcmlnaHRuZXNzKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9nZXRCcmlnaHRuZXNzKHNlbGYpCiAgICBkZWYgZ2V0TGlnaHRuZXNzKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9nZXRMaWdodG5lc3Moc2VsZikKICAgIGRlZiBnZXRIc2Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9nZXRIc2Ioc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0SHVlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0Q29sb3Jfc2V0SHVlKHNlbGYsICphcmdzKQogICAgZGVmIHNldFNhdHVyYXRpb24oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9zZXRTYXR1cmF0aW9uKHNlbGYsICphcmdzKQogICAgZGVmIHNldEJyaWdodG5lc3Moc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9zZXRCcmlnaHRuZXNzKHNlbGYsICphcmdzKQogICAgZGVmIHNldEhzYihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX3NldEhzYihzZWxmLCAqYXJncykKICAgIGRlZiBfX2VxX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9fX2VxX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19uZV9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0Q29sb3JfX19uZV9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fYWRkX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9fX2FkZF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faWFkZF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0Q29sb3JfX19pYWRkX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19zdWJfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX19fc3ViX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pc3ViX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9fX2lzdWJfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX211bF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0Q29sb3JfX19tdWxfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2ltdWxfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX19faW11bF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fZGl2X18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9fX2Rpdl9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faWRpdl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0Q29sb3JfX19pZGl2X18oc2VsZiwgKmFyZ3MpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJsaW1pdCJdID0gbGFtYmRhIHg6IF9vZi5vZkZsb2F0Q29sb3JfbGltaXQKICAgIGlmIF9uZXdjbGFzczpsaW1pdCA9IHN0YXRpY21ldGhvZChfb2Yub2ZGbG9hdENvbG9yX2xpbWl0KQpvZkZsb2F0Q29sb3Jfc3dpZ3JlZ2lzdGVyID0gX29mLm9mRmxvYXRDb2xvcl9zd2lncmVnaXN0ZXIKb2ZGbG9hdENvbG9yX3N3aWdyZWdpc3RlcihvZkZsb2F0Q29sb3IpCgpkZWYgb2ZGbG9hdENvbG9yX2Zyb21Ic2IoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX2Zyb21Ic2IoKmFyZ3MpCm9mRmxvYXRDb2xvcl9mcm9tSHNiID0gX29mLm9mRmxvYXRDb2xvcl9mcm9tSHNiCgpkZWYgb2ZGbG9hdENvbG9yX2Zyb21IZXgoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZGbG9hdENvbG9yX2Zyb21IZXgoKmFyZ3MpCm9mRmxvYXRDb2xvcl9mcm9tSGV4ID0gX29mLm9mRmxvYXRDb2xvcl9mcm9tSGV4Cm9mRmxvYXRDb2xvci53aGl0ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl93aGl0ZQpvZkZsb2F0Q29sb3IuZ3JheSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9ncmF5Cm9mRmxvYXRDb2xvci5ibGFjayA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9ibGFjawpvZkZsb2F0Q29sb3IucmVkID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3JlZApvZkZsb2F0Q29sb3IuZ3JlZW4gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfZ3JlZW4Kb2ZGbG9hdENvbG9yLmJsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfYmx1ZQpvZkZsb2F0Q29sb3IuY3lhbiA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9jeWFuCm9mRmxvYXRDb2xvci5tYWdlbnRhID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX21hZ2VudGEKb2ZGbG9hdENvbG9yLnllbGxvdyA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl95ZWxsb3cKb2ZGbG9hdENvbG9yLmFsaWNlQmx1ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9hbGljZUJsdWUKb2ZGbG9hdENvbG9yLmFudGlxdWVXaGl0ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9hbnRpcXVlV2hpdGUKb2ZGbG9hdENvbG9yLmFxdWEgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfYXF1YQpvZkZsb2F0Q29sb3IuYXF1YW1hcmluZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9hcXVhbWFyaW5lCm9mRmxvYXRDb2xvci5henVyZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9henVyZQpvZkZsb2F0Q29sb3IuYmVpZ2UgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfYmVpZ2UKb2ZGbG9hdENvbG9yLmJpc3F1ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9iaXNxdWUKb2ZGbG9hdENvbG9yLmJsYW5jaGVkQWxtb25kID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2JsYW5jaGVkQWxtb25kCm9mRmxvYXRDb2xvci5ibHVlVmlvbGV0ID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2JsdWVWaW9sZXQKb2ZGbG9hdENvbG9yLmJyb3duID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2Jyb3duCm9mRmxvYXRDb2xvci5idXJseVdvb2QgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfYnVybHlXb29kCm9mRmxvYXRDb2xvci5jYWRldEJsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfY2FkZXRCbHVlCm9mRmxvYXRDb2xvci5jaGFydHJldXNlID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2NoYXJ0cmV1c2UKb2ZGbG9hdENvbG9yLmNob2NvbGF0ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9jaG9jb2xhdGUKb2ZGbG9hdENvbG9yLmNvcmFsID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2NvcmFsCm9mRmxvYXRDb2xvci5jb3JuZmxvd2VyQmx1ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9jb3JuZmxvd2VyQmx1ZQpvZkZsb2F0Q29sb3IuY29ybnNpbGsgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfY29ybnNpbGsKb2ZGbG9hdENvbG9yLmNyaW1zb24gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfY3JpbXNvbgpvZkZsb2F0Q29sb3IuZGFya0JsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfZGFya0JsdWUKb2ZGbG9hdENvbG9yLmRhcmtDeWFuID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2RhcmtDeWFuCm9mRmxvYXRDb2xvci5kYXJrR29sZGVuUm9kID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2RhcmtHb2xkZW5Sb2QKb2ZGbG9hdENvbG9yLmRhcmtHcmF5ID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2RhcmtHcmF5Cm9mRmxvYXRDb2xvci5kYXJrR3JleSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9kYXJrR3JleQpvZkZsb2F0Q29sb3IuZGFya0dyZWVuID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2RhcmtHcmVlbgpvZkZsb2F0Q29sb3IuZGFya0toYWtpID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2RhcmtLaGFraQpvZkZsb2F0Q29sb3IuZGFya01hZ2VudGEgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfZGFya01hZ2VudGEKb2ZGbG9hdENvbG9yLmRhcmtPbGl2ZUdyZWVuID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2RhcmtPbGl2ZUdyZWVuCm9mRmxvYXRDb2xvci5kYXJrb3JhbmdlID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2RhcmtvcmFuZ2UKb2ZGbG9hdENvbG9yLmRhcmtPcmNoaWQgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfZGFya09yY2hpZApvZkZsb2F0Q29sb3IuZGFya1JlZCA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9kYXJrUmVkCm9mRmxvYXRDb2xvci5kYXJrU2FsbW9uID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2RhcmtTYWxtb24Kb2ZGbG9hdENvbG9yLmRhcmtTZWFHcmVlbiA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9kYXJrU2VhR3JlZW4Kb2ZGbG9hdENvbG9yLmRhcmtTbGF0ZUJsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfZGFya1NsYXRlQmx1ZQpvZkZsb2F0Q29sb3IuZGFya1NsYXRlR3JheSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9kYXJrU2xhdGVHcmF5Cm9mRmxvYXRDb2xvci5kYXJrU2xhdGVHcmV5ID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2RhcmtTbGF0ZUdyZXkKb2ZGbG9hdENvbG9yLmRhcmtUdXJxdW9pc2UgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfZGFya1R1cnF1b2lzZQpvZkZsb2F0Q29sb3IuZGFya1Zpb2xldCA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9kYXJrVmlvbGV0Cm9mRmxvYXRDb2xvci5kZWVwUGluayA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9kZWVwUGluawpvZkZsb2F0Q29sb3IuZGVlcFNreUJsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfZGVlcFNreUJsdWUKb2ZGbG9hdENvbG9yLmRpbUdyYXkgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfZGltR3JheQpvZkZsb2F0Q29sb3IuZGltR3JleSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9kaW1HcmV5Cm9mRmxvYXRDb2xvci5kb2RnZXJCbHVlID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2RvZGdlckJsdWUKb2ZGbG9hdENvbG9yLmZpcmVCcmljayA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9maXJlQnJpY2sKb2ZGbG9hdENvbG9yLmZsb3JhbFdoaXRlID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2Zsb3JhbFdoaXRlCm9mRmxvYXRDb2xvci5mb3Jlc3RHcmVlbiA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9mb3Jlc3RHcmVlbgpvZkZsb2F0Q29sb3IuZnVjaHNpYSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9mdWNoc2lhCm9mRmxvYXRDb2xvci5nYWluc2Jvcm8gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfZ2FpbnNib3JvCm9mRmxvYXRDb2xvci5naG9zdFdoaXRlID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2dob3N0V2hpdGUKb2ZGbG9hdENvbG9yLmdvbGQgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfZ29sZApvZkZsb2F0Q29sb3IuZ29sZGVuUm9kID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2dvbGRlblJvZApvZkZsb2F0Q29sb3IuZ3JleSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9ncmV5Cm9mRmxvYXRDb2xvci5ncmVlblllbGxvdyA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9ncmVlblllbGxvdwpvZkZsb2F0Q29sb3IuaG9uZXlEZXcgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfaG9uZXlEZXcKb2ZGbG9hdENvbG9yLmhvdFBpbmsgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfaG90UGluawpvZkZsb2F0Q29sb3IuaW5kaWFuUmVkID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2luZGlhblJlZApvZkZsb2F0Q29sb3IuaW5kaWdvID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2luZGlnbwpvZkZsb2F0Q29sb3IuaXZvcnkgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfaXZvcnkKb2ZGbG9hdENvbG9yLmtoYWtpID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2toYWtpCm9mRmxvYXRDb2xvci5sYXZlbmRlciA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9sYXZlbmRlcgpvZkZsb2F0Q29sb3IubGF2ZW5kZXJCbHVzaCA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9sYXZlbmRlckJsdXNoCm9mRmxvYXRDb2xvci5sYXduR3JlZW4gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbGF3bkdyZWVuCm9mRmxvYXRDb2xvci5sZW1vbkNoaWZmb24gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbGVtb25DaGlmZm9uCm9mRmxvYXRDb2xvci5saWdodEJsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbGlnaHRCbHVlCm9mRmxvYXRDb2xvci5saWdodENvcmFsID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2xpZ2h0Q29yYWwKb2ZGbG9hdENvbG9yLmxpZ2h0Q3lhbiA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9saWdodEN5YW4Kb2ZGbG9hdENvbG9yLmxpZ2h0R29sZGVuUm9kWWVsbG93ID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2xpZ2h0R29sZGVuUm9kWWVsbG93Cm9mRmxvYXRDb2xvci5saWdodEdyYXkgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbGlnaHRHcmF5Cm9mRmxvYXRDb2xvci5saWdodEdyZXkgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbGlnaHRHcmV5Cm9mRmxvYXRDb2xvci5saWdodEdyZWVuID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2xpZ2h0R3JlZW4Kb2ZGbG9hdENvbG9yLmxpZ2h0UGluayA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9saWdodFBpbmsKb2ZGbG9hdENvbG9yLmxpZ2h0U2FsbW9uID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2xpZ2h0U2FsbW9uCm9mRmxvYXRDb2xvci5saWdodFNlYUdyZWVuID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2xpZ2h0U2VhR3JlZW4Kb2ZGbG9hdENvbG9yLmxpZ2h0U2t5Qmx1ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9saWdodFNreUJsdWUKb2ZGbG9hdENvbG9yLmxpZ2h0U2xhdGVHcmF5ID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2xpZ2h0U2xhdGVHcmF5Cm9mRmxvYXRDb2xvci5saWdodFNsYXRlR3JleSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9saWdodFNsYXRlR3JleQpvZkZsb2F0Q29sb3IubGlnaHRTdGVlbEJsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbGlnaHRTdGVlbEJsdWUKb2ZGbG9hdENvbG9yLmxpZ2h0WWVsbG93ID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2xpZ2h0WWVsbG93Cm9mRmxvYXRDb2xvci5saW1lID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2xpbWUKb2ZGbG9hdENvbG9yLmxpbWVHcmVlbiA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9saW1lR3JlZW4Kb2ZGbG9hdENvbG9yLmxpbmVuID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX2xpbmVuCm9mRmxvYXRDb2xvci5tYXJvb24gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbWFyb29uCm9mRmxvYXRDb2xvci5tZWRpdW1BcXVhTWFyaW5lID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX21lZGl1bUFxdWFNYXJpbmUKb2ZGbG9hdENvbG9yLm1lZGl1bUJsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbWVkaXVtQmx1ZQpvZkZsb2F0Q29sb3IubWVkaXVtT3JjaGlkID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX21lZGl1bU9yY2hpZApvZkZsb2F0Q29sb3IubWVkaXVtUHVycGxlID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX21lZGl1bVB1cnBsZQpvZkZsb2F0Q29sb3IubWVkaXVtU2VhR3JlZW4gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbWVkaXVtU2VhR3JlZW4Kb2ZGbG9hdENvbG9yLm1lZGl1bVNsYXRlQmx1ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9tZWRpdW1TbGF0ZUJsdWUKb2ZGbG9hdENvbG9yLm1lZGl1bVNwcmluZ0dyZWVuID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX21lZGl1bVNwcmluZ0dyZWVuCm9mRmxvYXRDb2xvci5tZWRpdW1UdXJxdW9pc2UgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbWVkaXVtVHVycXVvaXNlCm9mRmxvYXRDb2xvci5tZWRpdW1WaW9sZXRSZWQgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbWVkaXVtVmlvbGV0UmVkCm9mRmxvYXRDb2xvci5taWRuaWdodEJsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbWlkbmlnaHRCbHVlCm9mRmxvYXRDb2xvci5taW50Q3JlYW0gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbWludENyZWFtCm9mRmxvYXRDb2xvci5taXN0eVJvc2UgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbWlzdHlSb3NlCm9mRmxvYXRDb2xvci5tb2NjYXNpbiA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9tb2NjYXNpbgpvZkZsb2F0Q29sb3IubmF2YWpvV2hpdGUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbmF2YWpvV2hpdGUKb2ZGbG9hdENvbG9yLm5hdnkgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfbmF2eQpvZkZsb2F0Q29sb3Iub2xkTGFjZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9vbGRMYWNlCm9mRmxvYXRDb2xvci5vbGl2ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9vbGl2ZQpvZkZsb2F0Q29sb3Iub2xpdmVEcmFiID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX29saXZlRHJhYgpvZkZsb2F0Q29sb3Iub3JhbmdlID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX29yYW5nZQpvZkZsb2F0Q29sb3Iub3JhbmdlUmVkID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX29yYW5nZVJlZApvZkZsb2F0Q29sb3Iub3JjaGlkID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX29yY2hpZApvZkZsb2F0Q29sb3IucGFsZUdvbGRlblJvZCA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9wYWxlR29sZGVuUm9kCm9mRmxvYXRDb2xvci5wYWxlR3JlZW4gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfcGFsZUdyZWVuCm9mRmxvYXRDb2xvci5wYWxlVHVycXVvaXNlID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3BhbGVUdXJxdW9pc2UKb2ZGbG9hdENvbG9yLnBhbGVWaW9sZXRSZWQgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfcGFsZVZpb2xldFJlZApvZkZsb2F0Q29sb3IucGFwYXlhV2hpcCA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9wYXBheWFXaGlwCm9mRmxvYXRDb2xvci5wZWFjaFB1ZmYgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfcGVhY2hQdWZmCm9mRmxvYXRDb2xvci5wZXJ1ID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3BlcnUKb2ZGbG9hdENvbG9yLnBpbmsgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfcGluawpvZkZsb2F0Q29sb3IucGx1bSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9wbHVtCm9mRmxvYXRDb2xvci5wb3dkZXJCbHVlID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3Bvd2RlckJsdWUKb2ZGbG9hdENvbG9yLnB1cnBsZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9wdXJwbGUKb2ZGbG9hdENvbG9yLnJvc3lCcm93biA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9yb3N5QnJvd24Kb2ZGbG9hdENvbG9yLnJveWFsQmx1ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9yb3lhbEJsdWUKb2ZGbG9hdENvbG9yLnNhZGRsZUJyb3duID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3NhZGRsZUJyb3duCm9mRmxvYXRDb2xvci5zYWxtb24gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3Jfc2FsbW9uCm9mRmxvYXRDb2xvci5zYW5keUJyb3duID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3NhbmR5QnJvd24Kb2ZGbG9hdENvbG9yLnNlYUdyZWVuID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3NlYUdyZWVuCm9mRmxvYXRDb2xvci5zZWFTaGVsbCA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9zZWFTaGVsbApvZkZsb2F0Q29sb3Iuc2llbm5hID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3NpZW5uYQpvZkZsb2F0Q29sb3Iuc2lsdmVyID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3NpbHZlcgpvZkZsb2F0Q29sb3Iuc2t5Qmx1ZSA9IF9vZi5jdmFyLm9mRmxvYXRDb2xvcl9za3lCbHVlCm9mRmxvYXRDb2xvci5zbGF0ZUJsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3Jfc2xhdGVCbHVlCm9mRmxvYXRDb2xvci5zbGF0ZUdyYXkgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3Jfc2xhdGVHcmF5Cm9mRmxvYXRDb2xvci5zbGF0ZUdyZXkgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3Jfc2xhdGVHcmV5Cm9mRmxvYXRDb2xvci5zbm93ID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3Nub3cKb2ZGbG9hdENvbG9yLnNwcmluZ0dyZWVuID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3NwcmluZ0dyZWVuCm9mRmxvYXRDb2xvci5zdGVlbEJsdWUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3Jfc3RlZWxCbHVlCm9mRmxvYXRDb2xvci50YW4gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfdGFuCm9mRmxvYXRDb2xvci50ZWFsID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3RlYWwKb2ZGbG9hdENvbG9yLnRoaXN0bGUgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfdGhpc3RsZQpvZkZsb2F0Q29sb3IudG9tYXRvID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3RvbWF0bwpvZkZsb2F0Q29sb3IudHVycXVvaXNlID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3R1cnF1b2lzZQpvZkZsb2F0Q29sb3IudmlvbGV0ID0gX29mLmN2YXIub2ZGbG9hdENvbG9yX3Zpb2xldApvZkZsb2F0Q29sb3Iud2hlYXQgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3Jfd2hlYXQKb2ZGbG9hdENvbG9yLndoaXRlU21va2UgPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3Jfd2hpdGVTbW9rZQpvZkZsb2F0Q29sb3IueWVsbG93R3JlZW4gPSBfb2YuY3Zhci5vZkZsb2F0Q29sb3JfeWVsbG93R3JlZW4KCmRlZiBvZkZsb2F0Q29sb3JfbGltaXQoKToKICByZXR1cm4gX29mLm9mRmxvYXRDb2xvcl9saW1pdCgpCm9mRmxvYXRDb2xvcl9saW1pdCA9IF9vZi5vZkZsb2F0Q29sb3JfbGltaXQKCmNsYXNzIG9mU2hvcnRDb2xvcihfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZTaG9ydENvbG9yLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlNob3J0Q29sb3IsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mU2hvcnRDb2xvcgogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mU2hvcnRDb2xvcigqYXJncykKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImZyb21Ic2IiXSA9IGxhbWJkYSB4OiBfb2Yub2ZTaG9ydENvbG9yX2Zyb21Ic2IKICAgIGlmIF9uZXdjbGFzczpmcm9tSHNiID0gc3RhdGljbWV0aG9kKF9vZi5vZlNob3J0Q29sb3JfZnJvbUhzYikKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImZyb21IZXgiXSA9IGxhbWJkYSB4OiBfb2Yub2ZTaG9ydENvbG9yX2Zyb21IZXgKICAgIGlmIF9uZXdjbGFzczpmcm9tSGV4ID0gc3RhdGljbWV0aG9kKF9vZi5vZlNob3J0Q29sb3JfZnJvbUhleCkKICAgIGRlZiBzZXQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRDb2xvcl9zZXQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0SGV4KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0Q29sb3Jfc2V0SGV4KHNlbGYsICphcmdzKQogICAgZGVmIGdldEhleChzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0Q29sb3JfZ2V0SGV4KHNlbGYpCiAgICBkZWYgY2xhbXAoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX2NsYW1wKHNlbGYpCiAgICBkZWYgaW52ZXJ0KHNlbGYpOiByZXR1cm4gX29mLm9mU2hvcnRDb2xvcl9pbnZlcnQoc2VsZikKICAgIGRlZiBub3JtYWxpemUoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX25vcm1hbGl6ZShzZWxmKQogICAgZGVmIGxlcnAoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRDb2xvcl9sZXJwKHNlbGYsICphcmdzKQogICAgZGVmIGdldENsYW1wZWQoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX2dldENsYW1wZWQoc2VsZikKICAgIGRlZiBnZXRJbnZlcnRlZChzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0Q29sb3JfZ2V0SW52ZXJ0ZWQoc2VsZikKICAgIGRlZiBnZXROb3JtYWxpemVkKHNlbGYpOiByZXR1cm4gX29mLm9mU2hvcnRDb2xvcl9nZXROb3JtYWxpemVkKHNlbGYpCiAgICBkZWYgZ2V0TGVycGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0Q29sb3JfZ2V0TGVycGVkKHNlbGYsICphcmdzKQogICAgZGVmIGdldEh1ZShzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0Q29sb3JfZ2V0SHVlKHNlbGYpCiAgICBkZWYgZ2V0U2F0dXJhdGlvbihzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0Q29sb3JfZ2V0U2F0dXJhdGlvbihzZWxmKQogICAgZGVmIGdldEJyaWdodG5lc3Moc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX2dldEJyaWdodG5lc3Moc2VsZikKICAgIGRlZiBnZXRMaWdodG5lc3Moc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX2dldExpZ2h0bmVzcyhzZWxmKQogICAgZGVmIGdldEhzYihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX2dldEhzYihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRIdWUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRDb2xvcl9zZXRIdWUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0U2F0dXJhdGlvbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX3NldFNhdHVyYXRpb24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0QnJpZ2h0bmVzcyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX3NldEJyaWdodG5lc3Moc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0SHNiKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0Q29sb3Jfc2V0SHNiKHNlbGYsICphcmdzKQogICAgZGVmIF9fZXFfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX19fZXFfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX25lX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRDb2xvcl9fX25lX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19hZGRfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX19fYWRkX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pYWRkX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRDb2xvcl9fX2lhZGRfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX3N1Yl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0Q29sb3JfX19zdWJfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2lzdWJfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX19faXN1Yl9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fbXVsX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRDb2xvcl9fX211bF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faW11bF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0Q29sb3JfX19pbXVsX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19kaXZfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX19fZGl2X18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pZGl2X18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRDb2xvcl9fX2lkaXZfXyhzZWxmLCAqYXJncykKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImxpbWl0Il0gPSBsYW1iZGEgeDogX29mLm9mU2hvcnRDb2xvcl9saW1pdAogICAgaWYgX25ld2NsYXNzOmxpbWl0ID0gc3RhdGljbWV0aG9kKF9vZi5vZlNob3J0Q29sb3JfbGltaXQpCm9mU2hvcnRDb2xvcl9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZTaG9ydENvbG9yX3N3aWdyZWdpc3RlcgpvZlNob3J0Q29sb3Jfc3dpZ3JlZ2lzdGVyKG9mU2hvcnRDb2xvcikKCmRlZiBvZlNob3J0Q29sb3JfZnJvbUhzYigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNob3J0Q29sb3JfZnJvbUhzYigqYXJncykKb2ZTaG9ydENvbG9yX2Zyb21Ic2IgPSBfb2Yub2ZTaG9ydENvbG9yX2Zyb21Ic2IKCmRlZiBvZlNob3J0Q29sb3JfZnJvbUhleCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNob3J0Q29sb3JfZnJvbUhleCgqYXJncykKb2ZTaG9ydENvbG9yX2Zyb21IZXggPSBfb2Yub2ZTaG9ydENvbG9yX2Zyb21IZXgKb2ZTaG9ydENvbG9yLndoaXRlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX3doaXRlCm9mU2hvcnRDb2xvci5ncmF5ID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2dyYXkKb2ZTaG9ydENvbG9yLmJsYWNrID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2JsYWNrCm9mU2hvcnRDb2xvci5yZWQgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfcmVkCm9mU2hvcnRDb2xvci5ncmVlbiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9ncmVlbgpvZlNob3J0Q29sb3IuYmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9ibHVlCm9mU2hvcnRDb2xvci5jeWFuID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2N5YW4Kb2ZTaG9ydENvbG9yLm1hZ2VudGEgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbWFnZW50YQpvZlNob3J0Q29sb3IueWVsbG93ID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX3llbGxvdwpvZlNob3J0Q29sb3IuYWxpY2VCbHVlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2FsaWNlQmx1ZQpvZlNob3J0Q29sb3IuYW50aXF1ZVdoaXRlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2FudGlxdWVXaGl0ZQpvZlNob3J0Q29sb3IuYXF1YSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9hcXVhCm9mU2hvcnRDb2xvci5hcXVhbWFyaW5lID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2FxdWFtYXJpbmUKb2ZTaG9ydENvbG9yLmF6dXJlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2F6dXJlCm9mU2hvcnRDb2xvci5iZWlnZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9iZWlnZQpvZlNob3J0Q29sb3IuYmlzcXVlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2Jpc3F1ZQpvZlNob3J0Q29sb3IuYmxhbmNoZWRBbG1vbmQgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfYmxhbmNoZWRBbG1vbmQKb2ZTaG9ydENvbG9yLmJsdWVWaW9sZXQgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfYmx1ZVZpb2xldApvZlNob3J0Q29sb3IuYnJvd24gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfYnJvd24Kb2ZTaG9ydENvbG9yLmJ1cmx5V29vZCA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9idXJseVdvb2QKb2ZTaG9ydENvbG9yLmNhZGV0Qmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9jYWRldEJsdWUKb2ZTaG9ydENvbG9yLmNoYXJ0cmV1c2UgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfY2hhcnRyZXVzZQpvZlNob3J0Q29sb3IuY2hvY29sYXRlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2Nob2NvbGF0ZQpvZlNob3J0Q29sb3IuY29yYWwgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfY29yYWwKb2ZTaG9ydENvbG9yLmNvcm5mbG93ZXJCbHVlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2Nvcm5mbG93ZXJCbHVlCm9mU2hvcnRDb2xvci5jb3Juc2lsayA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9jb3Juc2lsawpvZlNob3J0Q29sb3IuY3JpbXNvbiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9jcmltc29uCm9mU2hvcnRDb2xvci5kYXJrQmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9kYXJrQmx1ZQpvZlNob3J0Q29sb3IuZGFya0N5YW4gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZGFya0N5YW4Kb2ZTaG9ydENvbG9yLmRhcmtHb2xkZW5Sb2QgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZGFya0dvbGRlblJvZApvZlNob3J0Q29sb3IuZGFya0dyYXkgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZGFya0dyYXkKb2ZTaG9ydENvbG9yLmRhcmtHcmV5ID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2RhcmtHcmV5Cm9mU2hvcnRDb2xvci5kYXJrR3JlZW4gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZGFya0dyZWVuCm9mU2hvcnRDb2xvci5kYXJrS2hha2kgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZGFya0toYWtpCm9mU2hvcnRDb2xvci5kYXJrTWFnZW50YSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9kYXJrTWFnZW50YQpvZlNob3J0Q29sb3IuZGFya09saXZlR3JlZW4gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZGFya09saXZlR3JlZW4Kb2ZTaG9ydENvbG9yLmRhcmtvcmFuZ2UgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZGFya29yYW5nZQpvZlNob3J0Q29sb3IuZGFya09yY2hpZCA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9kYXJrT3JjaGlkCm9mU2hvcnRDb2xvci5kYXJrUmVkID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2RhcmtSZWQKb2ZTaG9ydENvbG9yLmRhcmtTYWxtb24gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZGFya1NhbG1vbgpvZlNob3J0Q29sb3IuZGFya1NlYUdyZWVuID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2RhcmtTZWFHcmVlbgpvZlNob3J0Q29sb3IuZGFya1NsYXRlQmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9kYXJrU2xhdGVCbHVlCm9mU2hvcnRDb2xvci5kYXJrU2xhdGVHcmF5ID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2RhcmtTbGF0ZUdyYXkKb2ZTaG9ydENvbG9yLmRhcmtTbGF0ZUdyZXkgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZGFya1NsYXRlR3JleQpvZlNob3J0Q29sb3IuZGFya1R1cnF1b2lzZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9kYXJrVHVycXVvaXNlCm9mU2hvcnRDb2xvci5kYXJrVmlvbGV0ID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2RhcmtWaW9sZXQKb2ZTaG9ydENvbG9yLmRlZXBQaW5rID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2RlZXBQaW5rCm9mU2hvcnRDb2xvci5kZWVwU2t5Qmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9kZWVwU2t5Qmx1ZQpvZlNob3J0Q29sb3IuZGltR3JheSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9kaW1HcmF5Cm9mU2hvcnRDb2xvci5kaW1HcmV5ID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2RpbUdyZXkKb2ZTaG9ydENvbG9yLmRvZGdlckJsdWUgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZG9kZ2VyQmx1ZQpvZlNob3J0Q29sb3IuZmlyZUJyaWNrID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2ZpcmVCcmljawpvZlNob3J0Q29sb3IuZmxvcmFsV2hpdGUgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZmxvcmFsV2hpdGUKb2ZTaG9ydENvbG9yLmZvcmVzdEdyZWVuID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2ZvcmVzdEdyZWVuCm9mU2hvcnRDb2xvci5mdWNoc2lhID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2Z1Y2hzaWEKb2ZTaG9ydENvbG9yLmdhaW5zYm9ybyA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9nYWluc2Jvcm8Kb2ZTaG9ydENvbG9yLmdob3N0V2hpdGUgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZ2hvc3RXaGl0ZQpvZlNob3J0Q29sb3IuZ29sZCA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9nb2xkCm9mU2hvcnRDb2xvci5nb2xkZW5Sb2QgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfZ29sZGVuUm9kCm9mU2hvcnRDb2xvci5ncmV5ID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2dyZXkKb2ZTaG9ydENvbG9yLmdyZWVuWWVsbG93ID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2dyZWVuWWVsbG93Cm9mU2hvcnRDb2xvci5ob25leURldyA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9ob25leURldwpvZlNob3J0Q29sb3IuaG90UGluayA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9ob3RQaW5rCm9mU2hvcnRDb2xvci5pbmRpYW5SZWQgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfaW5kaWFuUmVkCm9mU2hvcnRDb2xvci5pbmRpZ28gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfaW5kaWdvCm9mU2hvcnRDb2xvci5pdm9yeSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9pdm9yeQpvZlNob3J0Q29sb3Iua2hha2kgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfa2hha2kKb2ZTaG9ydENvbG9yLmxhdmVuZGVyID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2xhdmVuZGVyCm9mU2hvcnRDb2xvci5sYXZlbmRlckJsdXNoID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2xhdmVuZGVyQmx1c2gKb2ZTaG9ydENvbG9yLmxhd25HcmVlbiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9sYXduR3JlZW4Kb2ZTaG9ydENvbG9yLmxlbW9uQ2hpZmZvbiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9sZW1vbkNoaWZmb24Kb2ZTaG9ydENvbG9yLmxpZ2h0Qmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9saWdodEJsdWUKb2ZTaG9ydENvbG9yLmxpZ2h0Q29yYWwgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbGlnaHRDb3JhbApvZlNob3J0Q29sb3IubGlnaHRDeWFuID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2xpZ2h0Q3lhbgpvZlNob3J0Q29sb3IubGlnaHRHb2xkZW5Sb2RZZWxsb3cgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbGlnaHRHb2xkZW5Sb2RZZWxsb3cKb2ZTaG9ydENvbG9yLmxpZ2h0R3JheSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9saWdodEdyYXkKb2ZTaG9ydENvbG9yLmxpZ2h0R3JleSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9saWdodEdyZXkKb2ZTaG9ydENvbG9yLmxpZ2h0R3JlZW4gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbGlnaHRHcmVlbgpvZlNob3J0Q29sb3IubGlnaHRQaW5rID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2xpZ2h0UGluawpvZlNob3J0Q29sb3IubGlnaHRTYWxtb24gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbGlnaHRTYWxtb24Kb2ZTaG9ydENvbG9yLmxpZ2h0U2VhR3JlZW4gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbGlnaHRTZWFHcmVlbgpvZlNob3J0Q29sb3IubGlnaHRTa3lCbHVlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2xpZ2h0U2t5Qmx1ZQpvZlNob3J0Q29sb3IubGlnaHRTbGF0ZUdyYXkgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbGlnaHRTbGF0ZUdyYXkKb2ZTaG9ydENvbG9yLmxpZ2h0U2xhdGVHcmV5ID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2xpZ2h0U2xhdGVHcmV5Cm9mU2hvcnRDb2xvci5saWdodFN0ZWVsQmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9saWdodFN0ZWVsQmx1ZQpvZlNob3J0Q29sb3IubGlnaHRZZWxsb3cgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbGlnaHRZZWxsb3cKb2ZTaG9ydENvbG9yLmxpbWUgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbGltZQpvZlNob3J0Q29sb3IubGltZUdyZWVuID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX2xpbWVHcmVlbgpvZlNob3J0Q29sb3IubGluZW4gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbGluZW4Kb2ZTaG9ydENvbG9yLm1hcm9vbiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9tYXJvb24Kb2ZTaG9ydENvbG9yLm1lZGl1bUFxdWFNYXJpbmUgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbWVkaXVtQXF1YU1hcmluZQpvZlNob3J0Q29sb3IubWVkaXVtQmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9tZWRpdW1CbHVlCm9mU2hvcnRDb2xvci5tZWRpdW1PcmNoaWQgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbWVkaXVtT3JjaGlkCm9mU2hvcnRDb2xvci5tZWRpdW1QdXJwbGUgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbWVkaXVtUHVycGxlCm9mU2hvcnRDb2xvci5tZWRpdW1TZWFHcmVlbiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9tZWRpdW1TZWFHcmVlbgpvZlNob3J0Q29sb3IubWVkaXVtU2xhdGVCbHVlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX21lZGl1bVNsYXRlQmx1ZQpvZlNob3J0Q29sb3IubWVkaXVtU3ByaW5nR3JlZW4gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfbWVkaXVtU3ByaW5nR3JlZW4Kb2ZTaG9ydENvbG9yLm1lZGl1bVR1cnF1b2lzZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9tZWRpdW1UdXJxdW9pc2UKb2ZTaG9ydENvbG9yLm1lZGl1bVZpb2xldFJlZCA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9tZWRpdW1WaW9sZXRSZWQKb2ZTaG9ydENvbG9yLm1pZG5pZ2h0Qmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9taWRuaWdodEJsdWUKb2ZTaG9ydENvbG9yLm1pbnRDcmVhbSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9taW50Q3JlYW0Kb2ZTaG9ydENvbG9yLm1pc3R5Um9zZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9taXN0eVJvc2UKb2ZTaG9ydENvbG9yLm1vY2Nhc2luID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX21vY2Nhc2luCm9mU2hvcnRDb2xvci5uYXZham9XaGl0ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9uYXZham9XaGl0ZQpvZlNob3J0Q29sb3IubmF2eSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9uYXZ5Cm9mU2hvcnRDb2xvci5vbGRMYWNlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX29sZExhY2UKb2ZTaG9ydENvbG9yLm9saXZlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX29saXZlCm9mU2hvcnRDb2xvci5vbGl2ZURyYWIgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfb2xpdmVEcmFiCm9mU2hvcnRDb2xvci5vcmFuZ2UgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfb3JhbmdlCm9mU2hvcnRDb2xvci5vcmFuZ2VSZWQgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfb3JhbmdlUmVkCm9mU2hvcnRDb2xvci5vcmNoaWQgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfb3JjaGlkCm9mU2hvcnRDb2xvci5wYWxlR29sZGVuUm9kID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX3BhbGVHb2xkZW5Sb2QKb2ZTaG9ydENvbG9yLnBhbGVHcmVlbiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9wYWxlR3JlZW4Kb2ZTaG9ydENvbG9yLnBhbGVUdXJxdW9pc2UgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfcGFsZVR1cnF1b2lzZQpvZlNob3J0Q29sb3IucGFsZVZpb2xldFJlZCA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9wYWxlVmlvbGV0UmVkCm9mU2hvcnRDb2xvci5wYXBheWFXaGlwID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX3BhcGF5YVdoaXAKb2ZTaG9ydENvbG9yLnBlYWNoUHVmZiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9wZWFjaFB1ZmYKb2ZTaG9ydENvbG9yLnBlcnUgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfcGVydQpvZlNob3J0Q29sb3IucGluayA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9waW5rCm9mU2hvcnRDb2xvci5wbHVtID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX3BsdW0Kb2ZTaG9ydENvbG9yLnBvd2RlckJsdWUgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfcG93ZGVyQmx1ZQpvZlNob3J0Q29sb3IucHVycGxlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX3B1cnBsZQpvZlNob3J0Q29sb3Iucm9zeUJyb3duID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX3Jvc3lCcm93bgpvZlNob3J0Q29sb3Iucm95YWxCbHVlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX3JveWFsQmx1ZQpvZlNob3J0Q29sb3Iuc2FkZGxlQnJvd24gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfc2FkZGxlQnJvd24Kb2ZTaG9ydENvbG9yLnNhbG1vbiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9zYWxtb24Kb2ZTaG9ydENvbG9yLnNhbmR5QnJvd24gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfc2FuZHlCcm93bgpvZlNob3J0Q29sb3Iuc2VhR3JlZW4gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfc2VhR3JlZW4Kb2ZTaG9ydENvbG9yLnNlYVNoZWxsID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX3NlYVNoZWxsCm9mU2hvcnRDb2xvci5zaWVubmEgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfc2llbm5hCm9mU2hvcnRDb2xvci5zaWx2ZXIgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfc2lsdmVyCm9mU2hvcnRDb2xvci5za3lCbHVlID0gX29mLmN2YXIub2ZTaG9ydENvbG9yX3NreUJsdWUKb2ZTaG9ydENvbG9yLnNsYXRlQmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9zbGF0ZUJsdWUKb2ZTaG9ydENvbG9yLnNsYXRlR3JheSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9zbGF0ZUdyYXkKb2ZTaG9ydENvbG9yLnNsYXRlR3JleSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9zbGF0ZUdyZXkKb2ZTaG9ydENvbG9yLnNub3cgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfc25vdwpvZlNob3J0Q29sb3Iuc3ByaW5nR3JlZW4gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3Jfc3ByaW5nR3JlZW4Kb2ZTaG9ydENvbG9yLnN0ZWVsQmx1ZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl9zdGVlbEJsdWUKb2ZTaG9ydENvbG9yLnRhbiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl90YW4Kb2ZTaG9ydENvbG9yLnRlYWwgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfdGVhbApvZlNob3J0Q29sb3IudGhpc3RsZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl90aGlzdGxlCm9mU2hvcnRDb2xvci50b21hdG8gPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfdG9tYXRvCm9mU2hvcnRDb2xvci50dXJxdW9pc2UgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfdHVycXVvaXNlCm9mU2hvcnRDb2xvci52aW9sZXQgPSBfb2YuY3Zhci5vZlNob3J0Q29sb3JfdmlvbGV0Cm9mU2hvcnRDb2xvci53aGVhdCA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl93aGVhdApvZlNob3J0Q29sb3Iud2hpdGVTbW9rZSA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl93aGl0ZVNtb2tlCm9mU2hvcnRDb2xvci55ZWxsb3dHcmVlbiA9IF9vZi5jdmFyLm9mU2hvcnRDb2xvcl95ZWxsb3dHcmVlbgoKZGVmIG9mU2hvcnRDb2xvcl9saW1pdCgpOgogIHJldHVybiBfb2Yub2ZTaG9ydENvbG9yX2xpbWl0KCkKb2ZTaG9ydENvbG9yX2xpbWl0ID0gX29mLm9mU2hvcnRDb2xvcl9saW1pdAoKT0ZfSU1BR0VfUVVBTElUWV9CRVNUID0gX29mLk9GX0lNQUdFX1FVQUxJVFlfQkVTVApPRl9JTUFHRV9RVUFMSVRZX0hJR0ggPSBfb2YuT0ZfSU1BR0VfUVVBTElUWV9ISUdICk9GX0lNQUdFX1FVQUxJVFlfTUVESVVNID0gX29mLk9GX0lNQUdFX1FVQUxJVFlfTUVESVVNCk9GX0lNQUdFX1FVQUxJVFlfTE9XID0gX29mLk9GX0lNQUdFX1FVQUxJVFlfTE9XCk9GX0lNQUdFX1FVQUxJVFlfV09SU1QgPSBfb2YuT0ZfSU1BR0VfUVVBTElUWV9XT1JTVApPRl9JTUFHRV9GT1JNQVRfQk1QID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9CTVAKT0ZfSU1BR0VfRk9STUFUX0lDTyA9IF9vZi5PRl9JTUFHRV9GT1JNQVRfSUNPCk9GX0lNQUdFX0ZPUk1BVF9KUEVHID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9KUEVHCk9GX0lNQUdFX0ZPUk1BVF9KTkcgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX0pORwpPRl9JTUFHRV9GT1JNQVRfS09BTEEgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX0tPQUxBCk9GX0lNQUdFX0ZPUk1BVF9MQk0gPSBfb2YuT0ZfSU1BR0VfRk9STUFUX0xCTQpPRl9JTUFHRV9GT1JNQVRfSUZGID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9JRkYKT0ZfSU1BR0VfRk9STUFUX01ORyA9IF9vZi5PRl9JTUFHRV9GT1JNQVRfTU5HCk9GX0lNQUdFX0ZPUk1BVF9QQk0gPSBfb2YuT0ZfSU1BR0VfRk9STUFUX1BCTQpPRl9JTUFHRV9GT1JNQVRfUEJNUkFXID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9QQk1SQVcKT0ZfSU1BR0VfRk9STUFUX1BDRCA9IF9vZi5PRl9JTUFHRV9GT1JNQVRfUENECk9GX0lNQUdFX0ZPUk1BVF9QQ1ggPSBfb2YuT0ZfSU1BR0VfRk9STUFUX1BDWApPRl9JTUFHRV9GT1JNQVRfUEdNID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9QR00KT0ZfSU1BR0VfRk9STUFUX1BHTVJBVyA9IF9vZi5PRl9JTUFHRV9GT1JNQVRfUEdNUkFXCk9GX0lNQUdFX0ZPUk1BVF9QTkcgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX1BORwpPRl9JTUFHRV9GT1JNQVRfUFBNID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9QUE0KT0ZfSU1BR0VfRk9STUFUX1BQTVJBVyA9IF9vZi5PRl9JTUFHRV9GT1JNQVRfUFBNUkFXCk9GX0lNQUdFX0ZPUk1BVF9SQVMgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX1JBUwpPRl9JTUFHRV9GT1JNQVRfVEFSR0EgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX1RBUkdBCk9GX0lNQUdFX0ZPUk1BVF9USUZGID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9USUZGCk9GX0lNQUdFX0ZPUk1BVF9XQk1QID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9XQk1QCk9GX0lNQUdFX0ZPUk1BVF9QU0QgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX1BTRApPRl9JTUFHRV9GT1JNQVRfQ1VUID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9DVVQKT0ZfSU1BR0VfRk9STUFUX1hCTSA9IF9vZi5PRl9JTUFHRV9GT1JNQVRfWEJNCk9GX0lNQUdFX0ZPUk1BVF9YUE0gPSBfb2YuT0ZfSU1BR0VfRk9STUFUX1hQTQpPRl9JTUFHRV9GT1JNQVRfRERTID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9ERFMKT0ZfSU1BR0VfRk9STUFUX0dJRiA9IF9vZi5PRl9JTUFHRV9GT1JNQVRfR0lGCk9GX0lNQUdFX0ZPUk1BVF9IRFIgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX0hEUgpPRl9JTUFHRV9GT1JNQVRfRkFYRzMgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX0ZBWEczCk9GX0lNQUdFX0ZPUk1BVF9TR0kgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX1NHSQpPRl9JTUFHRV9GT1JNQVRfRVhSID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9FWFIKT0ZfSU1BR0VfRk9STUFUX0oySyA9IF9vZi5PRl9JTUFHRV9GT1JNQVRfSjJLCk9GX0lNQUdFX0ZPUk1BVF9KUDIgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX0pQMgpPRl9JTUFHRV9GT1JNQVRfUEZNID0gX29mLk9GX0lNQUdFX0ZPUk1BVF9QRk0KT0ZfSU1BR0VfRk9STUFUX1BJQ1QgPSBfb2YuT0ZfSU1BR0VfRk9STUFUX1BJQ1QKT0ZfSU1BR0VfRk9STUFUX1JBVyA9IF9vZi5PRl9JTUFHRV9GT1JNQVRfUkFXCgpkZWYgb2ZMb2FkSW1hZ2UoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZMb2FkSW1hZ2UoKmFyZ3MpCm9mTG9hZEltYWdlID0gX29mLm9mTG9hZEltYWdlCgpkZWYgb2ZTYXZlSW1hZ2UoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTYXZlSW1hZ2UoKmFyZ3MpCm9mU2F2ZUltYWdlID0gX29mLm9mU2F2ZUltYWdlCgpkZWYgb2ZDbG9zZUZyZWVJbWFnZSgpOgogIHJldHVybiBfb2Yub2ZDbG9zZUZyZWVJbWFnZSgpCm9mQ2xvc2VGcmVlSW1hZ2UgPSBfb2Yub2ZDbG9zZUZyZWVJbWFnZQpjbGFzcyBvZkltYWdlKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkltYWdlLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkltYWdlLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkltYWdlCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIGFsbG9jYXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkltYWdlX2FsbG9jYXRlKHNlbGYsICphcmdzKQogICAgZGVmIGNsZWFyKHNlbGYpOiByZXR1cm4gX29mLm9mSW1hZ2VfY2xlYXIoc2VsZikKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mSW1hZ2UoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgc2V0VXNlVGV4dHVyZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZJbWFnZV9zZXRVc2VUZXh0dXJlKHNlbGYsICphcmdzKQogICAgZGVmIGlzVXNpbmdUZXh0dXJlKHNlbGYpOiByZXR1cm4gX29mLm9mSW1hZ2VfaXNVc2luZ1RleHR1cmUoc2VsZikKICAgIGRlZiBnZXRUZXh0dXJlUmVmZXJlbmNlKHNlbGYpOiByZXR1cm4gX29mLm9mSW1hZ2VfZ2V0VGV4dHVyZVJlZmVyZW5jZShzZWxmKQogICAgZGVmIGJpbmQoc2VsZik6IHJldHVybiBfb2Yub2ZJbWFnZV9iaW5kKHNlbGYpCiAgICBkZWYgdW5iaW5kKHNlbGYpOiByZXR1cm4gX29mLm9mSW1hZ2VfdW5iaW5kKHNlbGYpCiAgICBkZWYgbG9hZEltYWdlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkltYWdlX2xvYWRJbWFnZShzZWxmLCAqYXJncykKICAgIGRlZiBzYXZlSW1hZ2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mSW1hZ2Vfc2F2ZUltYWdlKHNlbGYsICphcmdzKQogICAgZGVmIHNldENvbXByZXNzaW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkltYWdlX3NldENvbXByZXNzaW9uKHNlbGYsICphcmdzKQogICAgZGVmIGdldFBpeGVscyhzZWxmKTogcmV0dXJuIF9vZi5vZkltYWdlX2dldFBpeGVscyhzZWxmKQogICAgZGVmIGdldFBpeGVsc1JlZihzZWxmKTogcmV0dXJuIF9vZi5vZkltYWdlX2dldFBpeGVsc1JlZihzZWxmKQogICAgZGVmIGdldENvbG9yKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkltYWdlX2dldENvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIHNldENvbG9yKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkltYWdlX3NldENvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIHNldEZyb21QaXhlbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mSW1hZ2Vfc2V0RnJvbVBpeGVscyhzZWxmLCAqYXJncykKICAgIGRlZiBzZXRJbWFnZVR5cGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mSW1hZ2Vfc2V0SW1hZ2VUeXBlKHNlbGYsICphcmdzKQogICAgZGVmIHJlc2l6ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZJbWFnZV9yZXNpemUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ3JhYlNjcmVlbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZJbWFnZV9ncmFiU2NyZWVuKHNlbGYsICphcmdzKQogICAgZGVmIGNyb3Aoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mSW1hZ2VfY3JvcChzZWxmLCAqYXJncykKICAgIGRlZiBjcm9wRnJvbShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZJbWFnZV9jcm9wRnJvbShzZWxmLCAqYXJncykKICAgIGRlZiByb3RhdGU5MChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZJbWFnZV9yb3RhdGU5MChzZWxmLCAqYXJncykKICAgIGRlZiBtaXJyb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mSW1hZ2VfbWlycm9yKHNlbGYsICphcmdzKQogICAgZGVmIHVwZGF0ZShzZWxmKTogcmV0dXJuIF9vZi5vZkltYWdlX3VwZGF0ZShzZWxmKQogICAgZGVmIHNldEFuY2hvclBlcmNlbnQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mSW1hZ2Vfc2V0QW5jaG9yUGVyY2VudChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRBbmNob3JQb2ludChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZJbWFnZV9zZXRBbmNob3JQb2ludChzZWxmLCAqYXJncykKICAgIGRlZiByZXNldEFuY2hvcihzZWxmKTogcmV0dXJuIF9vZi5vZkltYWdlX3Jlc2V0QW5jaG9yKHNlbGYpCiAgICBkZWYgZHJhdyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZJbWFnZV9kcmF3KHNlbGYsICphcmdzKQogICAgZGVmIGRyYXdTdWJzZWN0aW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkltYWdlX2RyYXdTdWJzZWN0aW9uKHNlbGYsICphcmdzKQogICAgZGVmIGdldEhlaWdodChzZWxmKTogcmV0dXJuIF9vZi5vZkltYWdlX2dldEhlaWdodChzZWxmKQogICAgZGVmIGdldFdpZHRoKHNlbGYpOiByZXR1cm4gX29mLm9mSW1hZ2VfZ2V0V2lkdGgoc2VsZikKICAgIGRlZiBiQWxsb2NhdGVkKHNlbGYpOiByZXR1cm4gX29mLm9mSW1hZ2VfYkFsbG9jYXRlZChzZWxmKQogICAgZGVmIGlzQWxsb2NhdGVkKHNlbGYpOiByZXR1cm4gX29mLm9mSW1hZ2VfaXNBbGxvY2F0ZWQoc2VsZikKICAgIGRlZiByZWxvYWRUZXh0dXJlKHNlbGYpOiByZXR1cm4gX29mLm9mSW1hZ2VfcmVsb2FkVGV4dHVyZShzZWxmKQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sid2lkdGgiXSA9IF9vZi5vZkltYWdlX3dpZHRoX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sid2lkdGgiXSA9IF9vZi5vZkltYWdlX3dpZHRoX2dldAogICAgaWYgX25ld2NsYXNzOndpZHRoID0gX3N3aWdfcHJvcGVydHkoX29mLm9mSW1hZ2Vfd2lkdGhfZ2V0LCBfb2Yub2ZJbWFnZV93aWR0aF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJoZWlnaHQiXSA9IF9vZi5vZkltYWdlX2hlaWdodF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImhlaWdodCJdID0gX29mLm9mSW1hZ2VfaGVpZ2h0X2dldAogICAgaWYgX25ld2NsYXNzOmhlaWdodCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkltYWdlX2hlaWdodF9nZXQsIF9vZi5vZkltYWdlX2hlaWdodF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJicHAiXSA9IF9vZi5vZkltYWdlX2JwcF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImJwcCJdID0gX29mLm9mSW1hZ2VfYnBwX2dldAogICAgaWYgX25ld2NsYXNzOmJwcCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkltYWdlX2JwcF9nZXQsIF9vZi5vZkltYWdlX2JwcF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ0eXBlIl0gPSBfb2Yub2ZJbWFnZV90eXBlX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sidHlwZSJdID0gX29mLm9mSW1hZ2VfdHlwZV9nZXQKICAgIGlmIF9uZXdjbGFzczp0eXBlID0gX3N3aWdfcHJvcGVydHkoX29mLm9mSW1hZ2VfdHlwZV9nZXQsIF9vZi5vZkltYWdlX3R5cGVfc2V0KQpvZkltYWdlX3N3aWdyZWdpc3RlciA9IF9vZi5vZkltYWdlX3N3aWdyZWdpc3RlcgpvZkltYWdlX3N3aWdyZWdpc3RlcihvZkltYWdlKQoKY2xhc3Mgb2ZGbG9hdEltYWdlKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkZsb2F0SW1hZ2UsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mRmxvYXRJbWFnZSwgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZGbG9hdEltYWdlCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIGFsbG9jYXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0SW1hZ2VfYWxsb2NhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY2xlYXIoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX2NsZWFyKHNlbGYpCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkZsb2F0SW1hZ2UoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgc2V0VXNlVGV4dHVyZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX3NldFVzZVRleHR1cmUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgaXNVc2luZ1RleHR1cmUoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX2lzVXNpbmdUZXh0dXJlKHNlbGYpCiAgICBkZWYgZ2V0VGV4dHVyZVJlZmVyZW5jZShzZWxmKTogcmV0dXJuIF9vZi5vZkZsb2F0SW1hZ2VfZ2V0VGV4dHVyZVJlZmVyZW5jZShzZWxmKQogICAgZGVmIGJpbmQoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX2JpbmQoc2VsZikKICAgIGRlZiB1bmJpbmQoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX3VuYmluZChzZWxmKQogICAgZGVmIGxvYWRJbWFnZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX2xvYWRJbWFnZShzZWxmLCAqYXJncykKICAgIGRlZiBzYXZlSW1hZ2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRJbWFnZV9zYXZlSW1hZ2Uoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Q29tcHJlc3Npb24oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRJbWFnZV9zZXRDb21wcmVzc2lvbihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRQaXhlbHMoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX2dldFBpeGVscyhzZWxmKQogICAgZGVmIGdldFBpeGVsc1JlZihzZWxmKTogcmV0dXJuIF9vZi5vZkZsb2F0SW1hZ2VfZ2V0UGl4ZWxzUmVmKHNlbGYpCiAgICBkZWYgZ2V0Q29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRJbWFnZV9nZXRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX3NldENvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIHNldEZyb21QaXhlbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRJbWFnZV9zZXRGcm9tUGl4ZWxzKHNlbGYsICphcmdzKQogICAgZGVmIHNldEltYWdlVHlwZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX3NldEltYWdlVHlwZShzZWxmLCAqYXJncykKICAgIGRlZiByZXNpemUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRJbWFnZV9yZXNpemUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ3JhYlNjcmVlbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX2dyYWJTY3JlZW4oc2VsZiwgKmFyZ3MpCiAgICBkZWYgY3JvcChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX2Nyb3Aoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY3JvcEZyb20oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRJbWFnZV9jcm9wRnJvbShzZWxmLCAqYXJncykKICAgIGRlZiByb3RhdGU5MChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX3JvdGF0ZTkwKHNlbGYsICphcmdzKQogICAgZGVmIG1pcnJvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX21pcnJvcihzZWxmLCAqYXJncykKICAgIGRlZiB1cGRhdGUoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX3VwZGF0ZShzZWxmKQogICAgZGVmIHNldEFuY2hvclBlcmNlbnQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRJbWFnZV9zZXRBbmNob3JQZXJjZW50KHNlbGYsICphcmdzKQogICAgZGVmIHNldEFuY2hvclBvaW50KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0SW1hZ2Vfc2V0QW5jaG9yUG9pbnQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVzZXRBbmNob3Ioc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX3Jlc2V0QW5jaG9yKHNlbGYpCiAgICBkZWYgZHJhdyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX2RyYXcoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZHJhd1N1YnNlY3Rpb24oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRJbWFnZV9kcmF3U3Vic2VjdGlvbihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRIZWlnaHQoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX2dldEhlaWdodChzZWxmKQogICAgZGVmIGdldFdpZHRoKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRJbWFnZV9nZXRXaWR0aChzZWxmKQogICAgZGVmIGJBbGxvY2F0ZWQoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdEltYWdlX2JBbGxvY2F0ZWQoc2VsZikKICAgIGRlZiBpc0FsbG9jYXRlZChzZWxmKTogcmV0dXJuIF9vZi5vZkZsb2F0SW1hZ2VfaXNBbGxvY2F0ZWQoc2VsZikKICAgIGRlZiByZWxvYWRUZXh0dXJlKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRJbWFnZV9yZWxvYWRUZXh0dXJlKHNlbGYpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ3aWR0aCJdID0gX29mLm9mRmxvYXRJbWFnZV93aWR0aF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIndpZHRoIl0gPSBfb2Yub2ZGbG9hdEltYWdlX3dpZHRoX2dldAogICAgaWYgX25ld2NsYXNzOndpZHRoID0gX3N3aWdfcHJvcGVydHkoX29mLm9mRmxvYXRJbWFnZV93aWR0aF9nZXQsIF9vZi5vZkZsb2F0SW1hZ2Vfd2lkdGhfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siaGVpZ2h0Il0gPSBfb2Yub2ZGbG9hdEltYWdlX2hlaWdodF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImhlaWdodCJdID0gX29mLm9mRmxvYXRJbWFnZV9oZWlnaHRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6aGVpZ2h0ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mRmxvYXRJbWFnZV9oZWlnaHRfZ2V0LCBfb2Yub2ZGbG9hdEltYWdlX2hlaWdodF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJicHAiXSA9IF9vZi5vZkZsb2F0SW1hZ2VfYnBwX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siYnBwIl0gPSBfb2Yub2ZGbG9hdEltYWdlX2JwcF9nZXQKICAgIGlmIF9uZXdjbGFzczpicHAgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZGbG9hdEltYWdlX2JwcF9nZXQsIF9vZi5vZkZsb2F0SW1hZ2VfYnBwX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInR5cGUiXSA9IF9vZi5vZkZsb2F0SW1hZ2VfdHlwZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInR5cGUiXSA9IF9vZi5vZkZsb2F0SW1hZ2VfdHlwZV9nZXQKICAgIGlmIF9uZXdjbGFzczp0eXBlID0gX3N3aWdfcHJvcGVydHkoX29mLm9mRmxvYXRJbWFnZV90eXBlX2dldCwgX29mLm9mRmxvYXRJbWFnZV90eXBlX3NldCkKb2ZGbG9hdEltYWdlX3N3aWdyZWdpc3RlciA9IF9vZi5vZkZsb2F0SW1hZ2Vfc3dpZ3JlZ2lzdGVyCm9mRmxvYXRJbWFnZV9zd2lncmVnaXN0ZXIob2ZGbG9hdEltYWdlKQoKY2xhc3Mgb2ZTaG9ydEltYWdlKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZlNob3J0SW1hZ2UsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mU2hvcnRJbWFnZSwgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZTaG9ydEltYWdlCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIGFsbG9jYXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0SW1hZ2VfYWxsb2NhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY2xlYXIoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX2NsZWFyKHNlbGYpCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZlNob3J0SW1hZ2UoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgc2V0VXNlVGV4dHVyZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX3NldFVzZVRleHR1cmUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgaXNVc2luZ1RleHR1cmUoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX2lzVXNpbmdUZXh0dXJlKHNlbGYpCiAgICBkZWYgZ2V0VGV4dHVyZVJlZmVyZW5jZShzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0SW1hZ2VfZ2V0VGV4dHVyZVJlZmVyZW5jZShzZWxmKQogICAgZGVmIGJpbmQoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX2JpbmQoc2VsZikKICAgIGRlZiB1bmJpbmQoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX3VuYmluZChzZWxmKQogICAgZGVmIGxvYWRJbWFnZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX2xvYWRJbWFnZShzZWxmLCAqYXJncykKICAgIGRlZiBzYXZlSW1hZ2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRJbWFnZV9zYXZlSW1hZ2Uoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Q29tcHJlc3Npb24oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRJbWFnZV9zZXRDb21wcmVzc2lvbihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRQaXhlbHMoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX2dldFBpeGVscyhzZWxmKQogICAgZGVmIGdldFBpeGVsc1JlZihzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0SW1hZ2VfZ2V0UGl4ZWxzUmVmKHNlbGYpCiAgICBkZWYgZ2V0Q29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRJbWFnZV9nZXRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX3NldENvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIHNldEZyb21QaXhlbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRJbWFnZV9zZXRGcm9tUGl4ZWxzKHNlbGYsICphcmdzKQogICAgZGVmIHNldEltYWdlVHlwZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX3NldEltYWdlVHlwZShzZWxmLCAqYXJncykKICAgIGRlZiByZXNpemUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRJbWFnZV9yZXNpemUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ3JhYlNjcmVlbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX2dyYWJTY3JlZW4oc2VsZiwgKmFyZ3MpCiAgICBkZWYgY3JvcChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX2Nyb3Aoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY3JvcEZyb20oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRJbWFnZV9jcm9wRnJvbShzZWxmLCAqYXJncykKICAgIGRlZiByb3RhdGU5MChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX3JvdGF0ZTkwKHNlbGYsICphcmdzKQogICAgZGVmIG1pcnJvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX21pcnJvcihzZWxmLCAqYXJncykKICAgIGRlZiB1cGRhdGUoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX3VwZGF0ZShzZWxmKQogICAgZGVmIHNldEFuY2hvclBlcmNlbnQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRJbWFnZV9zZXRBbmNob3JQZXJjZW50KHNlbGYsICphcmdzKQogICAgZGVmIHNldEFuY2hvclBvaW50KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0SW1hZ2Vfc2V0QW5jaG9yUG9pbnQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVzZXRBbmNob3Ioc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX3Jlc2V0QW5jaG9yKHNlbGYpCiAgICBkZWYgZHJhdyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX2RyYXcoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZHJhd1N1YnNlY3Rpb24oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRJbWFnZV9kcmF3U3Vic2VjdGlvbihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRIZWlnaHQoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX2dldEhlaWdodChzZWxmKQogICAgZGVmIGdldFdpZHRoKHNlbGYpOiByZXR1cm4gX29mLm9mU2hvcnRJbWFnZV9nZXRXaWR0aChzZWxmKQogICAgZGVmIGJBbGxvY2F0ZWQoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydEltYWdlX2JBbGxvY2F0ZWQoc2VsZikKICAgIGRlZiBpc0FsbG9jYXRlZChzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0SW1hZ2VfaXNBbGxvY2F0ZWQoc2VsZikKICAgIGRlZiByZWxvYWRUZXh0dXJlKHNlbGYpOiByZXR1cm4gX29mLm9mU2hvcnRJbWFnZV9yZWxvYWRUZXh0dXJlKHNlbGYpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ3aWR0aCJdID0gX29mLm9mU2hvcnRJbWFnZV93aWR0aF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIndpZHRoIl0gPSBfb2Yub2ZTaG9ydEltYWdlX3dpZHRoX2dldAogICAgaWYgX25ld2NsYXNzOndpZHRoID0gX3N3aWdfcHJvcGVydHkoX29mLm9mU2hvcnRJbWFnZV93aWR0aF9nZXQsIF9vZi5vZlNob3J0SW1hZ2Vfd2lkdGhfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siaGVpZ2h0Il0gPSBfb2Yub2ZTaG9ydEltYWdlX2hlaWdodF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImhlaWdodCJdID0gX29mLm9mU2hvcnRJbWFnZV9oZWlnaHRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6aGVpZ2h0ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mU2hvcnRJbWFnZV9oZWlnaHRfZ2V0LCBfb2Yub2ZTaG9ydEltYWdlX2hlaWdodF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJicHAiXSA9IF9vZi5vZlNob3J0SW1hZ2VfYnBwX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siYnBwIl0gPSBfb2Yub2ZTaG9ydEltYWdlX2JwcF9nZXQKICAgIGlmIF9uZXdjbGFzczpicHAgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZTaG9ydEltYWdlX2JwcF9nZXQsIF9vZi5vZlNob3J0SW1hZ2VfYnBwX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInR5cGUiXSA9IF9vZi5vZlNob3J0SW1hZ2VfdHlwZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInR5cGUiXSA9IF9vZi5vZlNob3J0SW1hZ2VfdHlwZV9nZXQKICAgIGlmIF9uZXdjbGFzczp0eXBlID0gX3N3aWdfcHJvcGVydHkoX29mLm9mU2hvcnRJbWFnZV90eXBlX2dldCwgX29mLm9mU2hvcnRJbWFnZV90eXBlX3NldCkKb2ZTaG9ydEltYWdlX3N3aWdyZWdpc3RlciA9IF9vZi5vZlNob3J0SW1hZ2Vfc3dpZ3JlZ2lzdGVyCm9mU2hvcnRJbWFnZV9zd2lncmVnaXN0ZXIob2ZTaG9ydEltYWdlKQoKT0ZfSU5URVJQT0xBVEVfTkVBUkVTVF9ORUlHSEJPUiA9IF9vZi5PRl9JTlRFUlBPTEFURV9ORUFSRVNUX05FSUdIQk9SCk9GX0lOVEVSUE9MQVRFX0JJTElORUFSID0gX29mLk9GX0lOVEVSUE9MQVRFX0JJTElORUFSCk9GX0lOVEVSUE9MQVRFX0JJQ1VCSUMgPSBfb2YuT0ZfSU5URVJQT0xBVEVfQklDVUJJQwpjbGFzcyBvZlBpeGVscyhfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZQaXhlbHMsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mUGl4ZWxzLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZlBpeGVscwogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mUGl4ZWxzKCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgZGVmIGFsbG9jYXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBpeGVsc19hbGxvY2F0ZShzZWxmLCAqYXJncykKICAgIGRlZiBzZXQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGl4ZWxzX3NldChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRGcm9tUGl4ZWxzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBpeGVsc19zZXRGcm9tUGl4ZWxzKHNlbGYsICphcmdzKQogICAgZGVmIHNldEZyb21FeHRlcm5hbFBpeGVscyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQaXhlbHNfc2V0RnJvbUV4dGVybmFsUGl4ZWxzKHNlbGYsICphcmdzKQogICAgZGVmIHNldEZyb21BbGlnbmVkUGl4ZWxzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBpeGVsc19zZXRGcm9tQWxpZ25lZFBpeGVscyhzZWxmLCAqYXJncykKICAgIGRlZiBzd2FwKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBpeGVsc19zd2FwKHNlbGYsICphcmdzKQogICAgZGVmIGNyb3Aoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGl4ZWxzX2Nyb3Aoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY3JvcFRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBpeGVsc19jcm9wVG8oc2VsZiwgKmFyZ3MpCiAgICBkZWYgcm90YXRlOTAoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGl4ZWxzX3JvdGF0ZTkwKHNlbGYsICphcmdzKQogICAgZGVmIHJvdGF0ZTkwVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGl4ZWxzX3JvdGF0ZTkwVG8oc2VsZiwgKmFyZ3MpCiAgICBkZWYgbWlycm9yVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGl4ZWxzX21pcnJvclRvKHNlbGYsICphcmdzKQogICAgZGVmIG1pcnJvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQaXhlbHNfbWlycm9yKHNlbGYsICphcmdzKQogICAgZGVmIHJlc2l6ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQaXhlbHNfcmVzaXplKHNlbGYsICphcmdzKQogICAgZGVmIHJlc2l6ZVRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBpeGVsc19yZXNpemVUbyhzZWxmLCAqYXJncykKICAgIGRlZiBwYXN0ZUludG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGl4ZWxzX3Bhc3RlSW50byhzZWxmLCAqYXJncykKICAgIGRlZiBzd2FwUmdiKHNlbGYpOiByZXR1cm4gX29mLm9mUGl4ZWxzX3N3YXBSZ2Ioc2VsZikKICAgIGRlZiBjbGVhcihzZWxmKTogcmV0dXJuIF9vZi5vZlBpeGVsc19jbGVhcihzZWxmKQogICAgZGVmIGdldFBpeGVscyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQaXhlbHNfZ2V0UGl4ZWxzKHNlbGYsICphcmdzKQogICAgZGVmIGdldFBpeGVsSW5kZXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGl4ZWxzX2dldFBpeGVsSW5kZXgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0Q29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGl4ZWxzX2dldENvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIHNldENvbG9yKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBpeGVsc19zZXRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBpc0FsbG9jYXRlZChzZWxmKTogcmV0dXJuIF9vZi5vZlBpeGVsc19pc0FsbG9jYXRlZChzZWxmKQogICAgZGVmIGdldFdpZHRoKHNlbGYpOiByZXR1cm4gX29mLm9mUGl4ZWxzX2dldFdpZHRoKHNlbGYpCiAgICBkZWYgZ2V0SGVpZ2h0KHNlbGYpOiByZXR1cm4gX29mLm9mUGl4ZWxzX2dldEhlaWdodChzZWxmKQogICAgZGVmIGdldEJ5dGVzUGVyUGl4ZWwoc2VsZik6IHJldHVybiBfb2Yub2ZQaXhlbHNfZ2V0Qnl0ZXNQZXJQaXhlbChzZWxmKQogICAgZGVmIGdldEJpdHNQZXJQaXhlbChzZWxmKTogcmV0dXJuIF9vZi5vZlBpeGVsc19nZXRCaXRzUGVyUGl4ZWwoc2VsZikKICAgIGRlZiBnZXRCeXRlc1BlckNoYW5uZWwoc2VsZik6IHJldHVybiBfb2Yub2ZQaXhlbHNfZ2V0Qnl0ZXNQZXJDaGFubmVsKHNlbGYpCiAgICBkZWYgZ2V0Qml0c1BlckNoYW5uZWwoc2VsZik6IHJldHVybiBfb2Yub2ZQaXhlbHNfZ2V0Qml0c1BlckNoYW5uZWwoc2VsZikKICAgIGRlZiBnZXROdW1DaGFubmVscyhzZWxmKTogcmV0dXJuIF9vZi5vZlBpeGVsc19nZXROdW1DaGFubmVscyhzZWxmKQogICAgZGVmIGdldENoYW5uZWwoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGl4ZWxzX2dldENoYW5uZWwoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Q2hhbm5lbChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQaXhlbHNfc2V0Q2hhbm5lbChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRJbWFnZVR5cGUoc2VsZik6IHJldHVybiBfb2Yub2ZQaXhlbHNfZ2V0SW1hZ2VUeXBlKHNlbGYpCiAgICBkZWYgc2V0SW1hZ2VUeXBlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBpeGVsc19zZXRJbWFnZVR5cGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0TnVtQ2hhbm5lbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGl4ZWxzX3NldE51bUNoYW5uZWxzKHNlbGYsICphcmdzKQogICAgZGVmIHNpemUoc2VsZik6IHJldHVybiBfb2Yub2ZQaXhlbHNfc2l6ZShzZWxmKQpvZlBpeGVsc19zd2lncmVnaXN0ZXIgPSBfb2Yub2ZQaXhlbHNfc3dpZ3JlZ2lzdGVyCm9mUGl4ZWxzX3N3aWdyZWdpc3RlcihvZlBpeGVscykKCmNsYXNzIG9mRmxvYXRQaXhlbHMoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mRmxvYXRQaXhlbHMsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mRmxvYXRQaXhlbHMsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mRmxvYXRQaXhlbHMKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7CiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkZsb2F0UGl4ZWxzKCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgZGVmIGFsbG9jYXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0UGl4ZWxzX2FsbG9jYXRlKHNlbGYsICphcmdzKQogICAgZGVmIHNldChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19zZXQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0RnJvbVBpeGVscyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19zZXRGcm9tUGl4ZWxzKHNlbGYsICphcmdzKQogICAgZGVmIHNldEZyb21FeHRlcm5hbFBpeGVscyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19zZXRGcm9tRXh0ZXJuYWxQaXhlbHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0RnJvbUFsaWduZWRQaXhlbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfc2V0RnJvbUFsaWduZWRQaXhlbHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc3dhcChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19zd2FwKHNlbGYsICphcmdzKQogICAgZGVmIGNyb3Aoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfY3JvcChzZWxmLCAqYXJncykKICAgIGRlZiBjcm9wVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfY3JvcFRvKHNlbGYsICphcmdzKQogICAgZGVmIHJvdGF0ZTkwKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0UGl4ZWxzX3JvdGF0ZTkwKHNlbGYsICphcmdzKQogICAgZGVmIHJvdGF0ZTkwVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfcm90YXRlOTBUbyhzZWxmLCAqYXJncykKICAgIGRlZiBtaXJyb3JUbyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19taXJyb3JUbyhzZWxmLCAqYXJncykKICAgIGRlZiBtaXJyb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfbWlycm9yKHNlbGYsICphcmdzKQogICAgZGVmIHJlc2l6ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19yZXNpemUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVzaXplVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfcmVzaXplVG8oc2VsZiwgKmFyZ3MpCiAgICBkZWYgcGFzdGVJbnRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0UGl4ZWxzX3Bhc3RlSW50byhzZWxmLCAqYXJncykKICAgIGRlZiBzd2FwUmdiKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfc3dhcFJnYihzZWxmKQogICAgZGVmIGNsZWFyKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfY2xlYXIoc2VsZikKICAgIGRlZiBnZXRQaXhlbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfZ2V0UGl4ZWxzKHNlbGYsICphcmdzKQogICAgZGVmIGdldFBpeGVsSW5kZXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfZ2V0UGl4ZWxJbmRleChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19nZXRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19zZXRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBpc0FsbG9jYXRlZChzZWxmKTogcmV0dXJuIF9vZi5vZkZsb2F0UGl4ZWxzX2lzQWxsb2NhdGVkKHNlbGYpCiAgICBkZWYgZ2V0V2lkdGgoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19nZXRXaWR0aChzZWxmKQogICAgZGVmIGdldEhlaWdodChzZWxmKTogcmV0dXJuIF9vZi5vZkZsb2F0UGl4ZWxzX2dldEhlaWdodChzZWxmKQogICAgZGVmIGdldEJ5dGVzUGVyUGl4ZWwoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19nZXRCeXRlc1BlclBpeGVsKHNlbGYpCiAgICBkZWYgZ2V0Qml0c1BlclBpeGVsKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfZ2V0Qml0c1BlclBpeGVsKHNlbGYpCiAgICBkZWYgZ2V0Qnl0ZXNQZXJDaGFubmVsKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfZ2V0Qnl0ZXNQZXJDaGFubmVsKHNlbGYpCiAgICBkZWYgZ2V0Qml0c1BlckNoYW5uZWwoc2VsZik6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19nZXRCaXRzUGVyQ2hhbm5lbChzZWxmKQogICAgZGVmIGdldE51bUNoYW5uZWxzKHNlbGYpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfZ2V0TnVtQ2hhbm5lbHMoc2VsZikKICAgIGRlZiBnZXRDaGFubmVsKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZsb2F0UGl4ZWxzX2dldENoYW5uZWwoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Q2hhbm5lbChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19zZXRDaGFubmVsKHNlbGYsICphcmdzKQogICAgZGVmIGdldEltYWdlVHlwZShzZWxmKTogcmV0dXJuIF9vZi5vZkZsb2F0UGl4ZWxzX2dldEltYWdlVHlwZShzZWxmKQogICAgZGVmIHNldEltYWdlVHlwZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGbG9hdFBpeGVsc19zZXRJbWFnZVR5cGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0TnVtQ2hhbm5lbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmxvYXRQaXhlbHNfc2V0TnVtQ2hhbm5lbHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2l6ZShzZWxmKTogcmV0dXJuIF9vZi5vZkZsb2F0UGl4ZWxzX3NpemUoc2VsZikKb2ZGbG9hdFBpeGVsc19zd2lncmVnaXN0ZXIgPSBfb2Yub2ZGbG9hdFBpeGVsc19zd2lncmVnaXN0ZXIKb2ZGbG9hdFBpeGVsc19zd2lncmVnaXN0ZXIob2ZGbG9hdFBpeGVscykKCmNsYXNzIG9mU2hvcnRQaXhlbHMoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mU2hvcnRQaXhlbHMsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mU2hvcnRQaXhlbHMsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mU2hvcnRQaXhlbHMKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7CiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZlNob3J0UGl4ZWxzKCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgZGVmIGFsbG9jYXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0UGl4ZWxzX2FsbG9jYXRlKHNlbGYsICphcmdzKQogICAgZGVmIHNldChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19zZXQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0RnJvbVBpeGVscyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19zZXRGcm9tUGl4ZWxzKHNlbGYsICphcmdzKQogICAgZGVmIHNldEZyb21FeHRlcm5hbFBpeGVscyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19zZXRGcm9tRXh0ZXJuYWxQaXhlbHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0RnJvbUFsaWduZWRQaXhlbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfc2V0RnJvbUFsaWduZWRQaXhlbHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc3dhcChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19zd2FwKHNlbGYsICphcmdzKQogICAgZGVmIGNyb3Aoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfY3JvcChzZWxmLCAqYXJncykKICAgIGRlZiBjcm9wVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfY3JvcFRvKHNlbGYsICphcmdzKQogICAgZGVmIHJvdGF0ZTkwKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0UGl4ZWxzX3JvdGF0ZTkwKHNlbGYsICphcmdzKQogICAgZGVmIHJvdGF0ZTkwVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfcm90YXRlOTBUbyhzZWxmLCAqYXJncykKICAgIGRlZiBtaXJyb3JUbyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19taXJyb3JUbyhzZWxmLCAqYXJncykKICAgIGRlZiBtaXJyb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfbWlycm9yKHNlbGYsICphcmdzKQogICAgZGVmIHJlc2l6ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19yZXNpemUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVzaXplVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfcmVzaXplVG8oc2VsZiwgKmFyZ3MpCiAgICBkZWYgcGFzdGVJbnRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0UGl4ZWxzX3Bhc3RlSW50byhzZWxmLCAqYXJncykKICAgIGRlZiBzd2FwUmdiKHNlbGYpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfc3dhcFJnYihzZWxmKQogICAgZGVmIGNsZWFyKHNlbGYpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfY2xlYXIoc2VsZikKICAgIGRlZiBnZXRQaXhlbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfZ2V0UGl4ZWxzKHNlbGYsICphcmdzKQogICAgZGVmIGdldFBpeGVsSW5kZXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfZ2V0UGl4ZWxJbmRleChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19nZXRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19zZXRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBpc0FsbG9jYXRlZChzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0UGl4ZWxzX2lzQWxsb2NhdGVkKHNlbGYpCiAgICBkZWYgZ2V0V2lkdGgoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19nZXRXaWR0aChzZWxmKQogICAgZGVmIGdldEhlaWdodChzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0UGl4ZWxzX2dldEhlaWdodChzZWxmKQogICAgZGVmIGdldEJ5dGVzUGVyUGl4ZWwoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19nZXRCeXRlc1BlclBpeGVsKHNlbGYpCiAgICBkZWYgZ2V0Qml0c1BlclBpeGVsKHNlbGYpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfZ2V0Qml0c1BlclBpeGVsKHNlbGYpCiAgICBkZWYgZ2V0Qnl0ZXNQZXJDaGFubmVsKHNlbGYpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfZ2V0Qnl0ZXNQZXJDaGFubmVsKHNlbGYpCiAgICBkZWYgZ2V0Qml0c1BlckNoYW5uZWwoc2VsZik6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19nZXRCaXRzUGVyQ2hhbm5lbChzZWxmKQogICAgZGVmIGdldE51bUNoYW5uZWxzKHNlbGYpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfZ2V0TnVtQ2hhbm5lbHMoc2VsZikKICAgIGRlZiBnZXRDaGFubmVsKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNob3J0UGl4ZWxzX2dldENoYW5uZWwoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Q2hhbm5lbChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19zZXRDaGFubmVsKHNlbGYsICphcmdzKQogICAgZGVmIGdldEltYWdlVHlwZShzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0UGl4ZWxzX2dldEltYWdlVHlwZShzZWxmKQogICAgZGVmIHNldEltYWdlVHlwZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaG9ydFBpeGVsc19zZXRJbWFnZVR5cGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0TnVtQ2hhbm5lbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hvcnRQaXhlbHNfc2V0TnVtQ2hhbm5lbHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2l6ZShzZWxmKTogcmV0dXJuIF9vZi5vZlNob3J0UGl4ZWxzX3NpemUoc2VsZikKb2ZTaG9ydFBpeGVsc19zd2lncmVnaXN0ZXIgPSBfb2Yub2ZTaG9ydFBpeGVsc19zd2lncmVnaXN0ZXIKb2ZTaG9ydFBpeGVsc19zd2lncmVnaXN0ZXIob2ZTaG9ydFBpeGVscykKCgpkZWYgb2ZHZXRNb3VzZVByZXNzZWQoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZHZXRNb3VzZVByZXNzZWQoKmFyZ3MpCm9mR2V0TW91c2VQcmVzc2VkID0gX29mLm9mR2V0TW91c2VQcmVzc2VkCgpkZWYgb2ZHZXRLZXlQcmVzc2VkKCphcmdzKToKICByZXR1cm4gX29mLm9mR2V0S2V5UHJlc3NlZCgqYXJncykKb2ZHZXRLZXlQcmVzc2VkID0gX29mLm9mR2V0S2V5UHJlc3NlZAoKZGVmIG9mR2V0TW91c2VYKCk6CiAgcmV0dXJuIF9vZi5vZkdldE1vdXNlWCgpCm9mR2V0TW91c2VYID0gX29mLm9mR2V0TW91c2VYCgpkZWYgb2ZHZXRNb3VzZVkoKToKICByZXR1cm4gX29mLm9mR2V0TW91c2VZKCkKb2ZHZXRNb3VzZVkgPSBfb2Yub2ZHZXRNb3VzZVkKCmRlZiBvZkdldFByZXZpb3VzTW91c2VYKCk6CiAgcmV0dXJuIF9vZi5vZkdldFByZXZpb3VzTW91c2VYKCkKb2ZHZXRQcmV2aW91c01vdXNlWCA9IF9vZi5vZkdldFByZXZpb3VzTW91c2VYCgpkZWYgb2ZHZXRQcmV2aW91c01vdXNlWSgpOgogIHJldHVybiBfb2Yub2ZHZXRQcmV2aW91c01vdXNlWSgpCm9mR2V0UHJldmlvdXNNb3VzZVkgPSBfb2Yub2ZHZXRQcmV2aW91c01vdXNlWQoKZGVmIG9mU2V0RXNjYXBlUXVpdHNBcHAoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTZXRFc2NhcGVRdWl0c0FwcCgqYXJncykKb2ZTZXRFc2NhcGVRdWl0c0FwcCA9IF9vZi5vZlNldEVzY2FwZVF1aXRzQXBwCgpkZWYgZXhpdEFwcCgpOgogIHJldHVybiBfb2YuZXhpdEFwcCgpCmV4aXRBcHAgPSBfb2YuZXhpdEFwcApjbGFzcyBvZkRyYWdJbmZvKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkRyYWdJbmZvLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkRyYWdJbmZvLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJmaWxlcyJdID0gX29mLm9mRHJhZ0luZm9fZmlsZXNfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJmaWxlcyJdID0gX29mLm9mRHJhZ0luZm9fZmlsZXNfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6ZmlsZXMgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZEcmFnSW5mb19maWxlc19nZXQsIF9vZi5vZkRyYWdJbmZvX2ZpbGVzX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInBvc2l0aW9uIl0gPSBfb2Yub2ZEcmFnSW5mb19wb3NpdGlvbl9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInBvc2l0aW9uIl0gPSBfb2Yub2ZEcmFnSW5mb19wb3NpdGlvbl9nZXQKICAgIGlmIF9uZXdjbGFzczpwb3NpdGlvbiA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkRyYWdJbmZvX3Bvc2l0aW9uX2dldCwgX29mLm9mRHJhZ0luZm9fcG9zaXRpb25fc2V0KQogICAgZGVmIF9faW5pdF9fKHNlbGYpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkRyYWdJbmZvKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mRHJhZ0luZm8KICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mRHJhZ0luZm9fc3dpZ3JlZ2lzdGVyID0gX29mLm9mRHJhZ0luZm9fc3dpZ3JlZ2lzdGVyCm9mRHJhZ0luZm9fc3dpZ3JlZ2lzdGVyKG9mRHJhZ0luZm8pCgpjbGFzcyBvZkV2ZW50QXJncyhfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZFdmVudEFyZ3MsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mRXZlbnRBcmdzLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZik6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mRXZlbnRBcmdzKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mRXZlbnRBcmdzCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZkV2ZW50QXJnc19zd2lncmVnaXN0ZXIgPSBfb2Yub2ZFdmVudEFyZ3Nfc3dpZ3JlZ2lzdGVyCm9mRXZlbnRBcmdzX3N3aWdyZWdpc3RlcihvZkV2ZW50QXJncykKCmNsYXNzIG9mRW50cnlFdmVudEFyZ3Mob2ZFdmVudEFyZ3MpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mRXZlbnRBcmdzXTogX19zd2lnX3NldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX3NldG1ldGhvZHNfXycse30pKQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZFbnRyeUV2ZW50QXJncywgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZFdmVudEFyZ3NdOiBfX3N3aWdfZ2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfZ2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mRW50cnlFdmVudEFyZ3MsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInN0YXRlIl0gPSBfb2Yub2ZFbnRyeUV2ZW50QXJnc19zdGF0ZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInN0YXRlIl0gPSBfb2Yub2ZFbnRyeUV2ZW50QXJnc19zdGF0ZV9nZXQKICAgIGlmIF9uZXdjbGFzczpzdGF0ZSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkVudHJ5RXZlbnRBcmdzX3N0YXRlX2dldCwgX29mLm9mRW50cnlFdmVudEFyZ3Nfc3RhdGVfc2V0KQogICAgZGVmIF9faW5pdF9fKHNlbGYpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkVudHJ5RXZlbnRBcmdzKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mRW50cnlFdmVudEFyZ3MKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mRW50cnlFdmVudEFyZ3Nfc3dpZ3JlZ2lzdGVyID0gX29mLm9mRW50cnlFdmVudEFyZ3Nfc3dpZ3JlZ2lzdGVyCm9mRW50cnlFdmVudEFyZ3Nfc3dpZ3JlZ2lzdGVyKG9mRW50cnlFdmVudEFyZ3MpCgpjbGFzcyBvZktleUV2ZW50QXJncyhvZkV2ZW50QXJncyk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZFdmVudEFyZ3NdOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZktleUV2ZW50QXJncywgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZFdmVudEFyZ3NdOiBfX3N3aWdfZ2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfZ2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mS2V5RXZlbnRBcmdzLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJrZXkiXSA9IF9vZi5vZktleUV2ZW50QXJnc19rZXlfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJrZXkiXSA9IF9vZi5vZktleUV2ZW50QXJnc19rZXlfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6a2V5ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mS2V5RXZlbnRBcmdzX2tleV9nZXQsIF9vZi5vZktleUV2ZW50QXJnc19rZXlfc2V0KQogICAgZGVmIF9faW5pdF9fKHNlbGYpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZktleUV2ZW50QXJncygpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZktleUV2ZW50QXJncwogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKb2ZLZXlFdmVudEFyZ3Nfc3dpZ3JlZ2lzdGVyID0gX29mLm9mS2V5RXZlbnRBcmdzX3N3aWdyZWdpc3RlcgpvZktleUV2ZW50QXJnc19zd2lncmVnaXN0ZXIob2ZLZXlFdmVudEFyZ3MpCgpjbGFzcyBvZk1vdXNlRXZlbnRBcmdzKG9mRXZlbnRBcmdzKToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkV2ZW50QXJnc106IF9fc3dpZ19zZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19zZXRtZXRob2RzX18nLHt9KSkKICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mTW91c2VFdmVudEFyZ3MsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mRXZlbnRBcmdzXTogX19zd2lnX2dldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX2dldG1ldGhvZHNfXycse30pKQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZk1vdXNlRXZlbnRBcmdzLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ4Il0gPSBfb2Yub2ZNb3VzZUV2ZW50QXJnc194X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sieCJdID0gX29mLm9mTW91c2VFdmVudEFyZ3NfeF9nZXQKICAgIGlmIF9uZXdjbGFzczp4ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mTW91c2VFdmVudEFyZ3NfeF9nZXQsIF9vZi5vZk1vdXNlRXZlbnRBcmdzX3hfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sieSJdID0gX29mLm9mTW91c2VFdmVudEFyZ3NfeV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInkiXSA9IF9vZi5vZk1vdXNlRXZlbnRBcmdzX3lfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6eSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZk1vdXNlRXZlbnRBcmdzX3lfZ2V0LCBfb2Yub2ZNb3VzZUV2ZW50QXJnc195X3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImJ1dHRvbiJdID0gX29mLm9mTW91c2VFdmVudEFyZ3NfYnV0dG9uX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siYnV0dG9uIl0gPSBfb2Yub2ZNb3VzZUV2ZW50QXJnc19idXR0b25fZ2V0CiAgICBpZiBfbmV3Y2xhc3M6YnV0dG9uID0gX3N3aWdfcHJvcGVydHkoX29mLm9mTW91c2VFdmVudEFyZ3NfYnV0dG9uX2dldCwgX29mLm9mTW91c2VFdmVudEFyZ3NfYnV0dG9uX3NldCkKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZNb3VzZUV2ZW50QXJncygpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZk1vdXNlRXZlbnRBcmdzCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZk1vdXNlRXZlbnRBcmdzX3N3aWdyZWdpc3RlciA9IF9vZi5vZk1vdXNlRXZlbnRBcmdzX3N3aWdyZWdpc3RlcgpvZk1vdXNlRXZlbnRBcmdzX3N3aWdyZWdpc3RlcihvZk1vdXNlRXZlbnRBcmdzKQoKY2xhc3Mgb2ZUb3VjaEV2ZW50QXJncyhvZkV2ZW50QXJncyk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZFdmVudEFyZ3NdOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZlRvdWNoRXZlbnRBcmdzLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkV2ZW50QXJnc106IF9fc3dpZ19nZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19nZXRtZXRob2RzX18nLHt9KSkKICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZUb3VjaEV2ZW50QXJncywgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgZG93biA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX2Rvd24KICAgIHVwID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfdXAKICAgIG1vdmUgPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc19tb3ZlCiAgICBkb3VibGVUYXAgPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc19kb3VibGVUYXAKICAgIGNhbmNlbCA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX2NhbmNlbAogICAgX19zd2lnX3NldG1ldGhvZHNfX1sidHlwZSJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfdHlwZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInR5cGUiXSA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX3R5cGVfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6dHlwZSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRvdWNoRXZlbnRBcmdzX3R5cGVfZ2V0LCBfb2Yub2ZUb3VjaEV2ZW50QXJnc190eXBlX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImlkIl0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc19pZF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImlkIl0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc19pZF9nZXQKICAgIGlmIF9uZXdjbGFzczppZCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRvdWNoRXZlbnRBcmdzX2lkX2dldCwgX29mLm9mVG91Y2hFdmVudEFyZ3NfaWRfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sidGltZSJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfdGltZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInRpbWUiXSA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX3RpbWVfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6dGltZSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRvdWNoRXZlbnRBcmdzX3RpbWVfZ2V0LCBfb2Yub2ZUb3VjaEV2ZW50QXJnc190aW1lX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bIngiXSA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX3hfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ4Il0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc194X2dldAogICAgaWYgX25ld2NsYXNzOnggPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZUb3VjaEV2ZW50QXJnc194X2dldCwgX29mLm9mVG91Y2hFdmVudEFyZ3NfeF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ5Il0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc195X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sieSJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfeV9nZXQKICAgIGlmIF9uZXdjbGFzczp5ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVG91Y2hFdmVudEFyZ3NfeV9nZXQsIF9vZi5vZlRvdWNoRXZlbnRBcmdzX3lfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sibnVtVG91Y2hlcyJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfbnVtVG91Y2hlc19zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm51bVRvdWNoZXMiXSA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX251bVRvdWNoZXNfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6bnVtVG91Y2hlcyA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRvdWNoRXZlbnRBcmdzX251bVRvdWNoZXNfZ2V0LCBfb2Yub2ZUb3VjaEV2ZW50QXJnc19udW1Ub3VjaGVzX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bIndpZHRoIl0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc193aWR0aF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIndpZHRoIl0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc193aWR0aF9nZXQKICAgIGlmIF9uZXdjbGFzczp3aWR0aCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRvdWNoRXZlbnRBcmdzX3dpZHRoX2dldCwgX29mLm9mVG91Y2hFdmVudEFyZ3Nfd2lkdGhfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siaGVpZ2h0Il0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc19oZWlnaHRfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJoZWlnaHQiXSA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX2hlaWdodF9nZXQKICAgIGlmIF9uZXdjbGFzczpoZWlnaHQgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZUb3VjaEV2ZW50QXJnc19oZWlnaHRfZ2V0LCBfb2Yub2ZUb3VjaEV2ZW50QXJnc19oZWlnaHRfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siYW5nbGUiXSA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX2FuZ2xlX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siYW5nbGUiXSA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX2FuZ2xlX2dldAogICAgaWYgX25ld2NsYXNzOmFuZ2xlID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVG91Y2hFdmVudEFyZ3NfYW5nbGVfZ2V0LCBfb2Yub2ZUb3VjaEV2ZW50QXJnc19hbmdsZV9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJtaW5vcmF4aXMiXSA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX21pbm9yYXhpc19zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm1pbm9yYXhpcyJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfbWlub3JheGlzX2dldAogICAgaWYgX25ld2NsYXNzOm1pbm9yYXhpcyA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRvdWNoRXZlbnRBcmdzX21pbm9yYXhpc19nZXQsIF9vZi5vZlRvdWNoRXZlbnRBcmdzX21pbm9yYXhpc19zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJtYWpvcmF4aXMiXSA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX21ham9yYXhpc19zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm1ham9yYXhpcyJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfbWFqb3JheGlzX2dldAogICAgaWYgX25ld2NsYXNzOm1ham9yYXhpcyA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRvdWNoRXZlbnRBcmdzX21ham9yYXhpc19nZXQsIF9vZi5vZlRvdWNoRXZlbnRBcmdzX21ham9yYXhpc19zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJwcmVzc3VyZSJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfcHJlc3N1cmVfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJwcmVzc3VyZSJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfcHJlc3N1cmVfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6cHJlc3N1cmUgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZUb3VjaEV2ZW50QXJnc19wcmVzc3VyZV9nZXQsIF9vZi5vZlRvdWNoRXZlbnRBcmdzX3ByZXNzdXJlX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInhzcGVlZCJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfeHNwZWVkX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sieHNwZWVkIl0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc194c3BlZWRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6eHNwZWVkID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVG91Y2hFdmVudEFyZ3NfeHNwZWVkX2dldCwgX29mLm9mVG91Y2hFdmVudEFyZ3NfeHNwZWVkX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInlzcGVlZCJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfeXNwZWVkX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sieXNwZWVkIl0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc195c3BlZWRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6eXNwZWVkID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVG91Y2hFdmVudEFyZ3NfeXNwZWVkX2dldCwgX29mLm9mVG91Y2hFdmVudEFyZ3NfeXNwZWVkX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInhhY2NlbCJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfeGFjY2VsX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sieGFjY2VsIl0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc194YWNjZWxfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6eGFjY2VsID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVG91Y2hFdmVudEFyZ3NfeGFjY2VsX2dldCwgX29mLm9mVG91Y2hFdmVudEFyZ3NfeGFjY2VsX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInlhY2NlbCJdID0gX29mLm9mVG91Y2hFdmVudEFyZ3NfeWFjY2VsX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sieWFjY2VsIl0gPSBfb2Yub2ZUb3VjaEV2ZW50QXJnc195YWNjZWxfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6eWFjY2VsID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVG91Y2hFdmVudEFyZ3NfeWFjY2VsX2dldCwgX29mLm9mVG91Y2hFdmVudEFyZ3NfeWFjY2VsX3NldCkKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZUb3VjaEV2ZW50QXJncygpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZlRvdWNoRXZlbnRBcmdzCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZlRvdWNoRXZlbnRBcmdzX3N3aWdyZWdpc3RlciA9IF9vZi5vZlRvdWNoRXZlbnRBcmdzX3N3aWdyZWdpc3RlcgpvZlRvdWNoRXZlbnRBcmdzX3N3aWdyZWdpc3RlcihvZlRvdWNoRXZlbnRBcmdzKQoKY2xhc3Mgb2ZBdWRpb0V2ZW50QXJncyhvZkV2ZW50QXJncyk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZFdmVudEFyZ3NdOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkF1ZGlvRXZlbnRBcmdzLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkV2ZW50QXJnc106IF9fc3dpZ19nZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19nZXRtZXRob2RzX18nLHt9KSkKICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZBdWRpb0V2ZW50QXJncywgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX3NldG1ldGhvZHNfX1siYnVmZmVyIl0gPSBfb2Yub2ZBdWRpb0V2ZW50QXJnc19idWZmZXJfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJidWZmZXIiXSA9IF9vZi5vZkF1ZGlvRXZlbnRBcmdzX2J1ZmZlcl9nZXQKICAgIGlmIF9uZXdjbGFzczpidWZmZXIgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZBdWRpb0V2ZW50QXJnc19idWZmZXJfZ2V0LCBfb2Yub2ZBdWRpb0V2ZW50QXJnc19idWZmZXJfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siYnVmZmVyU2l6ZSJdID0gX29mLm9mQXVkaW9FdmVudEFyZ3NfYnVmZmVyU2l6ZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImJ1ZmZlclNpemUiXSA9IF9vZi5vZkF1ZGlvRXZlbnRBcmdzX2J1ZmZlclNpemVfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6YnVmZmVyU2l6ZSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkF1ZGlvRXZlbnRBcmdzX2J1ZmZlclNpemVfZ2V0LCBfb2Yub2ZBdWRpb0V2ZW50QXJnc19idWZmZXJTaXplX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bIm5DaGFubmVscyJdID0gX29mLm9mQXVkaW9FdmVudEFyZ3NfbkNoYW5uZWxzX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sibkNoYW5uZWxzIl0gPSBfb2Yub2ZBdWRpb0V2ZW50QXJnc19uQ2hhbm5lbHNfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6bkNoYW5uZWxzID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQXVkaW9FdmVudEFyZ3NfbkNoYW5uZWxzX2dldCwgX29mLm9mQXVkaW9FdmVudEFyZ3NfbkNoYW5uZWxzX3NldCkKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZBdWRpb0V2ZW50QXJncygpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkF1ZGlvRXZlbnRBcmdzCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZkF1ZGlvRXZlbnRBcmdzX3N3aWdyZWdpc3RlciA9IF9vZi5vZkF1ZGlvRXZlbnRBcmdzX3N3aWdyZWdpc3RlcgpvZkF1ZGlvRXZlbnRBcmdzX3N3aWdyZWdpc3RlcihvZkF1ZGlvRXZlbnRBcmdzKQoKY2xhc3Mgb2ZSZXNpemVFdmVudEFyZ3Mob2ZFdmVudEFyZ3MpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mRXZlbnRBcmdzXTogX19zd2lnX3NldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX3NldG1ldGhvZHNfXycse30pKQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZSZXNpemVFdmVudEFyZ3MsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mRXZlbnRBcmdzXTogX19zd2lnX2dldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX2dldG1ldGhvZHNfXycse30pKQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlJlc2l6ZUV2ZW50QXJncywgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX3NldG1ldGhvZHNfX1sid2lkdGgiXSA9IF9vZi5vZlJlc2l6ZUV2ZW50QXJnc193aWR0aF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIndpZHRoIl0gPSBfb2Yub2ZSZXNpemVFdmVudEFyZ3Nfd2lkdGhfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6d2lkdGggPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZSZXNpemVFdmVudEFyZ3Nfd2lkdGhfZ2V0LCBfb2Yub2ZSZXNpemVFdmVudEFyZ3Nfd2lkdGhfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siaGVpZ2h0Il0gPSBfb2Yub2ZSZXNpemVFdmVudEFyZ3NfaGVpZ2h0X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siaGVpZ2h0Il0gPSBfb2Yub2ZSZXNpemVFdmVudEFyZ3NfaGVpZ2h0X2dldAogICAgaWYgX25ld2NsYXNzOmhlaWdodCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlJlc2l6ZUV2ZW50QXJnc19oZWlnaHRfZ2V0LCBfb2Yub2ZSZXNpemVFdmVudEFyZ3NfaGVpZ2h0X3NldCkKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZSZXNpemVFdmVudEFyZ3MoKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZSZXNpemVFdmVudEFyZ3MKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mUmVzaXplRXZlbnRBcmdzX3N3aWdyZWdpc3RlciA9IF9vZi5vZlJlc2l6ZUV2ZW50QXJnc19zd2lncmVnaXN0ZXIKb2ZSZXNpemVFdmVudEFyZ3Nfc3dpZ3JlZ2lzdGVyKG9mUmVzaXplRXZlbnRBcmdzKQoKY2xhc3Mgb2ZNZXNzYWdlKG9mRXZlbnRBcmdzKToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkV2ZW50QXJnc106IF9fc3dpZ19zZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19zZXRtZXRob2RzX18nLHt9KSkKICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mTWVzc2FnZSwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZFdmVudEFyZ3NdOiBfX3N3aWdfZ2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfZ2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mTWVzc2FnZSwgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZNZXNzYWdlKCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX3NldG1ldGhvZHNfX1sibWVzc2FnZSJdID0gX29mLm9mTWVzc2FnZV9tZXNzYWdlX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sibWVzc2FnZSJdID0gX29mLm9mTWVzc2FnZV9tZXNzYWdlX2dldAogICAgaWYgX25ld2NsYXNzOm1lc3NhZ2UgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZNZXNzYWdlX21lc3NhZ2VfZ2V0LCBfb2Yub2ZNZXNzYWdlX21lc3NhZ2Vfc2V0KQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZNZXNzYWdlCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZk1lc3NhZ2Vfc3dpZ3JlZ2lzdGVyID0gX29mLm9mTWVzc2FnZV9zd2lncmVnaXN0ZXIKb2ZNZXNzYWdlX3N3aWdyZWdpc3RlcihvZk1lc3NhZ2UpCgpjbGFzcyBvZkNvcmVFdmVudHMoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mQ29yZUV2ZW50cywgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZDb3JlRXZlbnRzLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJzZXR1cCJdID0gX29mLm9mQ29yZUV2ZW50c19zZXR1cF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInNldHVwIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX3NldHVwX2dldAogICAgaWYgX25ld2NsYXNzOnNldHVwID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQ29yZUV2ZW50c19zZXR1cF9nZXQsIF9vZi5vZkNvcmVFdmVudHNfc2V0dXBfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sidXBkYXRlIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX3VwZGF0ZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInVwZGF0ZSJdID0gX29mLm9mQ29yZUV2ZW50c191cGRhdGVfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6dXBkYXRlID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQ29yZUV2ZW50c191cGRhdGVfZ2V0LCBfb2Yub2ZDb3JlRXZlbnRzX3VwZGF0ZV9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJkcmF3Il0gPSBfb2Yub2ZDb3JlRXZlbnRzX2RyYXdfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJkcmF3Il0gPSBfb2Yub2ZDb3JlRXZlbnRzX2RyYXdfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6ZHJhdyA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkNvcmVFdmVudHNfZHJhd19nZXQsIF9vZi5vZkNvcmVFdmVudHNfZHJhd19zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJleGl0Il0gPSBfb2Yub2ZDb3JlRXZlbnRzX2V4aXRfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJleGl0Il0gPSBfb2Yub2ZDb3JlRXZlbnRzX2V4aXRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6ZXhpdCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkNvcmVFdmVudHNfZXhpdF9nZXQsIF9vZi5vZkNvcmVFdmVudHNfZXhpdF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ3aW5kb3dFbnRlcmVkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX3dpbmRvd0VudGVyZWRfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ3aW5kb3dFbnRlcmVkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX3dpbmRvd0VudGVyZWRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6d2luZG93RW50ZXJlZCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkNvcmVFdmVudHNfd2luZG93RW50ZXJlZF9nZXQsIF9vZi5vZkNvcmVFdmVudHNfd2luZG93RW50ZXJlZF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ3aW5kb3dSZXNpemVkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX3dpbmRvd1Jlc2l6ZWRfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ3aW5kb3dSZXNpemVkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX3dpbmRvd1Jlc2l6ZWRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6d2luZG93UmVzaXplZCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkNvcmVFdmVudHNfd2luZG93UmVzaXplZF9nZXQsIF9vZi5vZkNvcmVFdmVudHNfd2luZG93UmVzaXplZF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJrZXlQcmVzc2VkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX2tleVByZXNzZWRfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJrZXlQcmVzc2VkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX2tleVByZXNzZWRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6a2V5UHJlc3NlZCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkNvcmVFdmVudHNfa2V5UHJlc3NlZF9nZXQsIF9vZi5vZkNvcmVFdmVudHNfa2V5UHJlc3NlZF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJrZXlSZWxlYXNlZCJdID0gX29mLm9mQ29yZUV2ZW50c19rZXlSZWxlYXNlZF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImtleVJlbGVhc2VkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX2tleVJlbGVhc2VkX2dldAogICAgaWYgX25ld2NsYXNzOmtleVJlbGVhc2VkID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQ29yZUV2ZW50c19rZXlSZWxlYXNlZF9nZXQsIF9vZi5vZkNvcmVFdmVudHNfa2V5UmVsZWFzZWRfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sibW91c2VNb3ZlZCJdID0gX29mLm9mQ29yZUV2ZW50c19tb3VzZU1vdmVkX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sibW91c2VNb3ZlZCJdID0gX29mLm9mQ29yZUV2ZW50c19tb3VzZU1vdmVkX2dldAogICAgaWYgX25ld2NsYXNzOm1vdXNlTW92ZWQgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZDb3JlRXZlbnRzX21vdXNlTW92ZWRfZ2V0LCBfb2Yub2ZDb3JlRXZlbnRzX21vdXNlTW92ZWRfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sibW91c2VEcmFnZ2VkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX21vdXNlRHJhZ2dlZF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm1vdXNlRHJhZ2dlZCJdID0gX29mLm9mQ29yZUV2ZW50c19tb3VzZURyYWdnZWRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6bW91c2VEcmFnZ2VkID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQ29yZUV2ZW50c19tb3VzZURyYWdnZWRfZ2V0LCBfb2Yub2ZDb3JlRXZlbnRzX21vdXNlRHJhZ2dlZF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJtb3VzZVByZXNzZWQiXSA9IF9vZi5vZkNvcmVFdmVudHNfbW91c2VQcmVzc2VkX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sibW91c2VQcmVzc2VkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX21vdXNlUHJlc3NlZF9nZXQKICAgIGlmIF9uZXdjbGFzczptb3VzZVByZXNzZWQgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZDb3JlRXZlbnRzX21vdXNlUHJlc3NlZF9nZXQsIF9vZi5vZkNvcmVFdmVudHNfbW91c2VQcmVzc2VkX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bIm1vdXNlUmVsZWFzZWQiXSA9IF9vZi5vZkNvcmVFdmVudHNfbW91c2VSZWxlYXNlZF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm1vdXNlUmVsZWFzZWQiXSA9IF9vZi5vZkNvcmVFdmVudHNfbW91c2VSZWxlYXNlZF9nZXQKICAgIGlmIF9uZXdjbGFzczptb3VzZVJlbGVhc2VkID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQ29yZUV2ZW50c19tb3VzZVJlbGVhc2VkX2dldCwgX29mLm9mQ29yZUV2ZW50c19tb3VzZVJlbGVhc2VkX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImF1ZGlvUmVjZWl2ZWQiXSA9IF9vZi5vZkNvcmVFdmVudHNfYXVkaW9SZWNlaXZlZF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImF1ZGlvUmVjZWl2ZWQiXSA9IF9vZi5vZkNvcmVFdmVudHNfYXVkaW9SZWNlaXZlZF9nZXQKICAgIGlmIF9uZXdjbGFzczphdWRpb1JlY2VpdmVkID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQ29yZUV2ZW50c19hdWRpb1JlY2VpdmVkX2dldCwgX29mLm9mQ29yZUV2ZW50c19hdWRpb1JlY2VpdmVkX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImF1ZGlvUmVxdWVzdGVkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX2F1ZGlvUmVxdWVzdGVkX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siYXVkaW9SZXF1ZXN0ZWQiXSA9IF9vZi5vZkNvcmVFdmVudHNfYXVkaW9SZXF1ZXN0ZWRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6YXVkaW9SZXF1ZXN0ZWQgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZDb3JlRXZlbnRzX2F1ZGlvUmVxdWVzdGVkX2dldCwgX29mLm9mQ29yZUV2ZW50c19hdWRpb1JlcXVlc3RlZF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ0b3VjaERvd24iXSA9IF9vZi5vZkNvcmVFdmVudHNfdG91Y2hEb3duX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sidG91Y2hEb3duIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX3RvdWNoRG93bl9nZXQKICAgIGlmIF9uZXdjbGFzczp0b3VjaERvd24gPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZDb3JlRXZlbnRzX3RvdWNoRG93bl9nZXQsIF9vZi5vZkNvcmVFdmVudHNfdG91Y2hEb3duX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInRvdWNoVXAiXSA9IF9vZi5vZkNvcmVFdmVudHNfdG91Y2hVcF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInRvdWNoVXAiXSA9IF9vZi5vZkNvcmVFdmVudHNfdG91Y2hVcF9nZXQKICAgIGlmIF9uZXdjbGFzczp0b3VjaFVwID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQ29yZUV2ZW50c190b3VjaFVwX2dldCwgX29mLm9mQ29yZUV2ZW50c190b3VjaFVwX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInRvdWNoTW92ZWQiXSA9IF9vZi5vZkNvcmVFdmVudHNfdG91Y2hNb3ZlZF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInRvdWNoTW92ZWQiXSA9IF9vZi5vZkNvcmVFdmVudHNfdG91Y2hNb3ZlZF9nZXQKICAgIGlmIF9uZXdjbGFzczp0b3VjaE1vdmVkID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQ29yZUV2ZW50c190b3VjaE1vdmVkX2dldCwgX29mLm9mQ29yZUV2ZW50c190b3VjaE1vdmVkX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInRvdWNoRG91YmxlVGFwIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX3RvdWNoRG91YmxlVGFwX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sidG91Y2hEb3VibGVUYXAiXSA9IF9vZi5vZkNvcmVFdmVudHNfdG91Y2hEb3VibGVUYXBfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6dG91Y2hEb3VibGVUYXAgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZDb3JlRXZlbnRzX3RvdWNoRG91YmxlVGFwX2dldCwgX29mLm9mQ29yZUV2ZW50c190b3VjaERvdWJsZVRhcF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ0b3VjaENhbmNlbGxlZCJdID0gX29mLm9mQ29yZUV2ZW50c190b3VjaENhbmNlbGxlZF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInRvdWNoQ2FuY2VsbGVkIl0gPSBfb2Yub2ZDb3JlRXZlbnRzX3RvdWNoQ2FuY2VsbGVkX2dldAogICAgaWYgX25ld2NsYXNzOnRvdWNoQ2FuY2VsbGVkID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQ29yZUV2ZW50c190b3VjaENhbmNlbGxlZF9nZXQsIF9vZi5vZkNvcmVFdmVudHNfdG91Y2hDYW5jZWxsZWRfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sibWVzc2FnZUV2ZW50Il0gPSBfb2Yub2ZDb3JlRXZlbnRzX21lc3NhZ2VFdmVudF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm1lc3NhZ2VFdmVudCJdID0gX29mLm9mQ29yZUV2ZW50c19tZXNzYWdlRXZlbnRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6bWVzc2FnZUV2ZW50ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mQ29yZUV2ZW50c19tZXNzYWdlRXZlbnRfZ2V0LCBfb2Yub2ZDb3JlRXZlbnRzX21lc3NhZ2VFdmVudF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJmaWxlRHJhZ0V2ZW50Il0gPSBfb2Yub2ZDb3JlRXZlbnRzX2ZpbGVEcmFnRXZlbnRfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJmaWxlRHJhZ0V2ZW50Il0gPSBfb2Yub2ZDb3JlRXZlbnRzX2ZpbGVEcmFnRXZlbnRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6ZmlsZURyYWdFdmVudCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkNvcmVFdmVudHNfZmlsZURyYWdFdmVudF9nZXQsIF9vZi5vZkNvcmVFdmVudHNfZmlsZURyYWdFdmVudF9zZXQpCiAgICBkZWYgZGlzYWJsZShzZWxmKTogcmV0dXJuIF9vZi5vZkNvcmVFdmVudHNfZGlzYWJsZShzZWxmKQogICAgZGVmIGVuYWJsZShzZWxmKTogcmV0dXJuIF9vZi5vZkNvcmVFdmVudHNfZW5hYmxlKHNlbGYpCiAgICBkZWYgX19pbml0X18oc2VsZik6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mQ29yZUV2ZW50cygpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkNvcmVFdmVudHMKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mQ29yZUV2ZW50c19zd2lncmVnaXN0ZXIgPSBfb2Yub2ZDb3JlRXZlbnRzX3N3aWdyZWdpc3RlcgpvZkNvcmVFdmVudHNfc3dpZ3JlZ2lzdGVyKG9mQ29yZUV2ZW50cykKCgpkZWYgb2ZTZW5kTWVzc2FnZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNlbmRNZXNzYWdlKCphcmdzKQpvZlNlbmRNZXNzYWdlID0gX29mLm9mU2VuZE1lc3NhZ2UKCmRlZiBvZkV2ZW50cygpOgogIHJldHVybiBfb2Yub2ZFdmVudHMoKQpvZkV2ZW50cyA9IF9vZi5vZkV2ZW50cwoKZGVmIG9mTm90aWZ5U2V0dXAoKToKICByZXR1cm4gX29mLm9mTm90aWZ5U2V0dXAoKQpvZk5vdGlmeVNldHVwID0gX29mLm9mTm90aWZ5U2V0dXAKCmRlZiBvZk5vdGlmeVVwZGF0ZSgpOgogIHJldHVybiBfb2Yub2ZOb3RpZnlVcGRhdGUoKQpvZk5vdGlmeVVwZGF0ZSA9IF9vZi5vZk5vdGlmeVVwZGF0ZQoKZGVmIG9mTm90aWZ5RHJhdygpOgogIHJldHVybiBfb2Yub2ZOb3RpZnlEcmF3KCkKb2ZOb3RpZnlEcmF3ID0gX29mLm9mTm90aWZ5RHJhdwoKZGVmIG9mTm90aWZ5S2V5UHJlc3NlZCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZk5vdGlmeUtleVByZXNzZWQoKmFyZ3MpCm9mTm90aWZ5S2V5UHJlc3NlZCA9IF9vZi5vZk5vdGlmeUtleVByZXNzZWQKCmRlZiBvZk5vdGlmeUtleVJlbGVhc2VkKCphcmdzKToKICByZXR1cm4gX29mLm9mTm90aWZ5S2V5UmVsZWFzZWQoKmFyZ3MpCm9mTm90aWZ5S2V5UmVsZWFzZWQgPSBfb2Yub2ZOb3RpZnlLZXlSZWxlYXNlZAoKZGVmIG9mTm90aWZ5TW91c2VQcmVzc2VkKCphcmdzKToKICByZXR1cm4gX29mLm9mTm90aWZ5TW91c2VQcmVzc2VkKCphcmdzKQpvZk5vdGlmeU1vdXNlUHJlc3NlZCA9IF9vZi5vZk5vdGlmeU1vdXNlUHJlc3NlZAoKZGVmIG9mTm90aWZ5TW91c2VSZWxlYXNlZCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZk5vdGlmeU1vdXNlUmVsZWFzZWQoKmFyZ3MpCm9mTm90aWZ5TW91c2VSZWxlYXNlZCA9IF9vZi5vZk5vdGlmeU1vdXNlUmVsZWFzZWQKCmRlZiBvZk5vdGlmeU1vdXNlRHJhZ2dlZCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZk5vdGlmeU1vdXNlRHJhZ2dlZCgqYXJncykKb2ZOb3RpZnlNb3VzZURyYWdnZWQgPSBfb2Yub2ZOb3RpZnlNb3VzZURyYWdnZWQKCmRlZiBvZk5vdGlmeU1vdXNlTW92ZWQoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZOb3RpZnlNb3VzZU1vdmVkKCphcmdzKQpvZk5vdGlmeU1vdXNlTW92ZWQgPSBfb2Yub2ZOb3RpZnlNb3VzZU1vdmVkCgpkZWYgb2ZOb3RpZnlFeGl0KCk6CiAgcmV0dXJuIF9vZi5vZk5vdGlmeUV4aXQoKQpvZk5vdGlmeUV4aXQgPSBfb2Yub2ZOb3RpZnlFeGl0CgpkZWYgb2ZOb3RpZnlXaW5kb3dSZXNpemVkKCphcmdzKToKICByZXR1cm4gX29mLm9mTm90aWZ5V2luZG93UmVzaXplZCgqYXJncykKb2ZOb3RpZnlXaW5kb3dSZXNpemVkID0gX29mLm9mTm90aWZ5V2luZG93UmVzaXplZAoKZGVmIG9mTm90aWZ5V2luZG93RW50cnkoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZOb3RpZnlXaW5kb3dFbnRyeSgqYXJncykKb2ZOb3RpZnlXaW5kb3dFbnRyeSA9IF9vZi5vZk5vdGlmeVdpbmRvd0VudHJ5CgpkZWYgb2ZOb3RpZnlEcmFnRXZlbnQoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZOb3RpZnlEcmFnRXZlbnQoKmFyZ3MpCm9mTm90aWZ5RHJhZ0V2ZW50ID0gX29mLm9mTm90aWZ5RHJhZ0V2ZW50CmNsYXNzIG9mTm9kZShfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZOb2RlLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZk5vZGUsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZOb2RlKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mTm9kZQogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBzZXRQYXJlbnQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTm9kZV9zZXRQYXJlbnQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY2xlYXJQYXJlbnQoc2VsZik6IHJldHVybiBfb2Yub2ZOb2RlX2NsZWFyUGFyZW50KHNlbGYpCiAgICBkZWYgZ2V0UGFyZW50KHNlbGYpOiByZXR1cm4gX29mLm9mTm9kZV9nZXRQYXJlbnQoc2VsZikKICAgIGRlZiBnZXRQb3NpdGlvbihzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0UG9zaXRpb24oc2VsZikKICAgIGRlZiBnZXRYKHNlbGYpOiByZXR1cm4gX29mLm9mTm9kZV9nZXRYKHNlbGYpCiAgICBkZWYgZ2V0WShzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0WShzZWxmKQogICAgZGVmIGdldFooc2VsZik6IHJldHVybiBfb2Yub2ZOb2RlX2dldFooc2VsZikKICAgIGRlZiBnZXRYQXhpcyhzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0WEF4aXMoc2VsZikKICAgIGRlZiBnZXRZQXhpcyhzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0WUF4aXMoc2VsZikKICAgIGRlZiBnZXRaQXhpcyhzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0WkF4aXMoc2VsZikKICAgIGRlZiBnZXRTaWRlRGlyKHNlbGYpOiByZXR1cm4gX29mLm9mTm9kZV9nZXRTaWRlRGlyKHNlbGYpCiAgICBkZWYgZ2V0TG9va0F0RGlyKHNlbGYpOiByZXR1cm4gX29mLm9mTm9kZV9nZXRMb29rQXREaXIoc2VsZikKICAgIGRlZiBnZXRVcERpcihzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0VXBEaXIoc2VsZikKICAgIGRlZiBnZXRQaXRjaChzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0UGl0Y2goc2VsZikKICAgIGRlZiBnZXRIZWFkaW5nKHNlbGYpOiByZXR1cm4gX29mLm9mTm9kZV9nZXRIZWFkaW5nKHNlbGYpCiAgICBkZWYgZ2V0Um9sbChzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0Um9sbChzZWxmKQogICAgZGVmIGdldE9yaWVudGF0aW9uUXVhdChzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0T3JpZW50YXRpb25RdWF0KHNlbGYpCiAgICBkZWYgZ2V0T3JpZW50YXRpb25FdWxlcihzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0T3JpZW50YXRpb25FdWxlcihzZWxmKQogICAgZGVmIGdldFNjYWxlKHNlbGYpOiByZXR1cm4gX29mLm9mTm9kZV9nZXRTY2FsZShzZWxmKQogICAgZGVmIGdldExvY2FsVHJhbnNmb3JtTWF0cml4KHNlbGYpOiByZXR1cm4gX29mLm9mTm9kZV9nZXRMb2NhbFRyYW5zZm9ybU1hdHJpeChzZWxmKQogICAgZGVmIGdldEdsb2JhbFRyYW5zZm9ybU1hdHJpeChzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZ2V0R2xvYmFsVHJhbnNmb3JtTWF0cml4KHNlbGYpCiAgICBkZWYgZ2V0R2xvYmFsUG9zaXRpb24oc2VsZik6IHJldHVybiBfb2Yub2ZOb2RlX2dldEdsb2JhbFBvc2l0aW9uKHNlbGYpCiAgICBkZWYgZ2V0R2xvYmFsT3JpZW50YXRpb24oc2VsZik6IHJldHVybiBfb2Yub2ZOb2RlX2dldEdsb2JhbE9yaWVudGF0aW9uKHNlbGYpCiAgICBkZWYgZ2V0R2xvYmFsU2NhbGUoc2VsZik6IHJldHVybiBfb2Yub2ZOb2RlX2dldEdsb2JhbFNjYWxlKHNlbGYpCiAgICBkZWYgc2V0VHJhbnNmb3JtTWF0cml4KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk5vZGVfc2V0VHJhbnNmb3JtTWF0cml4KHNlbGYsICphcmdzKQogICAgZGVmIHNldFBvc2l0aW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk5vZGVfc2V0UG9zaXRpb24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0R2xvYmFsUG9zaXRpb24oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTm9kZV9zZXRHbG9iYWxQb3NpdGlvbihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRPcmllbnRhdGlvbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZOb2RlX3NldE9yaWVudGF0aW9uKHNlbGYsICphcmdzKQogICAgZGVmIHNldEdsb2JhbE9yaWVudGF0aW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk5vZGVfc2V0R2xvYmFsT3JpZW50YXRpb24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0U2NhbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTm9kZV9zZXRTY2FsZShzZWxmLCAqYXJncykKICAgIGRlZiBtb3ZlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk5vZGVfbW92ZShzZWxmLCAqYXJncykKICAgIGRlZiB0cnVjayhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZOb2RlX3RydWNrKHNlbGYsICphcmdzKQogICAgZGVmIGJvb20oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTm9kZV9ib29tKHNlbGYsICphcmdzKQogICAgZGVmIGRvbGx5KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk5vZGVfZG9sbHkoc2VsZiwgKmFyZ3MpCiAgICBkZWYgdGlsdChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZOb2RlX3RpbHQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcGFuKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk5vZGVfcGFuKHNlbGYsICphcmdzKQogICAgZGVmIHJvbGwoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTm9kZV9yb2xsKHNlbGYsICphcmdzKQogICAgZGVmIHJvdGF0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZOb2RlX3JvdGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiByb3RhdGVBcm91bmQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTm9kZV9yb3RhdGVBcm91bmQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbG9va0F0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk5vZGVfbG9va0F0KHNlbGYsICphcmdzKQogICAgZGVmIG9yYml0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk5vZGVfb3JiaXQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgdHJhbnNmb3JtR0woc2VsZik6IHJldHVybiBfb2Yub2ZOb2RlX3RyYW5zZm9ybUdMKHNlbGYpCiAgICBkZWYgcmVzdG9yZVRyYW5zZm9ybUdMKHNlbGYpOiByZXR1cm4gX29mLm9mTm9kZV9yZXN0b3JlVHJhbnNmb3JtR0woc2VsZikKICAgIGRlZiByZXNldFRyYW5zZm9ybShzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfcmVzZXRUcmFuc2Zvcm0oc2VsZikKICAgIGRlZiBjdXN0b21EcmF3KHNlbGYpOiByZXR1cm4gX29mLm9mTm9kZV9jdXN0b21EcmF3KHNlbGYpCiAgICBkZWYgZHJhdyhzZWxmKTogcmV0dXJuIF9vZi5vZk5vZGVfZHJhdyhzZWxmKQpvZk5vZGVfc3dpZ3JlZ2lzdGVyID0gX29mLm9mTm9kZV9zd2lncmVnaXN0ZXIKb2ZOb2RlX3N3aWdyZWdpc3RlcihvZk5vZGUpCgoKZGVmIG9mRHJhd0F4aXMoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZEcmF3QXhpcygqYXJncykKb2ZEcmF3QXhpcyA9IF9vZi5vZkRyYXdBeGlzCgpkZWYgb2ZEcmF3R3JpZChzY2FsZT0xMC4wLCB0aWNrcz04LjAsIGxhYmVscz1GYWxzZSwgeD1UcnVlLCB5PVRydWUsIHo9VHJ1ZSk6CiAgcmV0dXJuIF9vZi5vZkRyYXdHcmlkKHNjYWxlLCB0aWNrcywgbGFiZWxzLCB4LCB5LCB6KQpvZkRyYXdHcmlkID0gX29mLm9mRHJhd0dyaWQKCmRlZiBvZkRyYXdHcmlkUGxhbmUoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZEcmF3R3JpZFBsYW5lKCphcmdzKQpvZkRyYXdHcmlkUGxhbmUgPSBfb2Yub2ZEcmF3R3JpZFBsYW5lCgpkZWYgb2ZEcmF3QXJyb3coKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZEcmF3QXJyb3coKmFyZ3MpCm9mRHJhd0Fycm93ID0gX29mLm9mRHJhd0Fycm93CgpkZWYgb2ZEcmF3Um90YXRpb25BeGVzKCphcmdzKToKICByZXR1cm4gX29mLm9mRHJhd1JvdGF0aW9uQXhlcygqYXJncykKb2ZEcmF3Um90YXRpb25BeGVzID0gX29mLm9mRHJhd1JvdGF0aW9uQXhlcwpjbGFzcyBvZkNhbWVyYShvZk5vZGUpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mTm9kZV06IF9fc3dpZ19zZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19zZXRtZXRob2RzX18nLHt9KSkKICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mQ2FtZXJhLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZk5vZGVdOiBfX3N3aWdfZ2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfZ2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mQ2FtZXJhLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZik6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mQ2FtZXJhKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mQ2FtZXJhCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIHNldEZvdihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZDYW1lcmFfc2V0Rm92KHNlbGYsICphcmdzKQogICAgZGVmIHNldE5lYXJDbGlwKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNhbWVyYV9zZXROZWFyQ2xpcChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRGYXJDbGlwKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNhbWVyYV9zZXRGYXJDbGlwKHNlbGYsICphcmdzKQogICAgZGVmIHNldExlbnNPZmZzZXQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ2FtZXJhX3NldExlbnNPZmZzZXQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0QXNwZWN0UmF0aW8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ2FtZXJhX3NldEFzcGVjdFJhdGlvKHNlbGYsICphcmdzKQogICAgZGVmIHNldEZvcmNlQXNwZWN0UmF0aW8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ2FtZXJhX3NldEZvcmNlQXNwZWN0UmF0aW8oc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0Rm92KHNlbGYpOiByZXR1cm4gX29mLm9mQ2FtZXJhX2dldEZvdihzZWxmKQogICAgZGVmIGdldE5lYXJDbGlwKHNlbGYpOiByZXR1cm4gX29mLm9mQ2FtZXJhX2dldE5lYXJDbGlwKHNlbGYpCiAgICBkZWYgZ2V0RmFyQ2xpcChzZWxmKTogcmV0dXJuIF9vZi5vZkNhbWVyYV9nZXRGYXJDbGlwKHNlbGYpCiAgICBkZWYgZ2V0TGVuc09mZnNldChzZWxmKTogcmV0dXJuIF9vZi5vZkNhbWVyYV9nZXRMZW5zT2Zmc2V0KHNlbGYpCiAgICBkZWYgZ2V0Rm9yY2VBc3BlY3RSYXRpbyhzZWxmKTogcmV0dXJuIF9vZi5vZkNhbWVyYV9nZXRGb3JjZUFzcGVjdFJhdGlvKHNlbGYpCiAgICBkZWYgZ2V0QXNwZWN0UmF0aW8oc2VsZik6IHJldHVybiBfb2Yub2ZDYW1lcmFfZ2V0QXNwZWN0UmF0aW8oc2VsZikKICAgIGRlZiBzZXR1cFBlcnNwZWN0aXZlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNhbWVyYV9zZXR1cFBlcnNwZWN0aXZlKHNlbGYsICphcmdzKQogICAgZGVmIHNldHVwT2ZmQXhpc1ZpZXdQb3J0YWwoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ2FtZXJhX3NldHVwT2ZmQXhpc1ZpZXdQb3J0YWwoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZW5hYmxlT3J0aG8oc2VsZik6IHJldHVybiBfb2Yub2ZDYW1lcmFfZW5hYmxlT3J0aG8oc2VsZikKICAgIGRlZiBkaXNhYmxlT3J0aG8oc2VsZik6IHJldHVybiBfb2Yub2ZDYW1lcmFfZGlzYWJsZU9ydGhvKHNlbGYpCiAgICBkZWYgZ2V0T3J0aG8oc2VsZik6IHJldHVybiBfb2Yub2ZDYW1lcmFfZ2V0T3J0aG8oc2VsZikKICAgIGRlZiBnZXRJbWFnZVBsYW5lRGlzdGFuY2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ2FtZXJhX2dldEltYWdlUGxhbmVEaXN0YW5jZShzZWxmLCAqYXJncykKICAgIGRlZiBiZWdpbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZDYW1lcmFfYmVnaW4oc2VsZiwgKmFyZ3MpCiAgICBkZWYgZW5kXyhzZWxmKTogcmV0dXJuIF9vZi5vZkNhbWVyYV9lbmRfKHNlbGYpCiAgICBkZWYgZ2V0UHJvamVjdGlvbk1hdHJpeChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZDYW1lcmFfZ2V0UHJvamVjdGlvbk1hdHJpeChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRNb2RlbFZpZXdNYXRyaXgoc2VsZik6IHJldHVybiBfb2Yub2ZDYW1lcmFfZ2V0TW9kZWxWaWV3TWF0cml4KHNlbGYpCiAgICBkZWYgZ2V0TW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZDYW1lcmFfZ2V0TW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeChzZWxmLCAqYXJncykKICAgIGRlZiB3b3JsZFRvU2NyZWVuKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNhbWVyYV93b3JsZFRvU2NyZWVuKHNlbGYsICphcmdzKQogICAgZGVmIHNjcmVlblRvV29ybGQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ2FtZXJhX3NjcmVlblRvV29ybGQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgd29ybGRUb0NhbWVyYShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZDYW1lcmFfd29ybGRUb0NhbWVyYShzZWxmLCAqYXJncykKICAgIGRlZiBjYW1lcmFUb1dvcmxkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkNhbWVyYV9jYW1lcmFUb1dvcmxkKHNlbGYsICphcmdzKQpvZkNhbWVyYV9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZDYW1lcmFfc3dpZ3JlZ2lzdGVyCm9mQ2FtZXJhX3N3aWdyZWdpc3RlcihvZkNhbWVyYSkKCmNsYXNzIG9mRWFzeUNhbShvZkNhbWVyYSk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZDYW1lcmFdOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkVhc3lDYW0sIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mQ2FtZXJhXTogX19zd2lnX2dldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX2dldG1ldGhvZHNfXycse30pKQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkVhc3lDYW0sIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZFYXN5Q2FtKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mRWFzeUNhbQogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBiZWdpbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZFYXN5Q2FtX2JlZ2luKHNlbGYsICphcmdzKQogICAgZGVmIHJlc2V0KHNlbGYpOiByZXR1cm4gX29mLm9mRWFzeUNhbV9yZXNldChzZWxmKQogICAgZGVmIHNldFRhcmdldChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZFYXN5Q2FtX3NldFRhcmdldChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRUYXJnZXQoc2VsZik6IHJldHVybiBfb2Yub2ZFYXN5Q2FtX2dldFRhcmdldChzZWxmKQogICAgZGVmIHNldERpc3RhbmNlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkVhc3lDYW1fc2V0RGlzdGFuY2Uoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0RGlzdGFuY2Uoc2VsZik6IHJldHVybiBfb2Yub2ZFYXN5Q2FtX2dldERpc3RhbmNlKHNlbGYpCiAgICBkZWYgc2V0RHJhZyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZFYXN5Q2FtX3NldERyYWcoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0RHJhZyhzZWxmKTogcmV0dXJuIF9vZi5vZkVhc3lDYW1fZ2V0RHJhZyhzZWxmKQogICAgZGVmIHNldFRyYW5zbGF0aW9uS2V5KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkVhc3lDYW1fc2V0VHJhbnNsYXRpb25LZXkoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0VHJhbnNsYXRpb25LZXkoc2VsZik6IHJldHVybiBfb2Yub2ZFYXN5Q2FtX2dldFRyYW5zbGF0aW9uS2V5KHNlbGYpCiAgICBkZWYgZW5hYmxlTW91c2VJbnB1dChzZWxmKTogcmV0dXJuIF9vZi5vZkVhc3lDYW1fZW5hYmxlTW91c2VJbnB1dChzZWxmKQogICAgZGVmIGRpc2FibGVNb3VzZUlucHV0KHNlbGYpOiByZXR1cm4gX29mLm9mRWFzeUNhbV9kaXNhYmxlTW91c2VJbnB1dChzZWxmKQogICAgZGVmIGdldE1vdXNlSW5wdXRFbmFibGVkKHNlbGYpOiByZXR1cm4gX29mLm9mRWFzeUNhbV9nZXRNb3VzZUlucHV0RW5hYmxlZChzZWxmKQogICAgZGVmIGVuYWJsZU1vdXNlTWlkZGxlQnV0dG9uKHNlbGYpOiByZXR1cm4gX29mLm9mRWFzeUNhbV9lbmFibGVNb3VzZU1pZGRsZUJ1dHRvbihzZWxmKQogICAgZGVmIGRpc2FibGVNb3VzZU1pZGRsZUJ1dHRvbihzZWxmKTogcmV0dXJuIF9vZi5vZkVhc3lDYW1fZGlzYWJsZU1vdXNlTWlkZGxlQnV0dG9uKHNlbGYpCiAgICBkZWYgZ2V0TW91c2VNaWRkbGVCdXR0b25FbmFibGVkKHNlbGYpOiByZXR1cm4gX29mLm9mRWFzeUNhbV9nZXRNb3VzZU1pZGRsZUJ1dHRvbkVuYWJsZWQoc2VsZikKICAgIGRlZiBzZXRBdXRvRGlzdGFuY2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRWFzeUNhbV9zZXRBdXRvRGlzdGFuY2Uoc2VsZiwgKmFyZ3MpCm9mRWFzeUNhbV9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZFYXN5Q2FtX3N3aWdyZWdpc3RlcgpvZkVhc3lDYW1fc3dpZ3JlZ2lzdGVyKG9mRWFzeUNhbSkKCmNsYXNzIG9mTWVzaChfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZNZXNoLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZk1lc2gsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mTWVzaCgqYXJncykKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mTWVzaAogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBzZXRNb2RlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfc2V0TW9kZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRNb2RlKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9nZXRNb2RlKHNlbGYpCiAgICBkZWYgY2xlYXIoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2NsZWFyKHNlbGYpCiAgICBkZWYgc2V0dXBJbmRpY2VzQXV0byhzZWxmKTogcmV0dXJuIF9vZi5vZk1lc2hfc2V0dXBJbmRpY2VzQXV0byhzZWxmKQogICAgZGVmIGdldFZlcnRleChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX2dldFZlcnRleChzZWxmLCAqYXJncykKICAgIGRlZiBhZGRWZXJ0ZXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9hZGRWZXJ0ZXgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYWRkVmVydGljZXMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9hZGRWZXJ0aWNlcyhzZWxmLCAqYXJncykKICAgIGRlZiByZW1vdmVWZXJ0ZXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9yZW1vdmVWZXJ0ZXgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0VmVydGV4KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfc2V0VmVydGV4KHNlbGYsICphcmdzKQogICAgZGVmIGNsZWFyVmVydGljZXMoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2NsZWFyVmVydGljZXMoc2VsZikKICAgIGRlZiBnZXROb3JtYWwoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9nZXROb3JtYWwoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYWRkTm9ybWFsKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfYWRkTm9ybWFsKHNlbGYsICphcmdzKQogICAgZGVmIGFkZE5vcm1hbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9hZGROb3JtYWxzKHNlbGYsICphcmdzKQogICAgZGVmIHJlbW92ZU5vcm1hbChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX3JlbW92ZU5vcm1hbChzZWxmLCAqYXJncykKICAgIGRlZiBzZXROb3JtYWwoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9zZXROb3JtYWwoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY2xlYXJOb3JtYWxzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9jbGVhck5vcm1hbHMoc2VsZikKICAgIGRlZiBnZXRDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX2dldENvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIGFkZENvbG9yKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfYWRkQ29sb3Ioc2VsZiwgKmFyZ3MpCiAgICBkZWYgYWRkQ29sb3JzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfYWRkQ29sb3JzKHNlbGYsICphcmdzKQogICAgZGVmIHJlbW92ZUNvbG9yKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfcmVtb3ZlQ29sb3Ioc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Q29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9zZXRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBjbGVhckNvbG9ycyhzZWxmKTogcmV0dXJuIF9vZi5vZk1lc2hfY2xlYXJDb2xvcnMoc2VsZikKICAgIGRlZiBnZXRUZXhDb29yZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX2dldFRleENvb3JkKHNlbGYsICphcmdzKQogICAgZGVmIGFkZFRleENvb3JkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfYWRkVGV4Q29vcmQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYWRkVGV4Q29vcmRzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfYWRkVGV4Q29vcmRzKHNlbGYsICphcmdzKQogICAgZGVmIHJlbW92ZVRleENvb3JkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfcmVtb3ZlVGV4Q29vcmQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0VGV4Q29vcmQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9zZXRUZXhDb29yZChzZWxmLCAqYXJncykKICAgIGRlZiBjbGVhclRleENvb3JkcyhzZWxmKTogcmV0dXJuIF9vZi5vZk1lc2hfY2xlYXJUZXhDb29yZHMoc2VsZikKICAgIGRlZiBnZXRJbmRleChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX2dldEluZGV4KHNlbGYsICphcmdzKQogICAgZGVmIGFkZEluZGV4KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfYWRkSW5kZXgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYWRkSW5kaWNlcyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX2FkZEluZGljZXMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVtb3ZlSW5kZXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9yZW1vdmVJbmRleChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRJbmRleChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX3NldEluZGV4KHNlbGYsICphcmdzKQogICAgZGVmIGNsZWFySW5kaWNlcyhzZWxmKTogcmV0dXJuIF9vZi5vZk1lc2hfY2xlYXJJbmRpY2VzKHNlbGYpCiAgICBkZWYgYWRkVHJpYW5nbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9hZGRUcmlhbmdsZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXROdW1WZXJ0aWNlcyhzZWxmKTogcmV0dXJuIF9vZi5vZk1lc2hfZ2V0TnVtVmVydGljZXMoc2VsZikKICAgIGRlZiBnZXROdW1Db2xvcnMoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2dldE51bUNvbG9ycyhzZWxmKQogICAgZGVmIGdldE51bU5vcm1hbHMoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2dldE51bU5vcm1hbHMoc2VsZikKICAgIGRlZiBnZXROdW1UZXhDb29yZHMoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2dldE51bVRleENvb3JkcyhzZWxmKQogICAgZGVmIGdldE51bUluZGljZXMoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2dldE51bUluZGljZXMoc2VsZikKICAgIGRlZiBnZXRWZXJ0aWNlc1BvaW50ZXIoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9nZXRWZXJ0aWNlc1BvaW50ZXIoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0Q29sb3JzUG9pbnRlcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX2dldENvbG9yc1BvaW50ZXIoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0Tm9ybWFsc1BvaW50ZXIoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9nZXROb3JtYWxzUG9pbnRlcihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRUZXhDb29yZHNQb2ludGVyKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfZ2V0VGV4Q29vcmRzUG9pbnRlcihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRJbmRleFBvaW50ZXIoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9nZXRJbmRleFBvaW50ZXIoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0VmVydGljZXMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9nZXRWZXJ0aWNlcyhzZWxmLCAqYXJncykKICAgIGRlZiBnZXRDb2xvcnMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9nZXRDb2xvcnMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0Tm9ybWFscyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX2dldE5vcm1hbHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0VGV4Q29vcmRzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1lc2hfZ2V0VGV4Q29vcmRzKHNlbGYsICphcmdzKQogICAgZGVmIGdldEluZGljZXMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9nZXRJbmRpY2VzKHNlbGYsICphcmdzKQogICAgZGVmIGdldENlbnRyb2lkKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9nZXRDZW50cm9pZChzZWxmKQogICAgZGVmIHNldE5hbWUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWVzaF9zZXROYW1lKHNlbGYsICphcmdzKQogICAgZGVmIGhhdmVWZXJ0c0NoYW5nZWQoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2hhdmVWZXJ0c0NoYW5nZWQoc2VsZikKICAgIGRlZiBoYXZlQ29sb3JzQ2hhbmdlZChzZWxmKTogcmV0dXJuIF9vZi5vZk1lc2hfaGF2ZUNvbG9yc0NoYW5nZWQoc2VsZikKICAgIGRlZiBoYXZlTm9ybWFsc0NoYW5nZWQoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2hhdmVOb3JtYWxzQ2hhbmdlZChzZWxmKQogICAgZGVmIGhhdmVUZXhDb29yZHNDaGFuZ2VkKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9oYXZlVGV4Q29vcmRzQ2hhbmdlZChzZWxmKQogICAgZGVmIGhhdmVJbmRpY2VzQ2hhbmdlZChzZWxmKTogcmV0dXJuIF9vZi5vZk1lc2hfaGF2ZUluZGljZXNDaGFuZ2VkKHNlbGYpCiAgICBkZWYgaGFzVmVydGljZXMoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2hhc1ZlcnRpY2VzKHNlbGYpCiAgICBkZWYgaGFzQ29sb3JzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9oYXNDb2xvcnMoc2VsZikKICAgIGRlZiBoYXNOb3JtYWxzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9oYXNOb3JtYWxzKHNlbGYpCiAgICBkZWYgaGFzVGV4Q29vcmRzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9oYXNUZXhDb29yZHMoc2VsZikKICAgIGRlZiBoYXNJbmRpY2VzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9oYXNJbmRpY2VzKHNlbGYpCiAgICBkZWYgZHJhd1ZlcnRpY2VzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9kcmF3VmVydGljZXMoc2VsZikKICAgIGRlZiBkcmF3V2lyZWZyYW1lKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9kcmF3V2lyZWZyYW1lKHNlbGYpCiAgICBkZWYgZHJhd0ZhY2VzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9kcmF3RmFjZXMoc2VsZikKICAgIGRlZiBkcmF3KHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9kcmF3KHNlbGYpCiAgICBkZWYgbG9hZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX2xvYWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2F2ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNZXNoX3NhdmUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZW5hYmxlQ29sb3JzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9lbmFibGVDb2xvcnMoc2VsZikKICAgIGRlZiBlbmFibGVUZXh0dXJlcyhzZWxmKTogcmV0dXJuIF9vZi5vZk1lc2hfZW5hYmxlVGV4dHVyZXMoc2VsZikKICAgIGRlZiBlbmFibGVOb3JtYWxzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9lbmFibGVOb3JtYWxzKHNlbGYpCiAgICBkZWYgZW5hYmxlSW5kaWNlcyhzZWxmKTogcmV0dXJuIF9vZi5vZk1lc2hfZW5hYmxlSW5kaWNlcyhzZWxmKQogICAgZGVmIGRpc2FibGVDb2xvcnMoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2Rpc2FibGVDb2xvcnMoc2VsZikKICAgIGRlZiBkaXNhYmxlVGV4dHVyZXMoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX2Rpc2FibGVUZXh0dXJlcyhzZWxmKQogICAgZGVmIGRpc2FibGVOb3JtYWxzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9kaXNhYmxlTm9ybWFscyhzZWxmKQogICAgZGVmIGRpc2FibGVJbmRpY2VzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF9kaXNhYmxlSW5kaWNlcyhzZWxmKQogICAgZGVmIHVzaW5nQ29sb3JzKHNlbGYpOiByZXR1cm4gX29mLm9mTWVzaF91c2luZ0NvbG9ycyhzZWxmKQogICAgZGVmIHVzaW5nVGV4dHVyZXMoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX3VzaW5nVGV4dHVyZXMoc2VsZikKICAgIGRlZiB1c2luZ05vcm1hbHMoc2VsZik6IHJldHVybiBfb2Yub2ZNZXNoX3VzaW5nTm9ybWFscyhzZWxmKQogICAgZGVmIHVzaW5nSW5kaWNlcyhzZWxmKTogcmV0dXJuIF9vZi5vZk1lc2hfdXNpbmdJbmRpY2VzKHNlbGYpCm9mTWVzaF9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZNZXNoX3N3aWdyZWdpc3RlcgpvZk1lc2hfc3dpZ3JlZ2lzdGVyKG9mTWVzaCkKCmNsYXNzIG9mRmJvKG9mQmFzZURyYXdzLG9mQmFzZUhhc1RleHR1cmUpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mQmFzZURyYXdzLG9mQmFzZUhhc1RleHR1cmVdOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkZibywgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZCYXNlRHJhd3Msb2ZCYXNlSGFzVGV4dHVyZV06IF9fc3dpZ19nZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19nZXRtZXRob2RzX18nLHt9KSkKICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZGYm8sIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mRmJvKCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZGYm8KICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7CiAgICBkZWYgYWxsb2NhdGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmJvX2FsbG9jYXRlKHNlbGYsICphcmdzKQogICAgZGVmIGlzQWxsb2NhdGVkKHNlbGYpOiByZXR1cm4gX29mLm9mRmJvX2lzQWxsb2NhdGVkKHNlbGYpCiAgICBkZWYgZHJhdyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGYm9fZHJhdyhzZWxmLCAqYXJncykKICAgIGRlZiBzZXRBbmNob3JQZXJjZW50KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZib19zZXRBbmNob3JQZXJjZW50KHNlbGYsICphcmdzKQogICAgZGVmIHNldEFuY2hvclBvaW50KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZib19zZXRBbmNob3JQb2ludChzZWxmLCAqYXJncykKICAgIGRlZiByZXNldEFuY2hvcihzZWxmKTogcmV0dXJuIF9vZi5vZkZib19yZXNldEFuY2hvcihzZWxmKQogICAgZGVmIHNldERlZmF1bHRUZXh0dXJlSW5kZXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmJvX3NldERlZmF1bHRUZXh0dXJlSW5kZXgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0RGVmYXVsdFRleHR1cmVJbmRleChzZWxmKTogcmV0dXJuIF9vZi5vZkZib19nZXREZWZhdWx0VGV4dHVyZUluZGV4KHNlbGYpCiAgICBkZWYgZ2V0VGV4dHVyZVJlZmVyZW5jZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGYm9fZ2V0VGV4dHVyZVJlZmVyZW5jZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXREZXB0aFRleHR1cmUoc2VsZik6IHJldHVybiBfb2Yub2ZGYm9fZ2V0RGVwdGhUZXh0dXJlKHNlbGYpCiAgICBkZWYgc2V0VXNlVGV4dHVyZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZGYm9fc2V0VXNlVGV4dHVyZShzZWxmLCAqYXJncykKICAgIGRlZiBiZWdpbihzZWxmLCBzZXR1cFNjcmVlbj1UcnVlKTogcmV0dXJuIF9vZi5vZkZib19iZWdpbihzZWxmLCBzZXR1cFNjcmVlbikKICAgIGRlZiBlbmRfKHNlbGYpOiByZXR1cm4gX29mLm9mRmJvX2VuZF8oc2VsZikKICAgIGRlZiByZWFkVG9QaXhlbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmJvX3JlYWRUb1BpeGVscyhzZWxmLCAqYXJncykKICAgIGRlZiBnZXRXaWR0aChzZWxmKTogcmV0dXJuIF9vZi5vZkZib19nZXRXaWR0aChzZWxmKQogICAgZGVmIGdldEhlaWdodChzZWxmKTogcmV0dXJuIF9vZi5vZkZib19nZXRIZWlnaHQoc2VsZikKICAgIGRlZiBiaW5kKHNlbGYpOiByZXR1cm4gX29mLm9mRmJvX2JpbmQoc2VsZikKICAgIGRlZiB1bmJpbmQoc2VsZik6IHJldHVybiBfb2Yub2ZGYm9fdW5iaW5kKHNlbGYpCiAgICBkZWYgZ2V0TnVtVGV4dHVyZXMoc2VsZik6IHJldHVybiBfb2Yub2ZGYm9fZ2V0TnVtVGV4dHVyZXMoc2VsZikKICAgIGRlZiBzZXRBY3RpdmVEcmF3QnVmZmVyKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZib19zZXRBY3RpdmVEcmF3QnVmZmVyKHNlbGYsICphcmdzKQogICAgZGVmIHNldEFjdGl2ZURyYXdCdWZmZXJzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkZib19zZXRBY3RpdmVEcmF3QnVmZmVycyhzZWxmLCAqYXJncykKICAgIGRlZiBhY3RpdmF0ZUFsbERyYXdCdWZmZXJzKHNlbGYpOiByZXR1cm4gX29mLm9mRmJvX2FjdGl2YXRlQWxsRHJhd0J1ZmZlcnMoc2VsZikKICAgIGRlZiBnZXRGYm8oc2VsZik6IHJldHVybiBfb2Yub2ZGYm9fZ2V0RmJvKHNlbGYpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJjaGVja0dMU3VwcG9ydCJdID0gbGFtYmRhIHg6IF9vZi5vZkZib19jaGVja0dMU3VwcG9ydAogICAgaWYgX25ld2NsYXNzOmNoZWNrR0xTdXBwb3J0ID0gc3RhdGljbWV0aG9kKF9vZi5vZkZib19jaGVja0dMU3VwcG9ydCkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm1heENvbG9yQXR0YWNobWVudHMiXSA9IGxhbWJkYSB4OiBfb2Yub2ZGYm9fbWF4Q29sb3JBdHRhY2htZW50cwogICAgaWYgX25ld2NsYXNzOm1heENvbG9yQXR0YWNobWVudHMgPSBzdGF0aWNtZXRob2QoX29mLm9mRmJvX21heENvbG9yQXR0YWNobWVudHMpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJtYXhEcmF3QnVmZmVycyJdID0gbGFtYmRhIHg6IF9vZi5vZkZib19tYXhEcmF3QnVmZmVycwogICAgaWYgX25ld2NsYXNzOm1heERyYXdCdWZmZXJzID0gc3RhdGljbWV0aG9kKF9vZi5vZkZib19tYXhEcmF3QnVmZmVycykKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm1heFNhbXBsZXMiXSA9IGxhbWJkYSB4OiBfb2Yub2ZGYm9fbWF4U2FtcGxlcwogICAgaWYgX25ld2NsYXNzOm1heFNhbXBsZXMgPSBzdGF0aWNtZXRob2QoX29mLm9mRmJvX21heFNhbXBsZXMpCiAgICBkZWYgZ2V0RGVwdGhCdWZmZXIoc2VsZik6IHJldHVybiBfb2Yub2ZGYm9fZ2V0RGVwdGhCdWZmZXIoc2VsZikKICAgIGRlZiBnZXRTdGVuY2lsQnVmZmVyKHNlbGYpOiByZXR1cm4gX29mLm9mRmJvX2dldFN0ZW5jaWxCdWZmZXIoc2VsZikKb2ZGYm9fc3dpZ3JlZ2lzdGVyID0gX29mLm9mRmJvX3N3aWdyZWdpc3RlcgpvZkZib19zd2lncmVnaXN0ZXIob2ZGYm8pCgpkZWYgb2ZGYm9fY2hlY2tHTFN1cHBvcnQoKToKICByZXR1cm4gX29mLm9mRmJvX2NoZWNrR0xTdXBwb3J0KCkKb2ZGYm9fY2hlY2tHTFN1cHBvcnQgPSBfb2Yub2ZGYm9fY2hlY2tHTFN1cHBvcnQKCmRlZiBvZkZib19tYXhDb2xvckF0dGFjaG1lbnRzKCk6CiAgcmV0dXJuIF9vZi5vZkZib19tYXhDb2xvckF0dGFjaG1lbnRzKCkKb2ZGYm9fbWF4Q29sb3JBdHRhY2htZW50cyA9IF9vZi5vZkZib19tYXhDb2xvckF0dGFjaG1lbnRzCgpkZWYgb2ZGYm9fbWF4RHJhd0J1ZmZlcnMoKToKICByZXR1cm4gX29mLm9mRmJvX21heERyYXdCdWZmZXJzKCkKb2ZGYm9fbWF4RHJhd0J1ZmZlcnMgPSBfb2Yub2ZGYm9fbWF4RHJhd0J1ZmZlcnMKCmRlZiBvZkZib19tYXhTYW1wbGVzKCk6CiAgcmV0dXJuIF9vZi5vZkZib19tYXhTYW1wbGVzKCkKb2ZGYm9fbWF4U2FtcGxlcyA9IF9vZi5vZkZib19tYXhTYW1wbGVzCgpPRl9QUklNSVRJVkVfVFJJQU5HTEVTID0gX29mLk9GX1BSSU1JVElWRV9UUklBTkdMRVMKT0ZfUFJJTUlUSVZFX1RSSUFOR0xFX1NUUklQID0gX29mLk9GX1BSSU1JVElWRV9UUklBTkdMRV9TVFJJUApPRl9QUklNSVRJVkVfVFJJQU5HTEVfRkFOID0gX29mLk9GX1BSSU1JVElWRV9UUklBTkdMRV9GQU4KT0ZfUFJJTUlUSVZFX0xJTkVTID0gX29mLk9GX1BSSU1JVElWRV9MSU5FUwpPRl9QUklNSVRJVkVfTElORV9TVFJJUCA9IF9vZi5PRl9QUklNSVRJVkVfTElORV9TVFJJUApPRl9QUklNSVRJVkVfTElORV9MT09QID0gX29mLk9GX1BSSU1JVElWRV9MSU5FX0xPT1AKT0ZfUFJJTUlUSVZFX1BPSU5UUyA9IF9vZi5PRl9QUklNSVRJVkVfUE9JTlRTCk9GX1RSSUFOR0xFU19NT0RFID0gX29mLk9GX1RSSUFOR0xFU19NT0RFCk9GX1RSSUFOR0xFX1NUUklQX01PREUgPSBfb2YuT0ZfVFJJQU5HTEVfU1RSSVBfTU9ERQpPRl9UUklBTkdMRV9GQU5fTU9ERSA9IF9vZi5PRl9UUklBTkdMRV9GQU5fTU9ERQpPRl9MSU5FU19NT0RFID0gX29mLk9GX0xJTkVTX01PREUKT0ZfTElORV9TVFJJUF9NT0RFID0gX29mLk9GX0xJTkVfU1RSSVBfTU9ERQpPRl9MSU5FX0xPT1BfTU9ERSA9IF9vZi5PRl9MSU5FX0xPT1BfTU9ERQpPRl9QT0lOVFNfTU9ERSA9IF9vZi5PRl9QT0lOVFNfTU9ERQpPRl9NRVNIX1BPSU5UUyA9IF9vZi5PRl9NRVNIX1BPSU5UUwpPRl9NRVNIX1dJUkVGUkFNRSA9IF9vZi5PRl9NRVNIX1dJUkVGUkFNRQpPRl9NRVNIX0ZJTEwgPSBfb2YuT0ZfTUVTSF9GSUxMCgpkZWYgb2ZHZXRHTFBvbHlNb2RlKCphcmdzKToKICByZXR1cm4gX29mLm9mR2V0R0xQb2x5TW9kZSgqYXJncykKb2ZHZXRHTFBvbHlNb2RlID0gX29mLm9mR2V0R0xQb2x5TW9kZQoKZGVmIG9mR2V0T0ZQb2x5TW9kZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkdldE9GUG9seU1vZGUoKmFyZ3MpCm9mR2V0T0ZQb2x5TW9kZSA9IF9vZi5vZkdldE9GUG9seU1vZGUKCmRlZiBvZkdldEdMUHJpbWl0aXZlTW9kZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkdldEdMUHJpbWl0aXZlTW9kZSgqYXJncykKb2ZHZXRHTFByaW1pdGl2ZU1vZGUgPSBfb2Yub2ZHZXRHTFByaW1pdGl2ZU1vZGUKCmRlZiBvZkdldE9GUHJpbWl0aXZlTW9kZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkdldE9GUHJpbWl0aXZlTW9kZSgqYXJncykKb2ZHZXRPRlByaW1pdGl2ZU1vZGUgPSBfb2Yub2ZHZXRPRlByaW1pdGl2ZU1vZGUKCmRlZiBvZkdldEdMVHlwZUZyb21QaXhlbEZvcm1hdCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkdldEdMVHlwZUZyb21QaXhlbEZvcm1hdCgqYXJncykKb2ZHZXRHTFR5cGVGcm9tUGl4ZWxGb3JtYXQgPSBfb2Yub2ZHZXRHTFR5cGVGcm9tUGl4ZWxGb3JtYXQKT0ZfTUFYX0xJR0hUUyA9IF9vZi5PRl9NQVhfTElHSFRTCk9GX0xJR0hUX1BPSU5UID0gX29mLk9GX0xJR0hUX1BPSU5UCk9GX0xJR0hUX1NQT1QgPSBfb2YuT0ZfTElHSFRfU1BPVApPRl9MSUdIVF9ESVJFQ1RJT05BTCA9IF9vZi5PRl9MSUdIVF9ESVJFQ1RJT05BTAoKZGVmIG9mRW5hYmxlTGlnaHRpbmcoKToKICByZXR1cm4gX29mLm9mRW5hYmxlTGlnaHRpbmcoKQpvZkVuYWJsZUxpZ2h0aW5nID0gX29mLm9mRW5hYmxlTGlnaHRpbmcKCmRlZiBvZkRpc2FibGVMaWdodGluZygpOgogIHJldHVybiBfb2Yub2ZEaXNhYmxlTGlnaHRpbmcoKQpvZkRpc2FibGVMaWdodGluZyA9IF9vZi5vZkRpc2FibGVMaWdodGluZwoKZGVmIG9mRW5hYmxlU2VwYXJhdGVTcGVjdWxhckxpZ2h0KCk6CiAgcmV0dXJuIF9vZi5vZkVuYWJsZVNlcGFyYXRlU3BlY3VsYXJMaWdodCgpCm9mRW5hYmxlU2VwYXJhdGVTcGVjdWxhckxpZ2h0ID0gX29mLm9mRW5hYmxlU2VwYXJhdGVTcGVjdWxhckxpZ2h0CgpkZWYgb2ZEaXNhYmxlU2VwYXJhdGVTcGVjdWxhckxpZ2h0KCk6CiAgcmV0dXJuIF9vZi5vZkRpc2FibGVTZXBhcmF0ZVNwZWN1bGFyTGlnaHQoKQpvZkRpc2FibGVTZXBhcmF0ZVNwZWN1bGFyTGlnaHQgPSBfb2Yub2ZEaXNhYmxlU2VwYXJhdGVTcGVjdWxhckxpZ2h0CgpkZWYgb2ZHZXRMaWdodGluZ0VuYWJsZWQoKToKICByZXR1cm4gX29mLm9mR2V0TGlnaHRpbmdFbmFibGVkKCkKb2ZHZXRMaWdodGluZ0VuYWJsZWQgPSBfb2Yub2ZHZXRMaWdodGluZ0VuYWJsZWQKCmRlZiBvZlNldFNtb290aExpZ2h0aW5nKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0U21vb3RoTGlnaHRpbmcoKmFyZ3MpCm9mU2V0U21vb3RoTGlnaHRpbmcgPSBfb2Yub2ZTZXRTbW9vdGhMaWdodGluZwoKZGVmIG9mU2V0R2xvYmFsQW1iaWVudENvbG9yKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0R2xvYmFsQW1iaWVudENvbG9yKCphcmdzKQpvZlNldEdsb2JhbEFtYmllbnRDb2xvciA9IF9vZi5vZlNldEdsb2JhbEFtYmllbnRDb2xvcgpjbGFzcyBvZkxpZ2h0KG9mTm9kZSk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZOb2RlXTogX19zd2lnX3NldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX3NldG1ldGhvZHNfXycse30pKQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZMaWdodCwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZOb2RlXTogX19zd2lnX2dldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX2dldG1ldGhvZHNfXycse30pKQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkxpZ2h0LCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkxpZ2h0KCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZMaWdodAogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBkZXN0cm95KHNlbGYpOiByZXR1cm4gX29mLm9mTGlnaHRfZGVzdHJveShzZWxmKQogICAgZGVmIHNldHVwKHNlbGYpOiByZXR1cm4gX29mLm9mTGlnaHRfc2V0dXAoc2VsZikKICAgIGRlZiBlbmFibGUoc2VsZik6IHJldHVybiBfb2Yub2ZMaWdodF9lbmFibGUoc2VsZikKICAgIGRlZiBkaXNhYmxlKHNlbGYpOiByZXR1cm4gX29mLm9mTGlnaHRfZGlzYWJsZShzZWxmKQogICAgZGVmIGdldElzRW5hYmxlZChzZWxmKTogcmV0dXJuIF9vZi5vZkxpZ2h0X2dldElzRW5hYmxlZChzZWxmKQogICAgZGVmIHNldERpcmVjdGlvbmFsKHNlbGYpOiByZXR1cm4gX29mLm9mTGlnaHRfc2V0RGlyZWN0aW9uYWwoc2VsZikKICAgIGRlZiBnZXRJc0RpcmVjdGlvbmFsKHNlbGYpOiByZXR1cm4gX29mLm9mTGlnaHRfZ2V0SXNEaXJlY3Rpb25hbChzZWxmKQogICAgZGVmIHNldFNwb3RsaWdodChzZWxmLCBzcG90Q3V0T2ZmPTQ1LiwgZXhwb25lbnQ9MC4pOiByZXR1cm4gX29mLm9mTGlnaHRfc2V0U3BvdGxpZ2h0KHNlbGYsIHNwb3RDdXRPZmYsIGV4cG9uZW50KQogICAgZGVmIGdldElzU3BvdGxpZ2h0KHNlbGYpOiByZXR1cm4gX29mLm9mTGlnaHRfZ2V0SXNTcG90bGlnaHQoc2VsZikKICAgIGRlZiBzZXRTcG90bGlnaHRDdXRPZmYoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTGlnaHRfc2V0U3BvdGxpZ2h0Q3V0T2ZmKHNlbGYsICphcmdzKQogICAgZGVmIGdldFNwb3RsaWdodEN1dE9mZihzZWxmKTogcmV0dXJuIF9vZi5vZkxpZ2h0X2dldFNwb3RsaWdodEN1dE9mZihzZWxmKQogICAgZGVmIHNldFNwb3RDb25jZW50cmF0aW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkxpZ2h0X3NldFNwb3RDb25jZW50cmF0aW9uKHNlbGYsICphcmdzKQogICAgZGVmIGdldFNwb3RDb25jZW50cmF0aW9uKHNlbGYpOiByZXR1cm4gX29mLm9mTGlnaHRfZ2V0U3BvdENvbmNlbnRyYXRpb24oc2VsZikKICAgIGRlZiBzZXRQb2ludExpZ2h0KHNlbGYpOiByZXR1cm4gX29mLm9mTGlnaHRfc2V0UG9pbnRMaWdodChzZWxmKQogICAgZGVmIGdldElzUG9pbnRMaWdodChzZWxmKTogcmV0dXJuIF9vZi5vZkxpZ2h0X2dldElzUG9pbnRMaWdodChzZWxmKQogICAgZGVmIHNldEF0dGVudWF0aW9uKHNlbGYsIGNvbnN0YW50PTEuLCBsaW5lYXI9MC4sIHF1YWRyYXRpYz0wLik6IHJldHVybiBfb2Yub2ZMaWdodF9zZXRBdHRlbnVhdGlvbihzZWxmLCBjb25zdGFudCwgbGluZWFyLCBxdWFkcmF0aWMpCiAgICBkZWYgZ2V0QXR0ZW51YXRpb25Db25zdGFudChzZWxmKTogcmV0dXJuIF9vZi5vZkxpZ2h0X2dldEF0dGVudWF0aW9uQ29uc3RhbnQoc2VsZikKICAgIGRlZiBnZXRBdHRlbnVhdGlvbkxpbmVhcihzZWxmKTogcmV0dXJuIF9vZi5vZkxpZ2h0X2dldEF0dGVudWF0aW9uTGluZWFyKHNlbGYpCiAgICBkZWYgZ2V0QXR0ZW51YXRpb25RdWFkcmF0aWMoc2VsZik6IHJldHVybiBfb2Yub2ZMaWdodF9nZXRBdHRlbnVhdGlvblF1YWRyYXRpYyhzZWxmKQogICAgZGVmIGdldFR5cGUoc2VsZik6IHJldHVybiBfb2Yub2ZMaWdodF9nZXRUeXBlKHNlbGYpCiAgICBkZWYgc2V0QW1iaWVudENvbG9yKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkxpZ2h0X3NldEFtYmllbnRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBzZXREaWZmdXNlQ29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTGlnaHRfc2V0RGlmZnVzZUNvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIHNldFNwZWN1bGFyQ29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTGlnaHRfc2V0U3BlY3VsYXJDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRBbWJpZW50Q29sb3Ioc2VsZik6IHJldHVybiBfb2Yub2ZMaWdodF9nZXRBbWJpZW50Q29sb3Ioc2VsZikKICAgIGRlZiBnZXREaWZmdXNlQ29sb3Ioc2VsZik6IHJldHVybiBfb2Yub2ZMaWdodF9nZXREaWZmdXNlQ29sb3Ioc2VsZikKICAgIGRlZiBnZXRTcGVjdWxhckNvbG9yKHNlbGYpOiByZXR1cm4gX29mLm9mTGlnaHRfZ2V0U3BlY3VsYXJDb2xvcihzZWxmKQogICAgZGVmIGdldExpZ2h0SUQoc2VsZik6IHJldHVybiBfb2Yub2ZMaWdodF9nZXRMaWdodElEKHNlbGYpCiAgICBkZWYgY3VzdG9tRHJhdyhzZWxmKTogcmV0dXJuIF9vZi5vZkxpZ2h0X2N1c3RvbURyYXcoc2VsZikKb2ZMaWdodF9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZMaWdodF9zd2lncmVnaXN0ZXIKb2ZMaWdodF9zd2lncmVnaXN0ZXIob2ZMaWdodCkKCmNsYXNzIG9mTWF0ZXJpYWwoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mTWF0ZXJpYWwsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mTWF0ZXJpYWwsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZNYXRlcmlhbCgpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgc2V0Q29sb3JzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdGVyaWFsX3NldENvbG9ycyhzZWxmLCAqYXJncykKICAgIGRlZiBzZXREaWZmdXNlQ29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0ZXJpYWxfc2V0RGlmZnVzZUNvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIHNldEFtYmllbnRDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRlcmlhbF9zZXRBbWJpZW50Q29sb3Ioc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0U3BlY3VsYXJDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRlcmlhbF9zZXRTcGVjdWxhckNvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIHNldEVtaXNzaXZlQ29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0ZXJpYWxfc2V0RW1pc3NpdmVDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRTaGluaW5lc3Moc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0ZXJpYWxfc2V0U2hpbmluZXNzKHNlbGYsICphcmdzKQogICAgZGVmIGdldERpZmZ1c2VDb2xvcihzZWxmKTogcmV0dXJuIF9vZi5vZk1hdGVyaWFsX2dldERpZmZ1c2VDb2xvcihzZWxmKQogICAgZGVmIGdldEFtYmllbnRDb2xvcihzZWxmKTogcmV0dXJuIF9vZi5vZk1hdGVyaWFsX2dldEFtYmllbnRDb2xvcihzZWxmKQogICAgZGVmIGdldFNwZWN1bGFyQ29sb3Ioc2VsZik6IHJldHVybiBfb2Yub2ZNYXRlcmlhbF9nZXRTcGVjdWxhckNvbG9yKHNlbGYpCiAgICBkZWYgZ2V0RW1pc3NpdmVDb2xvcihzZWxmKTogcmV0dXJuIF9vZi5vZk1hdGVyaWFsX2dldEVtaXNzaXZlQ29sb3Ioc2VsZikKICAgIGRlZiBnZXRTaGluaW5lc3Moc2VsZik6IHJldHVybiBfb2Yub2ZNYXRlcmlhbF9nZXRTaGluaW5lc3Moc2VsZikKICAgIGRlZiBiZWdpbihzZWxmKTogcmV0dXJuIF9vZi5vZk1hdGVyaWFsX2JlZ2luKHNlbGYpCiAgICBkZWYgZW5kXyhzZWxmKTogcmV0dXJuIF9vZi5vZk1hdGVyaWFsX2VuZF8oc2VsZikKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mTWF0ZXJpYWwKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mTWF0ZXJpYWxfc3dpZ3JlZ2lzdGVyID0gX29mLm9mTWF0ZXJpYWxfc3dpZ3JlZ2lzdGVyCm9mTWF0ZXJpYWxfc3dpZ3JlZ2lzdGVyKG9mTWF0ZXJpYWwpCgpjbGFzcyBvZlNoYWRlcihfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZTaGFkZXIsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mU2hhZGVyLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZik6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mU2hhZGVyKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mU2hhZGVyCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIGxvYWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX2xvYWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0R2VvbWV0cnlJbnB1dFR5cGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldEdlb21ldHJ5SW5wdXRUeXBlKHNlbGYsICphcmdzKQogICAgZGVmIHNldEdlb21ldHJ5T3V0cHV0VHlwZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0R2VvbWV0cnlPdXRwdXRUeXBlKHNlbGYsICphcmdzKQogICAgZGVmIHNldEdlb21ldHJ5T3V0cHV0Q291bnQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldEdlb21ldHJ5T3V0cHV0Q291bnQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0R2VvbWV0cnlNYXhPdXRwdXRDb3VudChzZWxmKTogcmV0dXJuIF9vZi5vZlNoYWRlcl9nZXRHZW9tZXRyeU1heE91dHB1dENvdW50KHNlbGYpCiAgICBkZWYgdW5sb2FkKHNlbGYpOiByZXR1cm4gX29mLm9mU2hhZGVyX3VubG9hZChzZWxmKQogICAgZGVmIGJlZ2luKHNlbGYpOiByZXR1cm4gX29mLm9mU2hhZGVyX2JlZ2luKHNlbGYpCiAgICBkZWYgZW5kXyhzZWxmKTogcmV0dXJuIF9vZi5vZlNoYWRlcl9lbmRfKHNlbGYpCiAgICBkZWYgc2V0VW5pZm9ybVRleHR1cmUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldFVuaWZvcm1UZXh0dXJlKHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm0xaShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTFpKHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm0yaShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTJpKHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm0zaShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTNpKHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm00aShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTRpKHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm0xZihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTFmKHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm0yZihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTJmKHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm0zZihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTNmKHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm00ZihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTRmKHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm0xaXYoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldFVuaWZvcm0xaXYoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0VW5pZm9ybTJpdihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTJpdihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRVbmlmb3JtM2l2KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNoYWRlcl9zZXRVbmlmb3JtM2l2KHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm00aXYoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldFVuaWZvcm00aXYoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0VW5pZm9ybTFmdihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTFmdihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRVbmlmb3JtMmZ2KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNoYWRlcl9zZXRVbmlmb3JtMmZ2KHNlbGYsICphcmdzKQogICAgZGVmIHNldFVuaWZvcm0zZnYoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldFVuaWZvcm0zZnYoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0VW5pZm9ybTRmdihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0VW5pZm9ybTRmdihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRVbmlmb3JtTWF0cml4NGYoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldFVuaWZvcm1NYXRyaXg0ZihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRBdHRyaWJ1dGVMb2NhdGlvbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfZ2V0QXR0cmlidXRlTG9jYXRpb24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0QXR0cmlidXRlMXMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldEF0dHJpYnV0ZTFzKHNlbGYsICphcmdzKQogICAgZGVmIHNldEF0dHJpYnV0ZTJzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNoYWRlcl9zZXRBdHRyaWJ1dGUycyhzZWxmLCAqYXJncykKICAgIGRlZiBzZXRBdHRyaWJ1dGUzcyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0QXR0cmlidXRlM3Moc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0QXR0cmlidXRlNHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldEF0dHJpYnV0ZTRzKHNlbGYsICphcmdzKQogICAgZGVmIHNldEF0dHJpYnV0ZTFmKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNoYWRlcl9zZXRBdHRyaWJ1dGUxZihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRBdHRyaWJ1dGUyZihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0QXR0cmlidXRlMmYoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0QXR0cmlidXRlM2Yoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldEF0dHJpYnV0ZTNmKHNlbGYsICphcmdzKQogICAgZGVmIHNldEF0dHJpYnV0ZTRmKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNoYWRlcl9zZXRBdHRyaWJ1dGU0ZihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRBdHRyaWJ1dGUxZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0QXR0cmlidXRlMWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0QXR0cmlidXRlMmQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldEF0dHJpYnV0ZTJkKHNlbGYsICphcmdzKQogICAgZGVmIHNldEF0dHJpYnV0ZTNkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNoYWRlcl9zZXRBdHRyaWJ1dGUzZChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRBdHRyaWJ1dGU0ZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0QXR0cmlidXRlNGQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcHJpbnRBY3RpdmVVbmlmb3JtcyhzZWxmKTogcmV0dXJuIF9vZi5vZlNoYWRlcl9wcmludEFjdGl2ZVVuaWZvcm1zKHNlbGYpCiAgICBkZWYgcHJpbnRBY3RpdmVBdHRyaWJ1dGVzKHNlbGYpOiByZXR1cm4gX29mLm9mU2hhZGVyX3ByaW50QWN0aXZlQXR0cmlidXRlcyhzZWxmKQogICAgZGVmIHNldHVwU2hhZGVyRnJvbVNvdXJjZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTaGFkZXJfc2V0dXBTaGFkZXJGcm9tU291cmNlKHNlbGYsICphcmdzKQogICAgZGVmIHNldHVwU2hhZGVyRnJvbUZpbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX3NldHVwU2hhZGVyRnJvbUZpbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbGlua1Byb2dyYW0oc2VsZik6IHJldHVybiBfb2Yub2ZTaGFkZXJfbGlua1Byb2dyYW0oc2VsZikKICAgIGRlZiBnZXRQcm9ncmFtKHNlbGYpOiByZXR1cm4gX29mLm9mU2hhZGVyX2dldFByb2dyYW0oc2VsZikKICAgIGRlZiBnZXRTaGFkZXIoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU2hhZGVyX2dldFNoYWRlcihzZWxmLCAqYXJncykKb2ZTaGFkZXJfc3dpZ3JlZ2lzdGVyID0gX29mLm9mU2hhZGVyX3N3aWdyZWdpc3RlcgpvZlNoYWRlcl9zd2lncmVnaXN0ZXIob2ZTaGFkZXIpCgoKZGVmIG9mR2V0R2xJbnRlcm5hbEZvcm1hdCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkdldEdsSW50ZXJuYWxGb3JtYXQoKmFyZ3MpCm9mR2V0R2xJbnRlcm5hbEZvcm1hdCA9IF9vZi5vZkdldEdsSW50ZXJuYWxGb3JtYXQKCmRlZiBvZkdldEdsRm9ybWF0QW5kVHlwZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkdldEdsRm9ybWF0QW5kVHlwZSgqYXJncykKb2ZHZXRHbEZvcm1hdEFuZFR5cGUgPSBfb2Yub2ZHZXRHbEZvcm1hdEFuZFR5cGUKCmRlZiBvZkdldEltYWdlVHlwZUZyb21HTFR5cGUoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZHZXRJbWFnZVR5cGVGcm9tR0xUeXBlKCphcmdzKQpvZkdldEltYWdlVHlwZUZyb21HTFR5cGUgPSBfb2Yub2ZHZXRJbWFnZVR5cGVGcm9tR0xUeXBlCgpkZWYgb2ZHZXRVc2luZ0FyYlRleCgpOgogIHJldHVybiBfb2Yub2ZHZXRVc2luZ0FyYlRleCgpCm9mR2V0VXNpbmdBcmJUZXggPSBfb2Yub2ZHZXRVc2luZ0FyYlRleAoKZGVmIG9mRW5hYmxlQXJiVGV4KCk6CiAgcmV0dXJuIF9vZi5vZkVuYWJsZUFyYlRleCgpCm9mRW5hYmxlQXJiVGV4ID0gX29mLm9mRW5hYmxlQXJiVGV4CgpkZWYgb2ZEaXNhYmxlQXJiVGV4KCk6CiAgcmV0dXJuIF9vZi5vZkRpc2FibGVBcmJUZXgoKQpvZkRpc2FibGVBcmJUZXggPSBfb2Yub2ZEaXNhYmxlQXJiVGV4CgpkZWYgb2ZHZXRVc2luZ05vcm1hbGl6ZWRUZXhDb29yZHMoKToKICByZXR1cm4gX29mLm9mR2V0VXNpbmdOb3JtYWxpemVkVGV4Q29vcmRzKCkKb2ZHZXRVc2luZ05vcm1hbGl6ZWRUZXhDb29yZHMgPSBfb2Yub2ZHZXRVc2luZ05vcm1hbGl6ZWRUZXhDb29yZHMKCmRlZiBvZkVuYWJsZU5vcm1hbGl6ZWRUZXhDb29yZHMoKToKICByZXR1cm4gX29mLm9mRW5hYmxlTm9ybWFsaXplZFRleENvb3JkcygpCm9mRW5hYmxlTm9ybWFsaXplZFRleENvb3JkcyA9IF9vZi5vZkVuYWJsZU5vcm1hbGl6ZWRUZXhDb29yZHMKCmRlZiBvZkRpc2FibGVOb3JtYWxpemVkVGV4Q29vcmRzKCk6CiAgcmV0dXJuIF9vZi5vZkRpc2FibGVOb3JtYWxpemVkVGV4Q29vcmRzKCkKb2ZEaXNhYmxlTm9ybWFsaXplZFRleENvb3JkcyA9IF9vZi5vZkRpc2FibGVOb3JtYWxpemVkVGV4Q29vcmRzCgpkZWYgb2ZTZXRUZXh0dXJlV3JhcCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNldFRleHR1cmVXcmFwKCphcmdzKQpvZlNldFRleHR1cmVXcmFwID0gX29mLm9mU2V0VGV4dHVyZVdyYXAKCmRlZiBvZkdldFVzaW5nQ3VzdG9tVGV4dHVyZVdyYXAoKToKICByZXR1cm4gX29mLm9mR2V0VXNpbmdDdXN0b21UZXh0dXJlV3JhcCgpCm9mR2V0VXNpbmdDdXN0b21UZXh0dXJlV3JhcCA9IF9vZi5vZkdldFVzaW5nQ3VzdG9tVGV4dHVyZVdyYXAKCmRlZiBvZlJlc3RvcmVUZXh0dXJlV3JhcCgpOgogIHJldHVybiBfb2Yub2ZSZXN0b3JlVGV4dHVyZVdyYXAoKQpvZlJlc3RvcmVUZXh0dXJlV3JhcCA9IF9vZi5vZlJlc3RvcmVUZXh0dXJlV3JhcAoKZGVmIG9mU2V0TWluTWFnRmlsdGVycygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNldE1pbk1hZ0ZpbHRlcnMoKmFyZ3MpCm9mU2V0TWluTWFnRmlsdGVycyA9IF9vZi5vZlNldE1pbk1hZ0ZpbHRlcnMKCmRlZiBvZkdldFVzaW5nQ3VzdG9tTWluTWFnRmlsdGVycygpOgogIHJldHVybiBfb2Yub2ZHZXRVc2luZ0N1c3RvbU1pbk1hZ0ZpbHRlcnMoKQpvZkdldFVzaW5nQ3VzdG9tTWluTWFnRmlsdGVycyA9IF9vZi5vZkdldFVzaW5nQ3VzdG9tTWluTWFnRmlsdGVycwoKZGVmIG9mUmVzdG9yZU1pbk1hZ0ZpbHRlcnMoKToKICByZXR1cm4gX29mLm9mUmVzdG9yZU1pbk1hZ0ZpbHRlcnMoKQpvZlJlc3RvcmVNaW5NYWdGaWx0ZXJzID0gX29mLm9mUmVzdG9yZU1pbk1hZ0ZpbHRlcnMKT0ZfQ09NUFJFU1NfTk9ORSA9IF9vZi5PRl9DT01QUkVTU19OT05FCk9GX0NPTVBSRVNTX1NSR0IgPSBfb2YuT0ZfQ09NUFJFU1NfU1JHQgpPRl9DT01QUkVTU19BUkIgPSBfb2YuT0ZfQ09NUFJFU1NfQVJCCmNsYXNzIG9mVGV4dHVyZURhdGEoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mVGV4dHVyZURhdGEsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mVGV4dHVyZURhdGEsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZUZXh0dXJlRGF0YSgpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ0ZXh0dXJlSUQiXSA9IF9vZi5vZlRleHR1cmVEYXRhX3RleHR1cmVJRF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInRleHR1cmVJRCJdID0gX29mLm9mVGV4dHVyZURhdGFfdGV4dHVyZUlEX2dldAogICAgaWYgX25ld2NsYXNzOnRleHR1cmVJRCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRleHR1cmVEYXRhX3RleHR1cmVJRF9nZXQsIF9vZi5vZlRleHR1cmVEYXRhX3RleHR1cmVJRF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ0ZXh0dXJlVGFyZ2V0Il0gPSBfb2Yub2ZUZXh0dXJlRGF0YV90ZXh0dXJlVGFyZ2V0X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sidGV4dHVyZVRhcmdldCJdID0gX29mLm9mVGV4dHVyZURhdGFfdGV4dHVyZVRhcmdldF9nZXQKICAgIGlmIF9uZXdjbGFzczp0ZXh0dXJlVGFyZ2V0ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVGV4dHVyZURhdGFfdGV4dHVyZVRhcmdldF9nZXQsIF9vZi5vZlRleHR1cmVEYXRhX3RleHR1cmVUYXJnZXRfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siZ2xUeXBlSW50ZXJuYWwiXSA9IF9vZi5vZlRleHR1cmVEYXRhX2dsVHlwZUludGVybmFsX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siZ2xUeXBlSW50ZXJuYWwiXSA9IF9vZi5vZlRleHR1cmVEYXRhX2dsVHlwZUludGVybmFsX2dldAogICAgaWYgX25ld2NsYXNzOmdsVHlwZUludGVybmFsID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVGV4dHVyZURhdGFfZ2xUeXBlSW50ZXJuYWxfZ2V0LCBfb2Yub2ZUZXh0dXJlRGF0YV9nbFR5cGVJbnRlcm5hbF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJnbFR5cGUiXSA9IF9vZi5vZlRleHR1cmVEYXRhX2dsVHlwZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImdsVHlwZSJdID0gX29mLm9mVGV4dHVyZURhdGFfZ2xUeXBlX2dldAogICAgaWYgX25ld2NsYXNzOmdsVHlwZSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRleHR1cmVEYXRhX2dsVHlwZV9nZXQsIF9vZi5vZlRleHR1cmVEYXRhX2dsVHlwZV9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJwaXhlbFR5cGUiXSA9IF9vZi5vZlRleHR1cmVEYXRhX3BpeGVsVHlwZV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInBpeGVsVHlwZSJdID0gX29mLm9mVGV4dHVyZURhdGFfcGl4ZWxUeXBlX2dldAogICAgaWYgX25ld2NsYXNzOnBpeGVsVHlwZSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRleHR1cmVEYXRhX3BpeGVsVHlwZV9nZXQsIF9vZi5vZlRleHR1cmVEYXRhX3BpeGVsVHlwZV9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ0ZXhfdCJdID0gX29mLm9mVGV4dHVyZURhdGFfdGV4X3Rfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ0ZXhfdCJdID0gX29mLm9mVGV4dHVyZURhdGFfdGV4X3RfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6dGV4X3QgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZUZXh0dXJlRGF0YV90ZXhfdF9nZXQsIF9vZi5vZlRleHR1cmVEYXRhX3RleF90X3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInRleF91Il0gPSBfb2Yub2ZUZXh0dXJlRGF0YV90ZXhfdV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInRleF91Il0gPSBfb2Yub2ZUZXh0dXJlRGF0YV90ZXhfdV9nZXQKICAgIGlmIF9uZXdjbGFzczp0ZXhfdSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRleHR1cmVEYXRhX3RleF91X2dldCwgX29mLm9mVGV4dHVyZURhdGFfdGV4X3Vfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sidGV4X3ciXSA9IF9vZi5vZlRleHR1cmVEYXRhX3RleF93X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sidGV4X3ciXSA9IF9vZi5vZlRleHR1cmVEYXRhX3RleF93X2dldAogICAgaWYgX25ld2NsYXNzOnRleF93ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVGV4dHVyZURhdGFfdGV4X3dfZ2V0LCBfb2Yub2ZUZXh0dXJlRGF0YV90ZXhfd19zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ0ZXhfaCJdID0gX29mLm9mVGV4dHVyZURhdGFfdGV4X2hfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ0ZXhfaCJdID0gX29mLm9mVGV4dHVyZURhdGFfdGV4X2hfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6dGV4X2ggPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZUZXh0dXJlRGF0YV90ZXhfaF9nZXQsIF9vZi5vZlRleHR1cmVEYXRhX3RleF9oX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bIndpZHRoIl0gPSBfb2Yub2ZUZXh0dXJlRGF0YV93aWR0aF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIndpZHRoIl0gPSBfb2Yub2ZUZXh0dXJlRGF0YV93aWR0aF9nZXQKICAgIGlmIF9uZXdjbGFzczp3aWR0aCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRleHR1cmVEYXRhX3dpZHRoX2dldCwgX29mLm9mVGV4dHVyZURhdGFfd2lkdGhfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siaGVpZ2h0Il0gPSBfb2Yub2ZUZXh0dXJlRGF0YV9oZWlnaHRfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJoZWlnaHQiXSA9IF9vZi5vZlRleHR1cmVEYXRhX2hlaWdodF9nZXQKICAgIGlmIF9uZXdjbGFzczpoZWlnaHQgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZUZXh0dXJlRGF0YV9oZWlnaHRfZ2V0LCBfb2Yub2ZUZXh0dXJlRGF0YV9oZWlnaHRfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siYkZsaXBUZXh0dXJlIl0gPSBfb2Yub2ZUZXh0dXJlRGF0YV9iRmxpcFRleHR1cmVfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJiRmxpcFRleHR1cmUiXSA9IF9vZi5vZlRleHR1cmVEYXRhX2JGbGlwVGV4dHVyZV9nZXQKICAgIGlmIF9uZXdjbGFzczpiRmxpcFRleHR1cmUgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZUZXh0dXJlRGF0YV9iRmxpcFRleHR1cmVfZ2V0LCBfb2Yub2ZUZXh0dXJlRGF0YV9iRmxpcFRleHR1cmVfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siY29tcHJlc3Npb25UeXBlIl0gPSBfb2Yub2ZUZXh0dXJlRGF0YV9jb21wcmVzc2lvblR5cGVfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJjb21wcmVzc2lvblR5cGUiXSA9IF9vZi5vZlRleHR1cmVEYXRhX2NvbXByZXNzaW9uVHlwZV9nZXQKICAgIGlmIF9uZXdjbGFzczpjb21wcmVzc2lvblR5cGUgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZUZXh0dXJlRGF0YV9jb21wcmVzc2lvblR5cGVfZ2V0LCBfb2Yub2ZUZXh0dXJlRGF0YV9jb21wcmVzc2lvblR5cGVfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siYkFsbG9jYXRlZCJdID0gX29mLm9mVGV4dHVyZURhdGFfYkFsbG9jYXRlZF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImJBbGxvY2F0ZWQiXSA9IF9vZi5vZlRleHR1cmVEYXRhX2JBbGxvY2F0ZWRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6YkFsbG9jYXRlZCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRleHR1cmVEYXRhX2JBbGxvY2F0ZWRfZ2V0LCBfb2Yub2ZUZXh0dXJlRGF0YV9iQWxsb2NhdGVkX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImJVc2VFeHRlcm5hbFRleHR1cmVJRCJdID0gX29mLm9mVGV4dHVyZURhdGFfYlVzZUV4dGVybmFsVGV4dHVyZUlEX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siYlVzZUV4dGVybmFsVGV4dHVyZUlEIl0gPSBfb2Yub2ZUZXh0dXJlRGF0YV9iVXNlRXh0ZXJuYWxUZXh0dXJlSURfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6YlVzZUV4dGVybmFsVGV4dHVyZUlEID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVGV4dHVyZURhdGFfYlVzZUV4dGVybmFsVGV4dHVyZUlEX2dldCwgX29mLm9mVGV4dHVyZURhdGFfYlVzZUV4dGVybmFsVGV4dHVyZUlEX3NldCkKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mVGV4dHVyZURhdGEKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mVGV4dHVyZURhdGFfc3dpZ3JlZ2lzdGVyID0gX29mLm9mVGV4dHVyZURhdGFfc3dpZ3JlZ2lzdGVyCm9mVGV4dHVyZURhdGFfc3dpZ3JlZ2lzdGVyKG9mVGV4dHVyZURhdGEpCgoKZGVmIG9mRW5hYmxlVGV4dHVyZUVkZ2VIYWNrKCk6CiAgcmV0dXJuIF9vZi5vZkVuYWJsZVRleHR1cmVFZGdlSGFjaygpCm9mRW5hYmxlVGV4dHVyZUVkZ2VIYWNrID0gX29mLm9mRW5hYmxlVGV4dHVyZUVkZ2VIYWNrCgpkZWYgb2ZEaXNhYmxlVGV4dHVyZUVkZ2VIYWNrKCk6CiAgcmV0dXJuIF9vZi5vZkRpc2FibGVUZXh0dXJlRWRnZUhhY2soKQpvZkRpc2FibGVUZXh0dXJlRWRnZUhhY2sgPSBfb2Yub2ZEaXNhYmxlVGV4dHVyZUVkZ2VIYWNrCmNsYXNzIG9mVGV4dHVyZShvZkJhc2VEcmF3cyk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZCYXNlRHJhd3NdOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZlRleHR1cmUsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mQmFzZURyYXdzXTogX19zd2lnX2dldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX2dldG1ldGhvZHNfXycse30pKQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlRleHR1cmUsIG5hbWUpCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKTogcmFpc2UgQXR0cmlidXRlRXJyb3IoIk5vIGNvbnN0cnVjdG9yIGRlZmluZWQgLSBjbGFzcyBpcyBhYnN0cmFjdCIpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mVGV4dHVyZQogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBhbGxvY2F0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZUZXh0dXJlX2FsbG9jYXRlKHNlbGYsICphcmdzKQogICAgZGVmIGNsZWFyKHNlbGYpOiByZXR1cm4gX29mLm9mVGV4dHVyZV9jbGVhcihzZWxmKQogICAgZGVmIHNldFVzZUV4dGVybmFsVGV4dHVyZUlEKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRleHR1cmVfc2V0VXNlRXh0ZXJuYWxUZXh0dXJlSUQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbG9hZERhdGEoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVGV4dHVyZV9sb2FkRGF0YShzZWxmLCAqYXJncykKICAgIGRlZiBsb2FkU2NyZWVuRGF0YShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZUZXh0dXJlX2xvYWRTY3JlZW5EYXRhKHNlbGYsICphcmdzKQogICAgZGVmIHNldEFuY2hvclBlcmNlbnQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVGV4dHVyZV9zZXRBbmNob3JQZXJjZW50KHNlbGYsICphcmdzKQogICAgZGVmIHNldEFuY2hvclBvaW50KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRleHR1cmVfc2V0QW5jaG9yUG9pbnQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVzZXRBbmNob3Ioc2VsZik6IHJldHVybiBfb2Yub2ZUZXh0dXJlX3Jlc2V0QW5jaG9yKHNlbGYpCiAgICBkZWYgZHJhdyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZUZXh0dXJlX2RyYXcoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZHJhd1N1YnNlY3Rpb24oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVGV4dHVyZV9kcmF3U3Vic2VjdGlvbihzZWxmLCAqYXJncykKICAgIGRlZiByZWFkVG9QaXhlbHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVGV4dHVyZV9yZWFkVG9QaXhlbHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYmluZChzZWxmKTogcmV0dXJuIF9vZi5vZlRleHR1cmVfYmluZChzZWxmKQogICAgZGVmIHVuYmluZChzZWxmKTogcmV0dXJuIF9vZi5vZlRleHR1cmVfdW5iaW5kKHNlbGYpCiAgICBkZWYgZ2V0Q29vcmRGcm9tUG9pbnQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVGV4dHVyZV9nZXRDb29yZEZyb21Qb2ludChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRDb29yZEZyb21QZXJjZW50KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRleHR1cmVfZ2V0Q29vcmRGcm9tUGVyY2VudChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRUZXh0dXJlV3JhcChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZUZXh0dXJlX3NldFRleHR1cmVXcmFwKHNlbGYsICphcmdzKQogICAgZGVmIHNldFRleHR1cmVNaW5NYWdGaWx0ZXIoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVGV4dHVyZV9zZXRUZXh0dXJlTWluTWFnRmlsdGVyKHNlbGYsICphcmdzKQogICAgZGVmIHNldENvbXByZXNzaW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRleHR1cmVfc2V0Q29tcHJlc3Npb24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgYkFsbG9jYXRlZChzZWxmKTogcmV0dXJuIF9vZi5vZlRleHR1cmVfYkFsbG9jYXRlZChzZWxmKQogICAgZGVmIGlzQWxsb2NhdGVkKHNlbGYpOiByZXR1cm4gX29mLm9mVGV4dHVyZV9pc0FsbG9jYXRlZChzZWxmKQogICAgZGVmIGdldFRleHR1cmVEYXRhKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRleHR1cmVfZ2V0VGV4dHVyZURhdGEoc2VsZiwgKmFyZ3MpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ0ZXhEYXRhIl0gPSBfb2Yub2ZUZXh0dXJlX3RleERhdGFfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ0ZXhEYXRhIl0gPSBfb2Yub2ZUZXh0dXJlX3RleERhdGFfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6dGV4RGF0YSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlRleHR1cmVfdGV4RGF0YV9nZXQsIF9vZi5vZlRleHR1cmVfdGV4RGF0YV9zZXQpCiAgICBkZWYgZ2V0SGVpZ2h0KHNlbGYpOiByZXR1cm4gX29mLm9mVGV4dHVyZV9nZXRIZWlnaHQoc2VsZikKICAgIGRlZiBnZXRXaWR0aChzZWxmKTogcmV0dXJuIF9vZi5vZlRleHR1cmVfZ2V0V2lkdGgoc2VsZikKb2ZUZXh0dXJlX3N3aWdyZWdpc3RlciA9IF9vZi5vZlRleHR1cmVfc3dpZ3JlZ2lzdGVyCm9mVGV4dHVyZV9zd2lncmVnaXN0ZXIob2ZUZXh0dXJlKQoKY2xhc3Mgb2ZWYm8oX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mVmJvLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlZibywgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZWYm8oKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZlZibwogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBzZXRNZXNoKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZib19zZXRNZXNoKHNlbGYsICphcmdzKQogICAgZGVmIHNldEluZGV4RGF0YShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWYm9fc2V0SW5kZXhEYXRhKHNlbGYsICphcmdzKQogICAgZGVmIHNldFZlcnRleERhdGEoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmJvX3NldFZlcnRleERhdGEoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Q29sb3JEYXRhKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZib19zZXRDb2xvckRhdGEoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Tm9ybWFsRGF0YShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWYm9fc2V0Tm9ybWFsRGF0YShzZWxmLCAqYXJncykKICAgIGRlZiBzZXRUZXhDb29yZERhdGEoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmJvX3NldFRleENvb3JkRGF0YShzZWxmLCAqYXJncykKICAgIGRlZiB1cGRhdGVNZXNoKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZib191cGRhdGVNZXNoKHNlbGYsICphcmdzKQogICAgZGVmIHVwZGF0ZUluZGV4RGF0YShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWYm9fdXBkYXRlSW5kZXhEYXRhKHNlbGYsICphcmdzKQogICAgZGVmIHVwZGF0ZVZlcnRleERhdGEoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmJvX3VwZGF0ZVZlcnRleERhdGEoc2VsZiwgKmFyZ3MpCiAgICBkZWYgdXBkYXRlQ29sb3JEYXRhKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZib191cGRhdGVDb2xvckRhdGEoc2VsZiwgKmFyZ3MpCiAgICBkZWYgdXBkYXRlTm9ybWFsRGF0YShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWYm9fdXBkYXRlTm9ybWFsRGF0YShzZWxmLCAqYXJncykKICAgIGRlZiB1cGRhdGVUZXhDb29yZERhdGEoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmJvX3VwZGF0ZVRleENvb3JkRGF0YShzZWxmLCAqYXJncykKICAgIGRlZiBlbmFibGVDb2xvcnMoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9fZW5hYmxlQ29sb3JzKHNlbGYpCiAgICBkZWYgZW5hYmxlTm9ybWFscyhzZWxmKTogcmV0dXJuIF9vZi5vZlZib19lbmFibGVOb3JtYWxzKHNlbGYpCiAgICBkZWYgZW5hYmxlVGV4Q29vcmRzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2VuYWJsZVRleENvb3JkcyhzZWxmKQogICAgZGVmIGVuYWJsZUluZGljZXMoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9fZW5hYmxlSW5kaWNlcyhzZWxmKQogICAgZGVmIGRpc2FibGVDb2xvcnMoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9fZGlzYWJsZUNvbG9ycyhzZWxmKQogICAgZGVmIGRpc2FibGVOb3JtYWxzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2Rpc2FibGVOb3JtYWxzKHNlbGYpCiAgICBkZWYgZGlzYWJsZVRleENvb3JkcyhzZWxmKTogcmV0dXJuIF9vZi5vZlZib19kaXNhYmxlVGV4Q29vcmRzKHNlbGYpCiAgICBkZWYgZGlzYWJsZUluZGljZXMoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9fZGlzYWJsZUluZGljZXMoc2VsZikKICAgIGRlZiBnZXRWZXJ0SWQoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9fZ2V0VmVydElkKHNlbGYpCiAgICBkZWYgZ2V0Q29sb3JJZChzZWxmKTogcmV0dXJuIF9vZi5vZlZib19nZXRDb2xvcklkKHNlbGYpCiAgICBkZWYgZ2V0Tm9ybWFsSWQoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9fZ2V0Tm9ybWFsSWQoc2VsZikKICAgIGRlZiBnZXRUZXhDb29yZElkKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2dldFRleENvb3JkSWQoc2VsZikKICAgIGRlZiBnZXRJbmRleElkKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2dldEluZGV4SWQoc2VsZikKICAgIGRlZiBnZXRJc0FsbG9jYXRlZChzZWxmKTogcmV0dXJuIF9vZi5vZlZib19nZXRJc0FsbG9jYXRlZChzZWxmKQogICAgZGVmIGdldFVzaW5nVmVydHMoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9fZ2V0VXNpbmdWZXJ0cyhzZWxmKQogICAgZGVmIGdldFVzaW5nQ29sb3JzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2dldFVzaW5nQ29sb3JzKHNlbGYpCiAgICBkZWYgZ2V0VXNpbmdOb3JtYWxzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2dldFVzaW5nTm9ybWFscyhzZWxmKQogICAgZGVmIGdldFVzaW5nVGV4Q29vcmRzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2dldFVzaW5nVGV4Q29vcmRzKHNlbGYpCiAgICBkZWYgZ2V0VXNpbmdJbmRpY2VzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2dldFVzaW5nSW5kaWNlcyhzZWxmKQogICAgZGVmIGRyYXcoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmJvX2RyYXcoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZHJhd0VsZW1lbnRzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZib19kcmF3RWxlbWVudHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYmluZChzZWxmKTogcmV0dXJuIF9vZi5vZlZib19iaW5kKHNlbGYpCiAgICBkZWYgdW5iaW5kKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX3VuYmluZChzZWxmKQogICAgZGVmIGNsZWFyKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2NsZWFyKHNlbGYpCiAgICBkZWYgY2xlYXJWZXJ0aWNlcyhzZWxmKTogcmV0dXJuIF9vZi5vZlZib19jbGVhclZlcnRpY2VzKHNlbGYpCiAgICBkZWYgY2xlYXJOb3JtYWxzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2NsZWFyTm9ybWFscyhzZWxmKQogICAgZGVmIGNsZWFyQ29sb3JzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvX2NsZWFyQ29sb3JzKHNlbGYpCiAgICBkZWYgY2xlYXJUZXhDb29yZHMoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9fY2xlYXJUZXhDb29yZHMoc2VsZikKICAgIGRlZiBjbGVhckluZGljZXMoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9fY2xlYXJJbmRpY2VzKHNlbGYpCm9mVmJvX3N3aWdyZWdpc3RlciA9IF9vZi5vZlZib19zd2lncmVnaXN0ZXIKb2ZWYm9fc3dpZ3JlZ2lzdGVyKG9mVmJvKQoKY2xhc3Mgb2ZWYm9NZXNoKG9mTWVzaCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZNZXNoXTogX19zd2lnX3NldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX3NldG1ldGhvZHNfXycse30pKQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZWYm9NZXNoLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZk1lc2hdOiBfX3N3aWdfZ2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfZ2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mVmJvTWVzaCwgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgZGVmIGRyYXcoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9NZXNoX2RyYXcoc2VsZikKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mVmJvTWVzaCgqYXJncykKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIGRlZiBzZXRVc2FnZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWYm9NZXNoX3NldFVzYWdlKHNlbGYsICphcmdzKQogICAgZGVmIGVuYWJsZUNvbG9ycyhzZWxmKTogcmV0dXJuIF9vZi5vZlZib01lc2hfZW5hYmxlQ29sb3JzKHNlbGYpCiAgICBkZWYgZW5hYmxlVGV4dHVyZXMoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9NZXNoX2VuYWJsZVRleHR1cmVzKHNlbGYpCiAgICBkZWYgZW5hYmxlTm9ybWFscyhzZWxmKTogcmV0dXJuIF9vZi5vZlZib01lc2hfZW5hYmxlTm9ybWFscyhzZWxmKQogICAgZGVmIGVuYWJsZUluZGljZXMoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9NZXNoX2VuYWJsZUluZGljZXMoc2VsZikKICAgIGRlZiBkaXNhYmxlQ29sb3JzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvTWVzaF9kaXNhYmxlQ29sb3JzKHNlbGYpCiAgICBkZWYgZGlzYWJsZVRleHR1cmVzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvTWVzaF9kaXNhYmxlVGV4dHVyZXMoc2VsZikKICAgIGRlZiBkaXNhYmxlTm9ybWFscyhzZWxmKTogcmV0dXJuIF9vZi5vZlZib01lc2hfZGlzYWJsZU5vcm1hbHMoc2VsZikKICAgIGRlZiBkaXNhYmxlSW5kaWNlcyhzZWxmKTogcmV0dXJuIF9vZi5vZlZib01lc2hfZGlzYWJsZUluZGljZXMoc2VsZikKICAgIGRlZiB1c2luZ0NvbG9ycyhzZWxmKTogcmV0dXJuIF9vZi5vZlZib01lc2hfdXNpbmdDb2xvcnMoc2VsZikKICAgIGRlZiB1c2luZ1RleHR1cmVzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvTWVzaF91c2luZ1RleHR1cmVzKHNlbGYpCiAgICBkZWYgdXNpbmdOb3JtYWxzKHNlbGYpOiByZXR1cm4gX29mLm9mVmJvTWVzaF91c2luZ05vcm1hbHMoc2VsZikKICAgIGRlZiB1c2luZ0luZGljZXMoc2VsZik6IHJldHVybiBfb2Yub2ZWYm9NZXNoX3VzaW5nSW5kaWNlcyhzZWxmKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZWYm9NZXNoCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZlZib01lc2hfc3dpZ3JlZ2lzdGVyID0gX29mLm9mVmJvTWVzaF9zd2lncmVnaXN0ZXIKb2ZWYm9NZXNoX3N3aWdyZWdpc3RlcihvZlZib01lc2gpCgpDSVJDX1JFU09MVVRJT04gPSBfb2YuQ0lSQ19SRVNPTFVUSU9OCgpkZWYgb2ZTZXRDdXJyZW50UmVuZGVyZXIoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTZXRDdXJyZW50UmVuZGVyZXIoKmFyZ3MpCm9mU2V0Q3VycmVudFJlbmRlcmVyID0gX29mLm9mU2V0Q3VycmVudFJlbmRlcmVyCgpkZWYgb2ZHZXRDdXJyZW50UmVuZGVyZXIoKToKICByZXR1cm4gX29mLm9mR2V0Q3VycmVudFJlbmRlcmVyKCkKb2ZHZXRDdXJyZW50UmVuZGVyZXIgPSBfb2Yub2ZHZXRDdXJyZW50UmVuZGVyZXIKCmRlZiBvZkdldEdMUmVuZGVyZXIoKToKICByZXR1cm4gX29mLm9mR2V0R0xSZW5kZXJlcigpCm9mR2V0R0xSZW5kZXJlciA9IF9vZi5vZkdldEdMUmVuZGVyZXIKCmRlZiBvZkJlZ2luU2F2ZVNjcmVlbkFzUERGKCphcmdzKToKICByZXR1cm4gX29mLm9mQmVnaW5TYXZlU2NyZWVuQXNQREYoKmFyZ3MpCm9mQmVnaW5TYXZlU2NyZWVuQXNQREYgPSBfb2Yub2ZCZWdpblNhdmVTY3JlZW5Bc1BERgoKZGVmIG9mRW5kU2F2ZVNjcmVlbkFzUERGKCk6CiAgcmV0dXJuIF9vZi5vZkVuZFNhdmVTY3JlZW5Bc1BERigpCm9mRW5kU2F2ZVNjcmVlbkFzUERGID0gX29mLm9mRW5kU2F2ZVNjcmVlbkFzUERGCgpkZWYgb2ZQdXNoVmlldygpOgogIHJldHVybiBfb2Yub2ZQdXNoVmlldygpCm9mUHVzaFZpZXcgPSBfb2Yub2ZQdXNoVmlldwoKZGVmIG9mUG9wVmlldygpOgogIHJldHVybiBfb2Yub2ZQb3BWaWV3KCkKb2ZQb3BWaWV3ID0gX29mLm9mUG9wVmlldwoKZGVmIG9mVmlld3BvcnQoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZWaWV3cG9ydCgqYXJncykKb2ZWaWV3cG9ydCA9IF9vZi5vZlZpZXdwb3J0CgpkZWYgb2ZTZXR1cFNjcmVlblBlcnNwZWN0aXZlKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0dXBTY3JlZW5QZXJzcGVjdGl2ZSgqYXJncykKb2ZTZXR1cFNjcmVlblBlcnNwZWN0aXZlID0gX29mLm9mU2V0dXBTY3JlZW5QZXJzcGVjdGl2ZQoKZGVmIG9mU2V0dXBTY3JlZW5PcnRobygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNldHVwU2NyZWVuT3J0aG8oKmFyZ3MpCm9mU2V0dXBTY3JlZW5PcnRobyA9IF9vZi5vZlNldHVwU2NyZWVuT3J0aG8KCmRlZiBvZkdldEN1cnJlbnRWaWV3cG9ydCgpOgogIHJldHVybiBfb2Yub2ZHZXRDdXJyZW50Vmlld3BvcnQoKQpvZkdldEN1cnJlbnRWaWV3cG9ydCA9IF9vZi5vZkdldEN1cnJlbnRWaWV3cG9ydAoKZGVmIG9mR2V0Vmlld3BvcnRXaWR0aCgpOgogIHJldHVybiBfb2Yub2ZHZXRWaWV3cG9ydFdpZHRoKCkKb2ZHZXRWaWV3cG9ydFdpZHRoID0gX29mLm9mR2V0Vmlld3BvcnRXaWR0aAoKZGVmIG9mR2V0Vmlld3BvcnRIZWlnaHQoKToKICByZXR1cm4gX29mLm9mR2V0Vmlld3BvcnRIZWlnaHQoKQpvZkdldFZpZXdwb3J0SGVpZ2h0ID0gX29mLm9mR2V0Vmlld3BvcnRIZWlnaHQKCmRlZiBvZk9yaWVudGF0aW9uVG9EZWdyZWVzKCphcmdzKToKICByZXR1cm4gX29mLm9mT3JpZW50YXRpb25Ub0RlZ3JlZXMoKmFyZ3MpCm9mT3JpZW50YXRpb25Ub0RlZ3JlZXMgPSBfb2Yub2ZPcmllbnRhdGlvblRvRGVncmVlcwoKZGVmIG9mU2V0Q29vcmRIYW5kZWRuZXNzKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0Q29vcmRIYW5kZWRuZXNzKCphcmdzKQpvZlNldENvb3JkSGFuZGVkbmVzcyA9IF9vZi5vZlNldENvb3JkSGFuZGVkbmVzcwoKZGVmIG9mR2V0Q29vcmRIYW5kZWRuZXNzKCk6CiAgcmV0dXJuIF9vZi5vZkdldENvb3JkSGFuZGVkbmVzcygpCm9mR2V0Q29vcmRIYW5kZWRuZXNzID0gX29mLm9mR2V0Q29vcmRIYW5kZWRuZXNzCgpkZWYgb2ZQdXNoTWF0cml4KCk6CiAgcmV0dXJuIF9vZi5vZlB1c2hNYXRyaXgoKQpvZlB1c2hNYXRyaXggPSBfb2Yub2ZQdXNoTWF0cml4CgpkZWYgb2ZQb3BNYXRyaXgoKToKICByZXR1cm4gX29mLm9mUG9wTWF0cml4KCkKb2ZQb3BNYXRyaXggPSBfb2Yub2ZQb3BNYXRyaXgKCmRlZiBvZlRyYW5zbGF0ZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlRyYW5zbGF0ZSgqYXJncykKb2ZUcmFuc2xhdGUgPSBfb2Yub2ZUcmFuc2xhdGUKCmRlZiBvZlNjYWxlKCphcmdzKToKICByZXR1cm4gX29mLm9mU2NhbGUoKmFyZ3MpCm9mU2NhbGUgPSBfb2Yub2ZTY2FsZQoKZGVmIG9mUm90YXRlWCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlJvdGF0ZVgoKmFyZ3MpCm9mUm90YXRlWCA9IF9vZi5vZlJvdGF0ZVgKCmRlZiBvZlJvdGF0ZVkoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZSb3RhdGVZKCphcmdzKQpvZlJvdGF0ZVkgPSBfb2Yub2ZSb3RhdGVZCgpkZWYgb2ZSb3RhdGVaKCphcmdzKToKICByZXR1cm4gX29mLm9mUm90YXRlWigqYXJncykKb2ZSb3RhdGVaID0gX29mLm9mUm90YXRlWgoKZGVmIG9mUm90YXRlKCphcmdzKToKICByZXR1cm4gX29mLm9mUm90YXRlKCphcmdzKQpvZlJvdGF0ZSA9IF9vZi5vZlJvdGF0ZQoKZGVmIG9mTG9hZElkZW50aXR5TWF0cml4KCk6CiAgcmV0dXJuIF9vZi5vZkxvYWRJZGVudGl0eU1hdHJpeCgpCm9mTG9hZElkZW50aXR5TWF0cml4ID0gX29mLm9mTG9hZElkZW50aXR5TWF0cml4CgpkZWYgb2ZMb2FkTWF0cml4KCphcmdzKToKICByZXR1cm4gX29mLm9mTG9hZE1hdHJpeCgqYXJncykKb2ZMb2FkTWF0cml4ID0gX29mLm9mTG9hZE1hdHJpeAoKZGVmIG9mTXVsdE1hdHJpeCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZk11bHRNYXRyaXgoKmFyZ3MpCm9mTXVsdE1hdHJpeCA9IF9vZi5vZk11bHRNYXRyaXgKCmRlZiBvZlNldE1hdHJpeE1vZGUoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTZXRNYXRyaXhNb2RlKCphcmdzKQpvZlNldE1hdHJpeE1vZGUgPSBfb2Yub2ZTZXRNYXRyaXhNb2RlCgpkZWYgb2ZTZXR1cEdyYXBoaWNEZWZhdWx0cygpOgogIHJldHVybiBfb2Yub2ZTZXR1cEdyYXBoaWNEZWZhdWx0cygpCm9mU2V0dXBHcmFwaGljRGVmYXVsdHMgPSBfb2Yub2ZTZXR1cEdyYXBoaWNEZWZhdWx0cwoKZGVmIG9mU2V0dXBTY3JlZW4oKToKICByZXR1cm4gX29mLm9mU2V0dXBTY3JlZW4oKQpvZlNldHVwU2NyZWVuID0gX29mLm9mU2V0dXBTY3JlZW4KCmRlZiBvZkdldFJlY3RNb2RlKCk6CiAgcmV0dXJuIF9vZi5vZkdldFJlY3RNb2RlKCkKb2ZHZXRSZWN0TW9kZSA9IF9vZi5vZkdldFJlY3RNb2RlCgpkZWYgb2ZTZXRDaXJjbGVSZXNvbHV0aW9uKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0Q2lyY2xlUmVzb2x1dGlvbigqYXJncykKb2ZTZXRDaXJjbGVSZXNvbHV0aW9uID0gX29mLm9mU2V0Q2lyY2xlUmVzb2x1dGlvbgoKZGVmIG9mU2V0Q3VydmVSZXNvbHV0aW9uKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0Q3VydmVSZXNvbHV0aW9uKCphcmdzKQpvZlNldEN1cnZlUmVzb2x1dGlvbiA9IF9vZi5vZlNldEN1cnZlUmVzb2x1dGlvbgoKZGVmIG9mU2V0U3BoZXJlUmVzb2x1dGlvbigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNldFNwaGVyZVJlc29sdXRpb24oKmFyZ3MpCm9mU2V0U3BoZXJlUmVzb2x1dGlvbiA9IF9vZi5vZlNldFNwaGVyZVJlc29sdXRpb24KCmRlZiBvZk5vRmlsbCgpOgogIHJldHVybiBfb2Yub2ZOb0ZpbGwoKQpvZk5vRmlsbCA9IF9vZi5vZk5vRmlsbAoKZGVmIG9mRmlsbCgpOgogIHJldHVybiBfb2Yub2ZGaWxsKCkKb2ZGaWxsID0gX29mLm9mRmlsbAoKZGVmIG9mR2V0RmlsbCgpOgogIHJldHVybiBfb2Yub2ZHZXRGaWxsKCkKb2ZHZXRGaWxsID0gX29mLm9mR2V0RmlsbAoKZGVmIG9mU2V0TGluZVdpZHRoKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0TGluZVdpZHRoKCphcmdzKQpvZlNldExpbmVXaWR0aCA9IF9vZi5vZlNldExpbmVXaWR0aAoKZGVmIG9mU2V0Q29sb3IoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTZXRDb2xvcigqYXJncykKb2ZTZXRDb2xvciA9IF9vZi5vZlNldENvbG9yCgpkZWYgb2ZTZXRIZXhDb2xvcigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNldEhleENvbG9yKCphcmdzKQpvZlNldEhleENvbG9yID0gX29mLm9mU2V0SGV4Q29sb3IKCmRlZiBvZkVuYWJsZUJsZW5kTW9kZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkVuYWJsZUJsZW5kTW9kZSgqYXJncykKb2ZFbmFibGVCbGVuZE1vZGUgPSBfb2Yub2ZFbmFibGVCbGVuZE1vZGUKCmRlZiBvZkRpc2FibGVCbGVuZE1vZGUoKToKICByZXR1cm4gX29mLm9mRGlzYWJsZUJsZW5kTW9kZSgpCm9mRGlzYWJsZUJsZW5kTW9kZSA9IF9vZi5vZkRpc2FibGVCbGVuZE1vZGUKCmRlZiBvZkVuYWJsZVBvaW50U3ByaXRlcygpOgogIHJldHVybiBfb2Yub2ZFbmFibGVQb2ludFNwcml0ZXMoKQpvZkVuYWJsZVBvaW50U3ByaXRlcyA9IF9vZi5vZkVuYWJsZVBvaW50U3ByaXRlcwoKZGVmIG9mRGlzYWJsZVBvaW50U3ByaXRlcygpOgogIHJldHVybiBfb2Yub2ZEaXNhYmxlUG9pbnRTcHJpdGVzKCkKb2ZEaXNhYmxlUG9pbnRTcHJpdGVzID0gX29mLm9mRGlzYWJsZVBvaW50U3ByaXRlcwoKZGVmIG9mRW5hYmxlQWxwaGFCbGVuZGluZygpOgogIHJldHVybiBfb2Yub2ZFbmFibGVBbHBoYUJsZW5kaW5nKCkKb2ZFbmFibGVBbHBoYUJsZW5kaW5nID0gX29mLm9mRW5hYmxlQWxwaGFCbGVuZGluZwoKZGVmIG9mRGlzYWJsZUFscGhhQmxlbmRpbmcoKToKICByZXR1cm4gX29mLm9mRGlzYWJsZUFscGhhQmxlbmRpbmcoKQpvZkRpc2FibGVBbHBoYUJsZW5kaW5nID0gX29mLm9mRGlzYWJsZUFscGhhQmxlbmRpbmcKCmRlZiBvZkVuYWJsZVNtb290aGluZygpOgogIHJldHVybiBfb2Yub2ZFbmFibGVTbW9vdGhpbmcoKQpvZkVuYWJsZVNtb290aGluZyA9IF9vZi5vZkVuYWJsZVNtb290aGluZwoKZGVmIG9mRGlzYWJsZVNtb290aGluZygpOgogIHJldHVybiBfb2Yub2ZEaXNhYmxlU21vb3RoaW5nKCkKb2ZEaXNhYmxlU21vb3RoaW5nID0gX29mLm9mRGlzYWJsZVNtb290aGluZwoKZGVmIG9mR2V0U3R5bGUoKToKICByZXR1cm4gX29mLm9mR2V0U3R5bGUoKQpvZkdldFN0eWxlID0gX29mLm9mR2V0U3R5bGUKCmRlZiBvZlNldFN0eWxlKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0U3R5bGUoKmFyZ3MpCm9mU2V0U3R5bGUgPSBfb2Yub2ZTZXRTdHlsZQoKZGVmIG9mUHVzaFN0eWxlKCk6CiAgcmV0dXJuIF9vZi5vZlB1c2hTdHlsZSgpCm9mUHVzaFN0eWxlID0gX29mLm9mUHVzaFN0eWxlCgpkZWYgb2ZQb3BTdHlsZSgpOgogIHJldHVybiBfb2Yub2ZQb3BTdHlsZSgpCm9mUG9wU3R5bGUgPSBfb2Yub2ZQb3BTdHlsZQoKZGVmIG9mU2V0UG9seU1vZGUoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTZXRQb2x5TW9kZSgqYXJncykKb2ZTZXRQb2x5TW9kZSA9IF9vZi5vZlNldFBvbHlNb2RlCgpkZWYgb2ZTZXRSZWN0TW9kZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNldFJlY3RNb2RlKCphcmdzKQpvZlNldFJlY3RNb2RlID0gX29mLm9mU2V0UmVjdE1vZGUKCmRlZiBvZkJnQ29sb3JQdHIoKToKICByZXR1cm4gX29mLm9mQmdDb2xvclB0cigpCm9mQmdDb2xvclB0ciA9IF9vZi5vZkJnQ29sb3JQdHIKCmRlZiBvZkJhY2tncm91bmQoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZCYWNrZ3JvdW5kKCphcmdzKQpvZkJhY2tncm91bmQgPSBfb2Yub2ZCYWNrZ3JvdW5kCgpkZWYgb2ZCYWNrZ3JvdW5kSGV4KCphcmdzKToKICByZXR1cm4gX29mLm9mQmFja2dyb3VuZEhleCgqYXJncykKb2ZCYWNrZ3JvdW5kSGV4ID0gX29mLm9mQmFja2dyb3VuZEhleAoKZGVmIG9mQmFja2dyb3VuZEdyYWRpZW50KCphcmdzKToKICByZXR1cm4gX29mLm9mQmFja2dyb3VuZEdyYWRpZW50KCphcmdzKQpvZkJhY2tncm91bmRHcmFkaWVudCA9IF9vZi5vZkJhY2tncm91bmRHcmFkaWVudAoKZGVmIG9mU2V0QmFja2dyb3VuZENvbG9yKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0QmFja2dyb3VuZENvbG9yKCphcmdzKQpvZlNldEJhY2tncm91bmRDb2xvciA9IF9vZi5vZlNldEJhY2tncm91bmRDb2xvcgoKZGVmIG9mU2V0QmFja2dyb3VuZENvbG9ySGV4KCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0QmFja2dyb3VuZENvbG9ySGV4KCphcmdzKQpvZlNldEJhY2tncm91bmRDb2xvckhleCA9IF9vZi5vZlNldEJhY2tncm91bmRDb2xvckhleAoKZGVmIG9mU2V0QmFja2dyb3VuZEF1dG8oKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTZXRCYWNrZ3JvdW5kQXV0bygqYXJncykKb2ZTZXRCYWNrZ3JvdW5kQXV0byA9IF9vZi5vZlNldEJhY2tncm91bmRBdXRvCgpkZWYgb2ZDbGVhcigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkNsZWFyKCphcmdzKQpvZkNsZWFyID0gX29mLm9mQ2xlYXIKCmRlZiBvZkNsZWFyQWxwaGEoKToKICByZXR1cm4gX29mLm9mQ2xlYXJBbHBoYSgpCm9mQ2xlYXJBbHBoYSA9IF9vZi5vZkNsZWFyQWxwaGEKCmRlZiBvZmJDbGVhckJnKCk6CiAgcmV0dXJuIF9vZi5vZmJDbGVhckJnKCkKb2ZiQ2xlYXJCZyA9IF9vZi5vZmJDbGVhckJnCgpkZWYgb2ZUcmlhbmdsZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlRyaWFuZ2xlKCphcmdzKQpvZlRyaWFuZ2xlID0gX29mLm9mVHJpYW5nbGUKCmRlZiBvZkNpcmNsZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkNpcmNsZSgqYXJncykKb2ZDaXJjbGUgPSBfb2Yub2ZDaXJjbGUKCmRlZiBvZkVsbGlwc2UoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZFbGxpcHNlKCphcmdzKQpvZkVsbGlwc2UgPSBfb2Yub2ZFbGxpcHNlCgpkZWYgb2ZMaW5lKCphcmdzKToKICByZXR1cm4gX29mLm9mTGluZSgqYXJncykKb2ZMaW5lID0gX29mLm9mTGluZQoKZGVmIG9mUmVjdCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlJlY3QoKmFyZ3MpCm9mUmVjdCA9IF9vZi5vZlJlY3QKCmRlZiBvZlJlY3RSb3VuZGVkKCphcmdzKToKICByZXR1cm4gX29mLm9mUmVjdFJvdW5kZWQoKmFyZ3MpCm9mUmVjdFJvdW5kZWQgPSBfb2Yub2ZSZWN0Um91bmRlZAoKZGVmIG9mQ3VydmUoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZDdXJ2ZSgqYXJncykKb2ZDdXJ2ZSA9IF9vZi5vZkN1cnZlCgpkZWYgb2ZCZXppZXIoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZCZXppZXIoKmFyZ3MpCm9mQmV6aWVyID0gX29mLm9mQmV6aWVyCgpkZWYgb2ZCZWdpblNoYXBlKCk6CiAgcmV0dXJuIF9vZi5vZkJlZ2luU2hhcGUoKQpvZkJlZ2luU2hhcGUgPSBfb2Yub2ZCZWdpblNoYXBlCgpkZWYgb2ZWZXJ0ZXgoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZWZXJ0ZXgoKmFyZ3MpCm9mVmVydGV4ID0gX29mLm9mVmVydGV4CgpkZWYgb2ZWZXJ0aWNlcygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlZlcnRpY2VzKCphcmdzKQpvZlZlcnRpY2VzID0gX29mLm9mVmVydGljZXMKCmRlZiBvZlZlcnRleGVzKCphcmdzKToKICByZXR1cm4gX29mLm9mVmVydGV4ZXMoKmFyZ3MpCm9mVmVydGV4ZXMgPSBfb2Yub2ZWZXJ0ZXhlcwoKZGVmIG9mQ3VydmVWZXJ0ZXgoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZDdXJ2ZVZlcnRleCgqYXJncykKb2ZDdXJ2ZVZlcnRleCA9IF9vZi5vZkN1cnZlVmVydGV4CgpkZWYgb2ZDdXJ2ZVZlcnRpY2VzKCphcmdzKToKICByZXR1cm4gX29mLm9mQ3VydmVWZXJ0aWNlcygqYXJncykKb2ZDdXJ2ZVZlcnRpY2VzID0gX29mLm9mQ3VydmVWZXJ0aWNlcwoKZGVmIG9mQ3VydmVWZXJ0ZXhlcygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkN1cnZlVmVydGV4ZXMoKmFyZ3MpCm9mQ3VydmVWZXJ0ZXhlcyA9IF9vZi5vZkN1cnZlVmVydGV4ZXMKCmRlZiBvZkJlemllclZlcnRleCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkJlemllclZlcnRleCgqYXJncykKb2ZCZXppZXJWZXJ0ZXggPSBfb2Yub2ZCZXppZXJWZXJ0ZXgKCmRlZiBvZkVuZFNoYXBlKGJDbG9zZT1GYWxzZSk6CiAgcmV0dXJuIF9vZi5vZkVuZFNoYXBlKGJDbG9zZSkKb2ZFbmRTaGFwZSA9IF9vZi5vZkVuZFNoYXBlCgpkZWYgb2ZOZXh0Q29udG91cihiQ2xvc2U9RmFsc2UpOgogIHJldHVybiBfb2Yub2ZOZXh0Q29udG91cihiQ2xvc2UpCm9mTmV4dENvbnRvdXIgPSBfb2Yub2ZOZXh0Q29udG91cgoKZGVmIG9mU3BoZXJlKCphcmdzKToKICByZXR1cm4gX29mLm9mU3BoZXJlKCphcmdzKQpvZlNwaGVyZSA9IF9vZi5vZlNwaGVyZQoKZGVmIG9mQm94KCphcmdzKToKICByZXR1cm4gX29mLm9mQm94KCphcmdzKQpvZkJveCA9IF9vZi5vZkJveAoKZGVmIG9mQ29uZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkNvbmUoKmFyZ3MpCm9mQ29uZSA9IF9vZi5vZkNvbmUKCmRlZiBvZlNldERyYXdCaXRtYXBNb2RlKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0RHJhd0JpdG1hcE1vZGUoKmFyZ3MpCm9mU2V0RHJhd0JpdG1hcE1vZGUgPSBfb2Yub2ZTZXREcmF3Qml0bWFwTW9kZQoKZGVmIG9mRHJhd0JpdG1hcFN0cmluZygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkRyYXdCaXRtYXBTdHJpbmcoKmFyZ3MpCm9mRHJhd0JpdG1hcFN0cmluZyA9IF9vZi5vZkRyYXdCaXRtYXBTdHJpbmcKCmRlZiBvZkRyYXdCaXRtYXBTdHJpbmdIaWdobGlnaHQoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZEcmF3Qml0bWFwU3RyaW5nSGlnaGxpZ2h0KCphcmdzKQpvZkRyYXdCaXRtYXBTdHJpbmdIaWdobGlnaHQgPSBfb2Yub2ZEcmF3Qml0bWFwU3RyaW5nSGlnaGxpZ2h0CmNsYXNzIG9mUGF0aChfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZQYXRoLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlBhdGgsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZQYXRoKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIGRlZiBjbGVhcihzZWxmKTogcmV0dXJuIF9vZi5vZlBhdGhfY2xlYXIoc2VsZikKICAgIGRlZiBuZXdTdWJQYXRoKHNlbGYpOiByZXR1cm4gX29mLm9mUGF0aF9uZXdTdWJQYXRoKHNlbGYpCiAgICBkZWYgY2xvc2Uoc2VsZik6IHJldHVybiBfb2Yub2ZQYXRoX2Nsb3NlKHNlbGYpCiAgICBkZWYgbGluZVRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBhdGhfbGluZVRvKHNlbGYsICphcmdzKQogICAgZGVmIG1vdmVUbyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQYXRoX21vdmVUbyhzZWxmLCAqYXJncykKICAgIGRlZiBjdXJ2ZVRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBhdGhfY3VydmVUbyhzZWxmLCAqYXJncykKICAgIGRlZiBiZXppZXJUbyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQYXRoX2JlemllclRvKHNlbGYsICphcmdzKQogICAgZGVmIHF1YWRCZXppZXJUbyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQYXRoX3F1YWRCZXppZXJUbyhzZWxmLCAqYXJncykKICAgIGRlZiBhcmMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGF0aF9hcmMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYXJjTmVnYXRpdmUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGF0aF9hcmNOZWdhdGl2ZShzZWxmLCAqYXJncykKICAgIGRlZiBzZXRQb2x5V2luZGluZ01vZGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGF0aF9zZXRQb2x5V2luZGluZ01vZGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0RmlsbGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBhdGhfc2V0RmlsbGVkKHNlbGYsICphcmdzKQogICAgZGVmIHNldFN0cm9rZVdpZHRoKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBhdGhfc2V0U3Ryb2tlV2lkdGgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Q29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGF0aF9zZXRDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRIZXhDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQYXRoX3NldEhleENvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIHNldEZpbGxDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQYXRoX3NldEZpbGxDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRGaWxsSGV4Q29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGF0aF9zZXRGaWxsSGV4Q29sb3Ioc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0U3Ryb2tlQ29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGF0aF9zZXRTdHJva2VDb2xvcihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRTdHJva2VIZXhDb2xvcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQYXRoX3NldFN0cm9rZUhleENvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIGdldFdpbmRpbmdNb2RlKHNlbGYpOiByZXR1cm4gX29mLm9mUGF0aF9nZXRXaW5kaW5nTW9kZShzZWxmKQogICAgZGVmIGlzRmlsbGVkKHNlbGYpOiByZXR1cm4gX29mLm9mUGF0aF9pc0ZpbGxlZChzZWxmKQogICAgZGVmIGdldEZpbGxDb2xvcihzZWxmKTogcmV0dXJuIF9vZi5vZlBhdGhfZ2V0RmlsbENvbG9yKHNlbGYpCiAgICBkZWYgZ2V0U3Ryb2tlQ29sb3Ioc2VsZik6IHJldHVybiBfb2Yub2ZQYXRoX2dldFN0cm9rZUNvbG9yKHNlbGYpCiAgICBkZWYgZ2V0U3Ryb2tlV2lkdGgoc2VsZik6IHJldHVybiBfb2Yub2ZQYXRoX2dldFN0cm9rZVdpZHRoKHNlbGYpCiAgICBkZWYgaGFzT3V0bGluZShzZWxmKTogcmV0dXJuIF9vZi5vZlBhdGhfaGFzT3V0bGluZShzZWxmKQogICAgZGVmIGRyYXcoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGF0aF9kcmF3KHNlbGYsICphcmdzKQogICAgZGVmIGdldFN1YlBhdGhzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBhdGhfZ2V0U3ViUGF0aHMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0T3V0bGluZShzZWxmKTogcmV0dXJuIF9vZi5vZlBhdGhfZ2V0T3V0bGluZShzZWxmKQogICAgZGVmIGdldFRlc3NlbGxhdGlvbihzZWxmKTogcmV0dXJuIF9vZi5vZlBhdGhfZ2V0VGVzc2VsbGF0aW9uKHNlbGYpCiAgICBkZWYgc2ltcGxpZnkoc2VsZiwgdG9sZXJhbmNlPTAuMyk6IHJldHVybiBfb2Yub2ZQYXRoX3NpbXBsaWZ5KHNlbGYsIHRvbGVyYW5jZSkKICAgIGRlZiBmbGFnU2hhcGVDaGFuZ2VkKHNlbGYpOiByZXR1cm4gX29mLm9mUGF0aF9mbGFnU2hhcGVDaGFuZ2VkKHNlbGYpCiAgICBQQVRIUyA9IF9vZi5vZlBhdGhfUEFUSFMKICAgIFBPTFlMSU5FUyA9IF9vZi5vZlBhdGhfUE9MWUxJTkVTCiAgICBkZWYgc2V0TW9kZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQYXRoX3NldE1vZGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Q3VydmVSZXNvbHV0aW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBhdGhfc2V0Q3VydmVSZXNvbHV0aW9uKHNlbGYsICphcmdzKQogICAgZGVmIGdldEN1cnZlUmVzb2x1dGlvbihzZWxmKTogcmV0dXJuIF9vZi5vZlBhdGhfZ2V0Q3VydmVSZXNvbHV0aW9uKHNlbGYpCiAgICBkZWYgc2V0QXJjUmVzb2x1dGlvbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQYXRoX3NldEFyY1Jlc29sdXRpb24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0QXJjUmVzb2x1dGlvbihzZWxmKTogcmV0dXJuIF9vZi5vZlBhdGhfZ2V0QXJjUmVzb2x1dGlvbihzZWxmKQogICAgZGVmIHNldFVzZVNoYXBlQ29sb3Ioc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUGF0aF9zZXRVc2VTaGFwZUNvbG9yKHNlbGYsICphcmdzKQogICAgZGVmIGdldFVzZVNoYXBlQ29sb3Ioc2VsZik6IHJldHVybiBfb2Yub2ZQYXRoX2dldFVzZVNoYXBlQ29sb3Ioc2VsZikKICAgIGRlZiB0ZXNzZWxsYXRlKHNlbGYpOiByZXR1cm4gX29mLm9mUGF0aF90ZXNzZWxsYXRlKHNlbGYpCiAgICBkZWYgdHJhbnNsYXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBhdGhfdHJhbnNsYXRlKHNlbGYsICphcmdzKQogICAgZGVmIHJvdGF0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQYXRoX3JvdGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiBzY2FsZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQYXRoX3NjYWxlKHNlbGYsICphcmdzKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZQYXRoCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZlBhdGhfc3dpZ3JlZ2lzdGVyID0gX29mLm9mUGF0aF9zd2lncmVnaXN0ZXIKb2ZQYXRoX3N3aWdyZWdpc3RlcihvZlBhdGgpCgpjbGFzcyBvZlN1YlBhdGgoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mU3ViUGF0aCwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZTdWJQYXRoLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZik6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mU3ViUGF0aCgpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgZ2V0Q29tbWFuZHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU3ViUGF0aF9nZXRDb21tYW5kcyhzZWxmLCAqYXJncykKICAgIGRlZiBhZGRDb21tYW5kKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlN1YlBhdGhfYWRkQ29tbWFuZChzZWxmLCAqYXJncykKICAgIGRlZiBjbG9zZShzZWxmKTogcmV0dXJuIF9vZi5vZlN1YlBhdGhfY2xvc2Uoc2VsZikKICAgIGRlZiBpc0Nsb3NlZChzZWxmKTogcmV0dXJuIF9vZi5vZlN1YlBhdGhfaXNDbG9zZWQoc2VsZikKICAgIGRlZiBzaXplKHNlbGYpOiByZXR1cm4gX29mLm9mU3ViUGF0aF9zaXplKHNlbGYpCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZlN1YlBhdGgKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mU3ViUGF0aF9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZTdWJQYXRoX3N3aWdyZWdpc3RlcgpvZlN1YlBhdGhfc3dpZ3JlZ2lzdGVyKG9mU3ViUGF0aCkKCmNsYXNzIG9mUG9seWxpbmUoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mUG9seWxpbmUsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mUG9seWxpbmUsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mUG9seWxpbmUoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJmcm9tUmVjdGFuZ2xlIl0gPSBsYW1iZGEgeDogX29mLm9mUG9seWxpbmVfZnJvbVJlY3RhbmdsZQogICAgaWYgX25ld2NsYXNzOmZyb21SZWN0YW5nbGUgPSBzdGF0aWNtZXRob2QoX29mLm9mUG9seWxpbmVfZnJvbVJlY3RhbmdsZSkKICAgIGRlZiBjbGVhcihzZWxmKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX2NsZWFyKHNlbGYpCiAgICBkZWYgYWRkVmVydGV4KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX2FkZFZlcnRleChzZWxmLCAqYXJncykKICAgIGRlZiBhZGRWZXJ0aWNlcyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9hZGRWZXJ0aWNlcyhzZWxmLCAqYXJncykKICAgIGRlZiBhZGRWZXJ0ZXhlcyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9hZGRWZXJ0ZXhlcyhzZWxmLCAqYXJncykKICAgIGRlZiBsaW5lVG8oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUG9seWxpbmVfbGluZVRvKHNlbGYsICphcmdzKQogICAgZGVmIGFyYyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9hcmMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYXJjTmVnYXRpdmUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUG9seWxpbmVfYXJjTmVnYXRpdmUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY3VydmVUbyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9jdXJ2ZVRvKHNlbGYsICphcmdzKQogICAgZGVmIGJlemllclRvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX2JlemllclRvKHNlbGYsICphcmdzKQogICAgZGVmIHF1YWRCZXppZXJUbyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9xdWFkQmV6aWVyVG8oc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0U21vb3RoZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUG9seWxpbmVfZ2V0U21vb3RoZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0UmVzYW1wbGVkQnlTcGFjaW5nKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX2dldFJlc2FtcGxlZEJ5U3BhY2luZyhzZWxmLCAqYXJncykKICAgIGRlZiBnZXRSZXNhbXBsZWRCeUNvdW50KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX2dldFJlc2FtcGxlZEJ5Q291bnQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0Qm91bmRpbmdCb3goc2VsZik6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9nZXRCb3VuZGluZ0JveChzZWxmKQogICAgZGVmIGdldENsb3Nlc3RQb2ludChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9nZXRDbG9zZXN0UG9pbnQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgaW5zaWRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX2luc2lkZShzZWxmLCAqYXJncykKICAgIGRlZiBzaW1wbGlmeShzZWxmLCB0b2xlcmFuY2U9MC4zKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX3NpbXBsaWZ5KHNlbGYsIHRvbGVyYW5jZSkKICAgIGRlZiBzaXplKHNlbGYpOiByZXR1cm4gX29mLm9mUG9seWxpbmVfc2l6ZShzZWxmKQogICAgZGVmIHJlc2l6ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9yZXNpemUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0Q2xvc2VkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX3NldENsb3NlZChzZWxmLCAqYXJncykKICAgIGRlZiBpc0Nsb3NlZChzZWxmKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX2lzQ2xvc2VkKHNlbGYpCiAgICBkZWYgY2xvc2Uoc2VsZik6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9jbG9zZShzZWxmKQogICAgZGVmIGhhc0NoYW5nZWQoc2VsZik6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9oYXNDaGFuZ2VkKHNlbGYpCiAgICBkZWYgZ2V0VmVydGljZXMoc2VsZik6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9nZXRWZXJ0aWNlcyhzZWxmKQogICAgZGVmIGdldFBlcmltZXRlcihzZWxmKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX2dldFBlcmltZXRlcihzZWxmKQogICAgZGVmIGdldEFyZWEoc2VsZik6IHJldHVybiBfb2Yub2ZQb2x5bGluZV9nZXRBcmVhKHNlbGYpCiAgICBkZWYgZ2V0Q2VudHJvaWQyRChzZWxmKTogcmV0dXJuIF9vZi5vZlBvbHlsaW5lX2dldENlbnRyb2lkMkQoc2VsZikKICAgIGRlZiBkcmF3KHNlbGYpOiByZXR1cm4gX29mLm9mUG9seWxpbmVfZHJhdyhzZWxmKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZQb2x5bGluZQogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKb2ZQb2x5bGluZV9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZQb2x5bGluZV9zd2lncmVnaXN0ZXIKb2ZQb2x5bGluZV9zd2lncmVnaXN0ZXIob2ZQb2x5bGluZSkKCmRlZiBvZlBvbHlsaW5lX2Zyb21SZWN0YW5nbGUoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZQb2x5bGluZV9mcm9tUmVjdGFuZ2xlKCphcmdzKQpvZlBvbHlsaW5lX2Zyb21SZWN0YW5nbGUgPSBfb2Yub2ZQb2x5bGluZV9mcm9tUmVjdGFuZ2xlCgpjbGFzcyBvZlRlc3NlbGxhdG9yKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZlRlc3NlbGxhdG9yLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlRlc3NlbGxhdG9yLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZlRlc3NlbGxhdG9yCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZUZXNzZWxsYXRvcigqYXJncykKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIGRlZiB0ZXNzZWxsYXRlVG9NZXNoKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRlc3NlbGxhdG9yX3Rlc3NlbGxhdGVUb01lc2goc2VsZiwgKmFyZ3MpCiAgICBkZWYgdGVzc2VsbGF0ZVRvUG9seWxpbmVzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRlc3NlbGxhdG9yX3Rlc3NlbGxhdGVUb1BvbHlsaW5lcyhzZWxmLCAqYXJncykKb2ZUZXNzZWxsYXRvcl9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZUZXNzZWxsYXRvcl9zd2lncmVnaXN0ZXIKb2ZUZXNzZWxsYXRvcl9zd2lncmVnaXN0ZXIob2ZUZXNzZWxsYXRvcikKCmNsYXNzIGNoYXJQcm9wcyhfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgY2hhclByb3BzLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBjaGFyUHJvcHMsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImNoYXJhY3RlciJdID0gX29mLmNoYXJQcm9wc19jaGFyYWN0ZXJfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJjaGFyYWN0ZXIiXSA9IF9vZi5jaGFyUHJvcHNfY2hhcmFjdGVyX2dldAogICAgaWYgX25ld2NsYXNzOmNoYXJhY3RlciA9IF9zd2lnX3Byb3BlcnR5KF9vZi5jaGFyUHJvcHNfY2hhcmFjdGVyX2dldCwgX29mLmNoYXJQcm9wc19jaGFyYWN0ZXJfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siaGVpZ2h0Il0gPSBfb2YuY2hhclByb3BzX2hlaWdodF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImhlaWdodCJdID0gX29mLmNoYXJQcm9wc19oZWlnaHRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6aGVpZ2h0ID0gX3N3aWdfcHJvcGVydHkoX29mLmNoYXJQcm9wc19oZWlnaHRfZ2V0LCBfb2YuY2hhclByb3BzX2hlaWdodF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ3aWR0aCJdID0gX29mLmNoYXJQcm9wc193aWR0aF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIndpZHRoIl0gPSBfb2YuY2hhclByb3BzX3dpZHRoX2dldAogICAgaWYgX25ld2NsYXNzOndpZHRoID0gX3N3aWdfcHJvcGVydHkoX29mLmNoYXJQcm9wc193aWR0aF9nZXQsIF9vZi5jaGFyUHJvcHNfd2lkdGhfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sic2V0V2lkdGgiXSA9IF9vZi5jaGFyUHJvcHNfc2V0V2lkdGhfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJzZXRXaWR0aCJdID0gX29mLmNoYXJQcm9wc19zZXRXaWR0aF9nZXQKICAgIGlmIF9uZXdjbGFzczpzZXRXaWR0aCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5jaGFyUHJvcHNfc2V0V2lkdGhfZ2V0LCBfb2YuY2hhclByb3BzX3NldFdpZHRoX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInRvcEV4dGVudCJdID0gX29mLmNoYXJQcm9wc190b3BFeHRlbnRfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ0b3BFeHRlbnQiXSA9IF9vZi5jaGFyUHJvcHNfdG9wRXh0ZW50X2dldAogICAgaWYgX25ld2NsYXNzOnRvcEV4dGVudCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5jaGFyUHJvcHNfdG9wRXh0ZW50X2dldCwgX29mLmNoYXJQcm9wc190b3BFeHRlbnRfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sibGVmdEV4dGVudCJdID0gX29mLmNoYXJQcm9wc19sZWZ0RXh0ZW50X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sibGVmdEV4dGVudCJdID0gX29mLmNoYXJQcm9wc19sZWZ0RXh0ZW50X2dldAogICAgaWYgX25ld2NsYXNzOmxlZnRFeHRlbnQgPSBfc3dpZ19wcm9wZXJ0eShfb2YuY2hhclByb3BzX2xlZnRFeHRlbnRfZ2V0LCBfb2YuY2hhclByb3BzX2xlZnRFeHRlbnRfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sidFciXSA9IF9vZi5jaGFyUHJvcHNfdFdfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ0VyJdID0gX29mLmNoYXJQcm9wc190V19nZXQKICAgIGlmIF9uZXdjbGFzczp0VyA9IF9zd2lnX3Byb3BlcnR5KF9vZi5jaGFyUHJvcHNfdFdfZ2V0LCBfb2YuY2hhclByb3BzX3RXX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInRIIl0gPSBfb2YuY2hhclByb3BzX3RIX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sidEgiXSA9IF9vZi5jaGFyUHJvcHNfdEhfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6dEggPSBfc3dpZ19wcm9wZXJ0eShfb2YuY2hhclByb3BzX3RIX2dldCwgX29mLmNoYXJQcm9wc190SF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ4MSJdID0gX29mLmNoYXJQcm9wc194MV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIngxIl0gPSBfb2YuY2hhclByb3BzX3gxX2dldAogICAgaWYgX25ld2NsYXNzOngxID0gX3N3aWdfcHJvcGVydHkoX29mLmNoYXJQcm9wc194MV9nZXQsIF9vZi5jaGFyUHJvcHNfeDFfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sieDIiXSA9IF9vZi5jaGFyUHJvcHNfeDJfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ4MiJdID0gX29mLmNoYXJQcm9wc194Ml9nZXQKICAgIGlmIF9uZXdjbGFzczp4MiA9IF9zd2lnX3Byb3BlcnR5KF9vZi5jaGFyUHJvcHNfeDJfZ2V0LCBfb2YuY2hhclByb3BzX3gyX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInkxIl0gPSBfb2YuY2hhclByb3BzX3kxX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sieTEiXSA9IF9vZi5jaGFyUHJvcHNfeTFfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6eTEgPSBfc3dpZ19wcm9wZXJ0eShfb2YuY2hhclByb3BzX3kxX2dldCwgX29mLmNoYXJQcm9wc195MV9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ5MiJdID0gX29mLmNoYXJQcm9wc195Ml9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInkyIl0gPSBfb2YuY2hhclByb3BzX3kyX2dldAogICAgaWYgX25ld2NsYXNzOnkyID0gX3N3aWdfcHJvcGVydHkoX29mLmNoYXJQcm9wc195Ml9nZXQsIF9vZi5jaGFyUHJvcHNfeTJfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sidDEiXSA9IF9vZi5jaGFyUHJvcHNfdDFfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ0MSJdID0gX29mLmNoYXJQcm9wc190MV9nZXQKICAgIGlmIF9uZXdjbGFzczp0MSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5jaGFyUHJvcHNfdDFfZ2V0LCBfb2YuY2hhclByb3BzX3QxX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInQyIl0gPSBfb2YuY2hhclByb3BzX3QyX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sidDIiXSA9IF9vZi5jaGFyUHJvcHNfdDJfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6dDIgPSBfc3dpZ19wcm9wZXJ0eShfb2YuY2hhclByb3BzX3QyX2dldCwgX29mLmNoYXJQcm9wc190Ml9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ2MSJdID0gX29mLmNoYXJQcm9wc192MV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInYxIl0gPSBfb2YuY2hhclByb3BzX3YxX2dldAogICAgaWYgX25ld2NsYXNzOnYxID0gX3N3aWdfcHJvcGVydHkoX29mLmNoYXJQcm9wc192MV9nZXQsIF9vZi5jaGFyUHJvcHNfdjFfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sidjIiXSA9IF9vZi5jaGFyUHJvcHNfdjJfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ2MiJdID0gX29mLmNoYXJQcm9wc192Ml9nZXQKICAgIGlmIF9uZXdjbGFzczp2MiA9IF9zd2lnX3Byb3BlcnR5KF9vZi5jaGFyUHJvcHNfdjJfZ2V0LCBfb2YuY2hhclByb3BzX3YyX3NldCkKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfY2hhclByb3BzKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX2NoYXJQcm9wcwogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKY2hhclByb3BzX3N3aWdyZWdpc3RlciA9IF9vZi5jaGFyUHJvcHNfc3dpZ3JlZ2lzdGVyCmNoYXJQcm9wc19zd2lncmVnaXN0ZXIoY2hhclByb3BzKQoKTlVNX0NIQVJBQ1RFUl9UT19TVEFSVCA9IF9vZi5OVU1fQ0hBUkFDVEVSX1RPX1NUQVJUCmNsYXNzIG9mVHJ1ZVR5cGVGb250KF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZlRydWVUeXBlRm9udCwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZUcnVlVHlwZUZvbnQsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZUcnVlVHlwZUZvbnQoKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZUcnVlVHlwZUZvbnQKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJzZXRHbG9iYWxEcGkiXSA9IGxhbWJkYSB4OiBfb2Yub2ZUcnVlVHlwZUZvbnRfc2V0R2xvYmFsRHBpCiAgICBpZiBfbmV3Y2xhc3M6c2V0R2xvYmFsRHBpID0gc3RhdGljbWV0aG9kKF9vZi5vZlRydWVUeXBlRm9udF9zZXRHbG9iYWxEcGkpCiAgICBkZWYgbG9hZEZvbnQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVHJ1ZVR5cGVGb250X2xvYWRGb250KHNlbGYsICphcmdzKQogICAgZGVmIGlzTG9hZGVkKHNlbGYpOiByZXR1cm4gX29mLm9mVHJ1ZVR5cGVGb250X2lzTG9hZGVkKHNlbGYpCiAgICBkZWYgaXNBbnRpQWxpYXNlZChzZWxmKTogcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9pc0FudGlBbGlhc2VkKHNlbGYpCiAgICBkZWYgaGFzRnVsbENoYXJhY3RlclNldChzZWxmKTogcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9oYXNGdWxsQ2hhcmFjdGVyU2V0KHNlbGYpCiAgICBkZWYgZ2V0U2l6ZShzZWxmKTogcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9nZXRTaXplKHNlbGYpCiAgICBkZWYgZ2V0TGluZUhlaWdodChzZWxmKTogcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9nZXRMaW5lSGVpZ2h0KHNlbGYpCiAgICBkZWYgc2V0TGluZUhlaWdodChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZUcnVlVHlwZUZvbnRfc2V0TGluZUhlaWdodChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRMZXR0ZXJTcGFjaW5nKHNlbGYpOiByZXR1cm4gX29mLm9mVHJ1ZVR5cGVGb250X2dldExldHRlclNwYWNpbmcoc2VsZikKICAgIGRlZiBzZXRMZXR0ZXJTcGFjaW5nKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9zZXRMZXR0ZXJTcGFjaW5nKHNlbGYsICphcmdzKQogICAgZGVmIGdldFNwYWNlU2l6ZShzZWxmKTogcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9nZXRTcGFjZVNpemUoc2VsZikKICAgIGRlZiBzZXRTcGFjZVNpemUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVHJ1ZVR5cGVGb250X3NldFNwYWNlU2l6ZShzZWxmLCAqYXJncykKICAgIGRlZiBzdHJpbmdXaWR0aChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZUcnVlVHlwZUZvbnRfc3RyaW5nV2lkdGgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc3RyaW5nSGVpZ2h0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9zdHJpbmdIZWlnaHQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0U3RyaW5nQm91bmRpbmdCb3goc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVHJ1ZVR5cGVGb250X2dldFN0cmluZ0JvdW5kaW5nQm94KHNlbGYsICphcmdzKQogICAgZGVmIGRyYXdTdHJpbmcoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVHJ1ZVR5cGVGb250X2RyYXdTdHJpbmcoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZHJhd1N0cmluZ0FzU2hhcGVzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9kcmF3U3RyaW5nQXNTaGFwZXMoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0TnVtQ2hhcmFjdGVycyhzZWxmKTogcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9nZXROdW1DaGFyYWN0ZXJzKHNlbGYpCiAgICBkZWYgZ2V0Q2hhcmFjdGVyQXNQb2ludHMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVHJ1ZVR5cGVGb250X2dldENoYXJhY3RlckFzUG9pbnRzKHNlbGYsICphcmdzKQogICAgZGVmIGdldFN0cmluZ0FzUG9pbnRzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9nZXRTdHJpbmdBc1BvaW50cyhzZWxmLCAqYXJncykKICAgIGRlZiBiaW5kKHNlbGYpOiByZXR1cm4gX29mLm9mVHJ1ZVR5cGVGb250X2JpbmQoc2VsZikKICAgIGRlZiB1bmJpbmQoc2VsZik6IHJldHVybiBfb2Yub2ZUcnVlVHlwZUZvbnRfdW5iaW5kKHNlbGYpCm9mVHJ1ZVR5cGVGb250X3N3aWdyZWdpc3RlciA9IF9vZi5vZlRydWVUeXBlRm9udF9zd2lncmVnaXN0ZXIKb2ZUcnVlVHlwZUZvbnRfc3dpZ3JlZ2lzdGVyKG9mVHJ1ZVR5cGVGb250KQoKZGVmIG9mVHJ1ZVR5cGVGb250X3NldEdsb2JhbERwaSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlRydWVUeXBlRm9udF9zZXRHbG9iYWxEcGkoKmFyZ3MpCm9mVHJ1ZVR5cGVGb250X3NldEdsb2JhbERwaSA9IF9vZi5vZlRydWVUeXBlRm9udF9zZXRHbG9iYWxEcGkKCgpkZWYgb2ZOZXh0UG93MigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZk5leHRQb3cyKCphcmdzKQpvZk5leHRQb3cyID0gX29mLm9mTmV4dFBvdzIKCmRlZiBvZlNlZWRSYW5kb20oKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTZWVkUmFuZG9tKCphcmdzKQpvZlNlZWRSYW5kb20gPSBfb2Yub2ZTZWVkUmFuZG9tCgpkZWYgb2ZSYW5kb20oKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZSYW5kb20oKmFyZ3MpCm9mUmFuZG9tID0gX29mLm9mUmFuZG9tCgpkZWYgb2ZSYW5kb21mKCk6CiAgcmV0dXJuIF9vZi5vZlJhbmRvbWYoKQpvZlJhbmRvbWYgPSBfb2Yub2ZSYW5kb21mCgpkZWYgb2ZSYW5kb211ZigpOgogIHJldHVybiBfb2Yub2ZSYW5kb211ZigpCm9mUmFuZG9tdWYgPSBfb2Yub2ZSYW5kb211ZgoKZGVmIG9mTm9ybWFsaXplKCphcmdzKToKICByZXR1cm4gX29mLm9mTm9ybWFsaXplKCphcmdzKQpvZk5vcm1hbGl6ZSA9IF9vZi5vZk5vcm1hbGl6ZQoKZGVmIG9mTWFwKCphcmdzKToKICByZXR1cm4gX29mLm9mTWFwKCphcmdzKQpvZk1hcCA9IF9vZi5vZk1hcAoKZGVmIG9mQ2xhbXAoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZDbGFtcCgqYXJncykKb2ZDbGFtcCA9IF9vZi5vZkNsYW1wCgpkZWYgb2ZMZXJwKCphcmdzKToKICByZXR1cm4gX29mLm9mTGVycCgqYXJncykKb2ZMZXJwID0gX29mLm9mTGVycAoKZGVmIG9mRGlzdCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkRpc3QoKmFyZ3MpCm9mRGlzdCA9IF9vZi5vZkRpc3QKCmRlZiBvZkRpc3RTcXVhcmVkKCphcmdzKToKICByZXR1cm4gX29mLm9mRGlzdFNxdWFyZWQoKmFyZ3MpCm9mRGlzdFNxdWFyZWQgPSBfb2Yub2ZEaXN0U3F1YXJlZAoKZGVmIG9mU2lnbigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNpZ24oKmFyZ3MpCm9mU2lnbiA9IF9vZi5vZlNpZ24KCmRlZiBvZkluUmFuZ2UoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZJblJhbmdlKCphcmdzKQpvZkluUmFuZ2UgPSBfb2Yub2ZJblJhbmdlCgpkZWYgb2ZSYWRUb0RlZygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlJhZFRvRGVnKCphcmdzKQpvZlJhZFRvRGVnID0gX29mLm9mUmFkVG9EZWcKCmRlZiBvZkRlZ1RvUmFkKCphcmdzKToKICByZXR1cm4gX29mLm9mRGVnVG9SYWQoKmFyZ3MpCm9mRGVnVG9SYWQgPSBfb2Yub2ZEZWdUb1JhZAoKZGVmIG9mTGVycERlZ3JlZXMoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZMZXJwRGVncmVlcygqYXJncykKb2ZMZXJwRGVncmVlcyA9IF9vZi5vZkxlcnBEZWdyZWVzCgpkZWYgb2ZMZXJwUmFkaWFucygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkxlcnBSYWRpYW5zKCphcmdzKQpvZkxlcnBSYWRpYW5zID0gX29mLm9mTGVycFJhZGlhbnMKCmRlZiBvZkFuZ2xlRGlmZmVyZW5jZURlZ3JlZXMoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZBbmdsZURpZmZlcmVuY2VEZWdyZWVzKCphcmdzKQpvZkFuZ2xlRGlmZmVyZW5jZURlZ3JlZXMgPSBfb2Yub2ZBbmdsZURpZmZlcmVuY2VEZWdyZWVzCgpkZWYgb2ZBbmdsZURpZmZlcmVuY2VSYWRpYW5zKCphcmdzKToKICByZXR1cm4gX29mLm9mQW5nbGVEaWZmZXJlbmNlUmFkaWFucygqYXJncykKb2ZBbmdsZURpZmZlcmVuY2VSYWRpYW5zID0gX29mLm9mQW5nbGVEaWZmZXJlbmNlUmFkaWFucwoKZGVmIG9mV3JhcFJhZGlhbnMoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZXcmFwUmFkaWFucygqYXJncykKb2ZXcmFwUmFkaWFucyA9IF9vZi5vZldyYXBSYWRpYW5zCgpkZWYgb2ZXcmFwRGVncmVlcygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZldyYXBEZWdyZWVzKCphcmdzKQpvZldyYXBEZWdyZWVzID0gX29mLm9mV3JhcERlZ3JlZXMKCmRlZiBvZlJhbmRvbVdpZHRoKCk6CiAgcmV0dXJuIF9vZi5vZlJhbmRvbVdpZHRoKCkKb2ZSYW5kb21XaWR0aCA9IF9vZi5vZlJhbmRvbVdpZHRoCgpkZWYgb2ZSYW5kb21IZWlnaHQoKToKICByZXR1cm4gX29mLm9mUmFuZG9tSGVpZ2h0KCkKb2ZSYW5kb21IZWlnaHQgPSBfb2Yub2ZSYW5kb21IZWlnaHQKCmRlZiBvZk5vaXNlKCphcmdzKToKICByZXR1cm4gX29mLm9mTm9pc2UoKmFyZ3MpCm9mTm9pc2UgPSBfb2Yub2ZOb2lzZQoKZGVmIG9mU2lnbmVkTm9pc2UoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTaWduZWROb2lzZSgqYXJncykKb2ZTaWduZWROb2lzZSA9IF9vZi5vZlNpZ25lZE5vaXNlCgpkZWYgb2ZJbnNpZGVQb2x5KCphcmdzKToKICByZXR1cm4gX29mLm9mSW5zaWRlUG9seSgqYXJncykKb2ZJbnNpZGVQb2x5ID0gX29mLm9mSW5zaWRlUG9seQoKZGVmIG9mTGluZVNlZ21lbnRJbnRlcnNlY3Rpb24oKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZMaW5lU2VnbWVudEludGVyc2VjdGlvbigqYXJncykKb2ZMaW5lU2VnbWVudEludGVyc2VjdGlvbiA9IF9vZi5vZkxpbmVTZWdtZW50SW50ZXJzZWN0aW9uCgpkZWYgb2ZCZXppZXJQb2ludCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkJlemllclBvaW50KCphcmdzKQpvZkJlemllclBvaW50ID0gX29mLm9mQmV6aWVyUG9pbnQKCmRlZiBvZkN1cnZlUG9pbnQoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZDdXJ2ZVBvaW50KCphcmdzKQpvZkN1cnZlUG9pbnQgPSBfb2Yub2ZDdXJ2ZVBvaW50CgpkZWYgb2ZCZXppZXJUYW5nZW50KCphcmdzKToKICByZXR1cm4gX29mLm9mQmV6aWVyVGFuZ2VudCgqYXJncykKb2ZCZXppZXJUYW5nZW50ID0gX29mLm9mQmV6aWVyVGFuZ2VudAoKZGVmIG9mQ3VydmVUYW5nZW50KCphcmdzKToKICByZXR1cm4gX29mLm9mQ3VydmVUYW5nZW50KCphcmdzKQpvZkN1cnZlVGFuZ2VudCA9IF9vZi5vZkN1cnZlVGFuZ2VudApjbGFzcyBvZk1hdHJpeDN4Myhfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZNYXRyaXgzeDMsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mTWF0cml4M3gzLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJhIl0gPSBfb2Yub2ZNYXRyaXgzeDNfYV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImEiXSA9IF9vZi5vZk1hdHJpeDN4M19hX2dldAogICAgaWYgX25ld2NsYXNzOmEgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZNYXRyaXgzeDNfYV9nZXQsIF9vZi5vZk1hdHJpeDN4M19hX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImIiXSA9IF9vZi5vZk1hdHJpeDN4M19iX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siYiJdID0gX29mLm9mTWF0cml4M3gzX2JfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6YiA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZk1hdHJpeDN4M19iX2dldCwgX29mLm9mTWF0cml4M3gzX2Jfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siYyJdID0gX29mLm9mTWF0cml4M3gzX2Nfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJjIl0gPSBfb2Yub2ZNYXRyaXgzeDNfY19nZXQKICAgIGlmIF9uZXdjbGFzczpjID0gX3N3aWdfcHJvcGVydHkoX29mLm9mTWF0cml4M3gzX2NfZ2V0LCBfb2Yub2ZNYXRyaXgzeDNfY19zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJkIl0gPSBfb2Yub2ZNYXRyaXgzeDNfZF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImQiXSA9IF9vZi5vZk1hdHJpeDN4M19kX2dldAogICAgaWYgX25ld2NsYXNzOmQgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZNYXRyaXgzeDNfZF9nZXQsIF9vZi5vZk1hdHJpeDN4M19kX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImUiXSA9IF9vZi5vZk1hdHJpeDN4M19lX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siZSJdID0gX29mLm9mTWF0cml4M3gzX2VfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6ZSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZk1hdHJpeDN4M19lX2dldCwgX29mLm9mTWF0cml4M3gzX2Vfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siZiJdID0gX29mLm9mTWF0cml4M3gzX2Zfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJmIl0gPSBfb2Yub2ZNYXRyaXgzeDNfZl9nZXQKICAgIGlmIF9uZXdjbGFzczpmID0gX3N3aWdfcHJvcGVydHkoX29mLm9mTWF0cml4M3gzX2ZfZ2V0LCBfb2Yub2ZNYXRyaXgzeDNfZl9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJnIl0gPSBfb2Yub2ZNYXRyaXgzeDNfZ19zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImciXSA9IF9vZi5vZk1hdHJpeDN4M19nX2dldAogICAgaWYgX25ld2NsYXNzOmcgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZNYXRyaXgzeDNfZ19nZXQsIF9vZi5vZk1hdHJpeDN4M19nX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImgiXSA9IF9vZi5vZk1hdHJpeDN4M19oX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siaCJdID0gX29mLm9mTWF0cml4M3gzX2hfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6aCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZk1hdHJpeDN4M19oX2dldCwgX29mLm9mTWF0cml4M3gzX2hfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siaSJdID0gX29mLm9mTWF0cml4M3gzX2lfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJpIl0gPSBfb2Yub2ZNYXRyaXgzeDNfaV9nZXQKICAgIGlmIF9uZXdjbGFzczppID0gX3N3aWdfcHJvcGVydHkoX29mLm9mTWF0cml4M3gzX2lfZ2V0LCBfb2Yub2ZNYXRyaXgzeDNfaV9zZXQpCiAgICBkZWYgX19pbml0X18oc2VsZiwgX2E9MC4wLCBfYj0wLjAsIF9jPTAuMCwgX2Q9MC4wLCBfZT0wLjAsIF9mPTAuMCwgX2c9MC4wLCBfaD0wLjAsIF9pPTAuMCk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mTWF0cml4M3gzKF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2kpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgc2V0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDN4M19zZXQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgdHJhbnNwb3NlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDN4M190cmFuc3Bvc2Uoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZGV0ZXJtaW5hbnQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4M3gzX2RldGVybWluYW50KHNlbGYsICphcmdzKQogICAgZGVmIGludmVydChzZWxmKTogcmV0dXJuIF9vZi5vZk1hdHJpeDN4M19pbnZlcnQoc2VsZikKICAgIGRlZiBpbnZlcnNlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDN4M19pbnZlcnNlKHNlbGYsICphcmdzKQogICAgZGVmIF9fYWRkX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4M3gzX19fYWRkX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pYWRkX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4M3gzX19faWFkZF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fc3ViX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4M3gzX19fc3ViX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pc3ViX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4M3gzX19faXN1Yl9fKHNlbGYsICphcmdzKQogICAgZGVmIGVudHJ5d2lzZVRpbWVzKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDN4M19lbnRyeXdpc2VUaW1lcyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2ltdWxfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXgzeDNfX19pbXVsX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19tdWxfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXgzeDNfX19tdWxfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2Rpdl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDN4M19fX2Rpdl9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faWRpdl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDN4M19fX2lkaXZfXyhzZWxmLCAqYXJncykKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mTWF0cml4M3gzCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZk1hdHJpeDN4M19zd2lncmVnaXN0ZXIgPSBfb2Yub2ZNYXRyaXgzeDNfc3dpZ3JlZ2lzdGVyCm9mTWF0cml4M3gzX3N3aWdyZWdpc3RlcihvZk1hdHJpeDN4MykKCmNsYXNzIG9mTWF0cml4NHg0KF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZk1hdHJpeDR4NCwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZNYXRyaXg0eDQsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bIl9tYXQiXSA9IF9vZi5vZk1hdHJpeDR4NF9fbWF0X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siX21hdCJdID0gX29mLm9mTWF0cml4NHg0X19tYXRfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6X21hdCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZk1hdHJpeDR4NF9fbWF0X2dldCwgX29mLm9mTWF0cml4NHg0X19tYXRfc2V0KQogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZNYXRyaXg0eDQoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZk1hdHJpeDR4NAogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBfX2NhbGxfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfX19jYWxsX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0Um93QXNWZWMzZihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfZ2V0Um93QXNWZWMzZihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRSb3dBc1ZlYzRmKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9nZXRSb3dBc1ZlYzRmKHNlbGYsICphcmdzKQogICAgZGVmIGlzVmFsaWQoc2VsZik6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfaXNWYWxpZChzZWxmKQogICAgZGVmIGlzTmFOKHNlbGYpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X2lzTmFOKHNlbGYpCiAgICBkZWYgc2V0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9zZXQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0UHRyKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9nZXRQdHIoc2VsZiwgKmFyZ3MpCiAgICBkZWYgaXNJZGVudGl0eShzZWxmKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9pc0lkZW50aXR5KHNlbGYpCiAgICBkZWYgbWFrZUlkZW50aXR5TWF0cml4KHNlbGYpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X21ha2VJZGVudGl0eU1hdHJpeChzZWxmKQogICAgZGVmIG1ha2VTY2FsZU1hdHJpeChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfbWFrZVNjYWxlTWF0cml4KHNlbGYsICphcmdzKQogICAgZGVmIG1ha2VUcmFuc2xhdGlvbk1hdHJpeChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfbWFrZVRyYW5zbGF0aW9uTWF0cml4KHNlbGYsICphcmdzKQogICAgZGVmIG1ha2VSb3RhdGlvbk1hdHJpeChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfbWFrZVJvdGF0aW9uTWF0cml4KHNlbGYsICphcmdzKQogICAgZGVmIG1ha2VJbnZlcnRPZihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfbWFrZUludmVydE9mKHNlbGYsICphcmdzKQogICAgZGVmIG1ha2VPcnRob05vcm1hbE9mKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9tYWtlT3J0aG9Ob3JtYWxPZihzZWxmLCAqYXJncykKICAgIGRlZiBtYWtlRnJvbU11bHRpcGxpY2F0aW9uT2Yoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X21ha2VGcm9tTXVsdGlwbGljYXRpb25PZihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRJbnZlcnNlKHNlbGYpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X2dldEludmVyc2Uoc2VsZikKICAgIGRlZiBtYWtlT3J0aG9NYXRyaXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X21ha2VPcnRob01hdHJpeChzZWxmLCAqYXJncykKICAgIGRlZiBtYWtlT3J0aG8yRE1hdHJpeChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfbWFrZU9ydGhvMkRNYXRyaXgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbWFrZUZydXN0dW1NYXRyaXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X21ha2VGcnVzdHVtTWF0cml4KHNlbGYsICphcmdzKQogICAgZGVmIG1ha2VQZXJzcGVjdGl2ZU1hdHJpeChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfbWFrZVBlcnNwZWN0aXZlTWF0cml4KHNlbGYsICphcmdzKQogICAgZGVmIG1ha2VMb29rQXRNYXRyaXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X21ha2VMb29rQXRNYXRyaXgoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbWFrZUxvb2tBdFZpZXdNYXRyaXgoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X21ha2VMb29rQXRWaWV3TWF0cml4KHNlbGYsICphcmdzKQogICAgZGVmIGdldE9ydGhvKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9nZXRPcnRobyhzZWxmLCAqYXJncykKICAgIGRlZiBnZXRGcnVzdHVtKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9nZXRGcnVzdHVtKHNlbGYsICphcmdzKQogICAgZGVmIGdldFBlcnNwZWN0aXZlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9nZXRQZXJzcGVjdGl2ZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRMb29rQXQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X2dldExvb2tBdChzZWxmLCAqYXJncykKICAgIGRlZiBkZWNvbXBvc2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X2RlY29tcG9zZShzZWxmLCAqYXJncykKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm5ld0lkZW50aXR5TWF0cml4Il0gPSBsYW1iZGEgeDogX29mLm9mTWF0cml4NHg0X25ld0lkZW50aXR5TWF0cml4CiAgICBpZiBfbmV3Y2xhc3M6bmV3SWRlbnRpdHlNYXRyaXggPSBzdGF0aWNtZXRob2QoX29mLm9mTWF0cml4NHg0X25ld0lkZW50aXR5TWF0cml4KQogICAgX19zd2lnX2dldG1ldGhvZHNfX1sibmV3U2NhbGVNYXRyaXgiXSA9IGxhbWJkYSB4OiBfb2Yub2ZNYXRyaXg0eDRfbmV3U2NhbGVNYXRyaXgKICAgIGlmIF9uZXdjbGFzczpuZXdTY2FsZU1hdHJpeCA9IHN0YXRpY21ldGhvZChfb2Yub2ZNYXRyaXg0eDRfbmV3U2NhbGVNYXRyaXgpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJuZXdUcmFuc2xhdGlvbk1hdHJpeCJdID0gbGFtYmRhIHg6IF9vZi5vZk1hdHJpeDR4NF9uZXdUcmFuc2xhdGlvbk1hdHJpeAogICAgaWYgX25ld2NsYXNzOm5ld1RyYW5zbGF0aW9uTWF0cml4ID0gc3RhdGljbWV0aG9kKF9vZi5vZk1hdHJpeDR4NF9uZXdUcmFuc2xhdGlvbk1hdHJpeCkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm5ld1JvdGF0aW9uTWF0cml4Il0gPSBsYW1iZGEgeDogX29mLm9mTWF0cml4NHg0X25ld1JvdGF0aW9uTWF0cml4CiAgICBpZiBfbmV3Y2xhc3M6bmV3Um90YXRpb25NYXRyaXggPSBzdGF0aWNtZXRob2QoX29mLm9mTWF0cml4NHg0X25ld1JvdGF0aW9uTWF0cml4KQogICAgX19zd2lnX2dldG1ldGhvZHNfX1siZ2V0SW52ZXJzZU9mIl0gPSBsYW1iZGEgeDogX29mLm9mTWF0cml4NHg0X2dldEludmVyc2VPZgogICAgaWYgX25ld2NsYXNzOmdldEludmVyc2VPZiA9IHN0YXRpY21ldGhvZChfb2Yub2ZNYXRyaXg0eDRfZ2V0SW52ZXJzZU9mKQogICAgX19zd2lnX2dldG1ldGhvZHNfX1siZ2V0VHJhbnNwb3NlZE9mIl0gPSBsYW1iZGEgeDogX29mLm9mTWF0cml4NHg0X2dldFRyYW5zcG9zZWRPZgogICAgaWYgX25ld2NsYXNzOmdldFRyYW5zcG9zZWRPZiA9IHN0YXRpY21ldGhvZChfb2Yub2ZNYXRyaXg0eDRfZ2V0VHJhbnNwb3NlZE9mKQogICAgX19zd2lnX2dldG1ldGhvZHNfX1siZ2V0T3J0aG9Ob3JtYWxPZiJdID0gbGFtYmRhIHg6IF9vZi5vZk1hdHJpeDR4NF9nZXRPcnRob05vcm1hbE9mCiAgICBpZiBfbmV3Y2xhc3M6Z2V0T3J0aG9Ob3JtYWxPZiA9IHN0YXRpY21ldGhvZChfb2Yub2ZNYXRyaXg0eDRfZ2V0T3J0aG9Ob3JtYWxPZikKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm5ld09ydGhvTWF0cml4Il0gPSBsYW1iZGEgeDogX29mLm9mTWF0cml4NHg0X25ld09ydGhvTWF0cml4CiAgICBpZiBfbmV3Y2xhc3M6bmV3T3J0aG9NYXRyaXggPSBzdGF0aWNtZXRob2QoX29mLm9mTWF0cml4NHg0X25ld09ydGhvTWF0cml4KQogICAgX19zd2lnX2dldG1ldGhvZHNfX1sibmV3T3J0aG8yRE1hdHJpeCJdID0gbGFtYmRhIHg6IF9vZi5vZk1hdHJpeDR4NF9uZXdPcnRobzJETWF0cml4CiAgICBpZiBfbmV3Y2xhc3M6bmV3T3J0aG8yRE1hdHJpeCA9IHN0YXRpY21ldGhvZChfb2Yub2ZNYXRyaXg0eDRfbmV3T3J0aG8yRE1hdHJpeCkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm5ld0ZydXN0dW1NYXRyaXgiXSA9IGxhbWJkYSB4OiBfb2Yub2ZNYXRyaXg0eDRfbmV3RnJ1c3R1bU1hdHJpeAogICAgaWYgX25ld2NsYXNzOm5ld0ZydXN0dW1NYXRyaXggPSBzdGF0aWNtZXRob2QoX29mLm9mTWF0cml4NHg0X25ld0ZydXN0dW1NYXRyaXgpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJuZXdQZXJzcGVjdGl2ZU1hdHJpeCJdID0gbGFtYmRhIHg6IF9vZi5vZk1hdHJpeDR4NF9uZXdQZXJzcGVjdGl2ZU1hdHJpeAogICAgaWYgX25ld2NsYXNzOm5ld1BlcnNwZWN0aXZlTWF0cml4ID0gc3RhdGljbWV0aG9kKF9vZi5vZk1hdHJpeDR4NF9uZXdQZXJzcGVjdGl2ZU1hdHJpeCkKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm5ld0xvb2tBdE1hdHJpeCJdID0gbGFtYmRhIHg6IF9vZi5vZk1hdHJpeDR4NF9uZXdMb29rQXRNYXRyaXgKICAgIGlmIF9uZXdjbGFzczpuZXdMb29rQXRNYXRyaXggPSBzdGF0aWNtZXRob2QoX29mLm9mTWF0cml4NHg0X25ld0xvb2tBdE1hdHJpeCkKICAgIGRlZiBzZXRSb3RhdGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X3NldFJvdGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiBzZXRUcmFuc2xhdGlvbihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfc2V0VHJhbnNsYXRpb24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgcm90YXRlUmFkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9yb3RhdGVSYWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcm90YXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9yb3RhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgdHJhbnNsYXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF90cmFuc2xhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2NhbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X3NjYWxlKHNlbGYsICphcmdzKQogICAgZGVmIGdsUm90YXRlUmFkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9nbFJvdGF0ZVJhZChzZWxmLCAqYXJncykKICAgIGRlZiBnbFJvdGF0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfZ2xSb3RhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2xUcmFuc2xhdGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X2dsVHJhbnNsYXRlKHNlbGYsICphcmdzKQogICAgZGVmIGdsU2NhbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X2dsU2NhbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0Um90YXRlKHNlbGYpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X2dldFJvdGF0ZShzZWxmKQogICAgZGVmIGdldFRyYW5zbGF0aW9uKHNlbGYpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X2dldFRyYW5zbGF0aW9uKHNlbGYpCiAgICBkZWYgZ2V0U2NhbGUoc2VsZik6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfZ2V0U2NhbGUoc2VsZikKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInRyYW5zZm9ybTN4MyJdID0gbGFtYmRhIHg6IF9vZi5vZk1hdHJpeDR4NF90cmFuc2Zvcm0zeDMKICAgIGlmIF9uZXdjbGFzczp0cmFuc2Zvcm0zeDMgPSBzdGF0aWNtZXRob2QoX29mLm9mTWF0cml4NHg0X3RyYW5zZm9ybTN4MykKICAgIGRlZiBwb3N0TXVsdChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfcG9zdE11bHQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pbXVsX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X19faW11bF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fbXVsX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X19fbXVsX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgcHJlTXVsdChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfcHJlTXVsdChzZWxmLCAqYXJncykKICAgIGRlZiBwb3N0TXVsdFRyYW5zbGF0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfcG9zdE11bHRUcmFuc2xhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcG9zdE11bHRSb3RhdGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X3Bvc3RNdWx0Um90YXRlKHNlbGYsICphcmdzKQogICAgZGVmIHBvc3RNdWx0U2NhbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mTWF0cml4NHg0X3Bvc3RNdWx0U2NhbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcHJlTXVsdFNjYWxlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9wcmVNdWx0U2NhbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcHJlTXVsdFRyYW5zbGF0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfcHJlTXVsdFRyYW5zbGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiBwcmVNdWx0Um90YXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9wcmVNdWx0Um90YXRlKHNlbGYsICphcmdzKQpvZk1hdHJpeDR4NF9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZNYXRyaXg0eDRfc3dpZ3JlZ2lzdGVyCm9mTWF0cml4NHg0X3N3aWdyZWdpc3RlcihvZk1hdHJpeDR4NCkKCmRlZiBvZk1hdHJpeDR4NF9uZXdJZGVudGl0eU1hdHJpeCgpOgogIHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfbmV3SWRlbnRpdHlNYXRyaXgoKQpvZk1hdHJpeDR4NF9uZXdJZGVudGl0eU1hdHJpeCA9IF9vZi5vZk1hdHJpeDR4NF9uZXdJZGVudGl0eU1hdHJpeAoKZGVmIG9mTWF0cml4NHg0X25ld1NjYWxlTWF0cml4KCphcmdzKToKICByZXR1cm4gX29mLm9mTWF0cml4NHg0X25ld1NjYWxlTWF0cml4KCphcmdzKQpvZk1hdHJpeDR4NF9uZXdTY2FsZU1hdHJpeCA9IF9vZi5vZk1hdHJpeDR4NF9uZXdTY2FsZU1hdHJpeAoKZGVmIG9mTWF0cml4NHg0X25ld1RyYW5zbGF0aW9uTWF0cml4KCphcmdzKToKICByZXR1cm4gX29mLm9mTWF0cml4NHg0X25ld1RyYW5zbGF0aW9uTWF0cml4KCphcmdzKQpvZk1hdHJpeDR4NF9uZXdUcmFuc2xhdGlvbk1hdHJpeCA9IF9vZi5vZk1hdHJpeDR4NF9uZXdUcmFuc2xhdGlvbk1hdHJpeAoKZGVmIG9mTWF0cml4NHg0X25ld1JvdGF0aW9uTWF0cml4KCphcmdzKToKICByZXR1cm4gX29mLm9mTWF0cml4NHg0X25ld1JvdGF0aW9uTWF0cml4KCphcmdzKQpvZk1hdHJpeDR4NF9uZXdSb3RhdGlvbk1hdHJpeCA9IF9vZi5vZk1hdHJpeDR4NF9uZXdSb3RhdGlvbk1hdHJpeAoKZGVmIG9mTWF0cml4NHg0X2dldEludmVyc2VPZigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9nZXRJbnZlcnNlT2YoKmFyZ3MpCm9mTWF0cml4NHg0X2dldEludmVyc2VPZiA9IF9vZi5vZk1hdHJpeDR4NF9nZXRJbnZlcnNlT2YKCmRlZiBvZk1hdHJpeDR4NF9nZXRUcmFuc3Bvc2VkT2YoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfZ2V0VHJhbnNwb3NlZE9mKCphcmdzKQpvZk1hdHJpeDR4NF9nZXRUcmFuc3Bvc2VkT2YgPSBfb2Yub2ZNYXRyaXg0eDRfZ2V0VHJhbnNwb3NlZE9mCgpkZWYgb2ZNYXRyaXg0eDRfZ2V0T3J0aG9Ob3JtYWxPZigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9nZXRPcnRob05vcm1hbE9mKCphcmdzKQpvZk1hdHJpeDR4NF9nZXRPcnRob05vcm1hbE9mID0gX29mLm9mTWF0cml4NHg0X2dldE9ydGhvTm9ybWFsT2YKCmRlZiBvZk1hdHJpeDR4NF9uZXdPcnRob01hdHJpeCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF9uZXdPcnRob01hdHJpeCgqYXJncykKb2ZNYXRyaXg0eDRfbmV3T3J0aG9NYXRyaXggPSBfb2Yub2ZNYXRyaXg0eDRfbmV3T3J0aG9NYXRyaXgKCmRlZiBvZk1hdHJpeDR4NF9uZXdPcnRobzJETWF0cml4KCphcmdzKToKICByZXR1cm4gX29mLm9mTWF0cml4NHg0X25ld09ydGhvMkRNYXRyaXgoKmFyZ3MpCm9mTWF0cml4NHg0X25ld09ydGhvMkRNYXRyaXggPSBfb2Yub2ZNYXRyaXg0eDRfbmV3T3J0aG8yRE1hdHJpeAoKZGVmIG9mTWF0cml4NHg0X25ld0ZydXN0dW1NYXRyaXgoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfbmV3RnJ1c3R1bU1hdHJpeCgqYXJncykKb2ZNYXRyaXg0eDRfbmV3RnJ1c3R1bU1hdHJpeCA9IF9vZi5vZk1hdHJpeDR4NF9uZXdGcnVzdHVtTWF0cml4CgpkZWYgb2ZNYXRyaXg0eDRfbmV3UGVyc3BlY3RpdmVNYXRyaXgoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZNYXRyaXg0eDRfbmV3UGVyc3BlY3RpdmVNYXRyaXgoKmFyZ3MpCm9mTWF0cml4NHg0X25ld1BlcnNwZWN0aXZlTWF0cml4ID0gX29mLm9mTWF0cml4NHg0X25ld1BlcnNwZWN0aXZlTWF0cml4CgpkZWYgb2ZNYXRyaXg0eDRfbmV3TG9va0F0TWF0cml4KCphcmdzKToKICByZXR1cm4gX29mLm9mTWF0cml4NHg0X25ld0xvb2tBdE1hdHJpeCgqYXJncykKb2ZNYXRyaXg0eDRfbmV3TG9va0F0TWF0cml4ID0gX29mLm9mTWF0cml4NHg0X25ld0xvb2tBdE1hdHJpeAoKZGVmIG9mTWF0cml4NHg0X3RyYW5zZm9ybTN4MygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZk1hdHJpeDR4NF90cmFuc2Zvcm0zeDMoKmFyZ3MpCm9mTWF0cml4NHg0X3RyYW5zZm9ybTN4MyA9IF9vZi5vZk1hdHJpeDR4NF90cmFuc2Zvcm0zeDMKCmNsYXNzIG9mUXVhdGVybmlvbihfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZRdWF0ZXJuaW9uLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlF1YXRlcm5pb24sIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bIl92Il0gPSBfb2Yub2ZRdWF0ZXJuaW9uX192X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siX3YiXSA9IF9vZi5vZlF1YXRlcm5pb25fX3ZfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6X3YgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZRdWF0ZXJuaW9uX192X2dldCwgX29mLm9mUXVhdGVybmlvbl9fdl9zZXQpCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZlF1YXRlcm5pb24oKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgX19lcV9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fX19lcV9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fbmVfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZRdWF0ZXJuaW9uX19fbmVfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2xzaGlmdF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fX19sc2hpZnRfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX3JzaGlmdF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fX19yc2hpZnRfXyhzZWxmLCAqYXJncykKICAgIGRlZiBhc1ZlYzQoc2VsZik6IHJldHVybiBfb2Yub2ZRdWF0ZXJuaW9uX2FzVmVjNChzZWxmKQogICAgZGVmIGFzVmVjMyhzZWxmKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fYXNWZWMzKHNlbGYpCiAgICBkZWYgc2V0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fc2V0KHNlbGYsICphcmdzKQogICAgZGVmIGdldChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZRdWF0ZXJuaW9uX2dldChzZWxmLCAqYXJncykKICAgIGRlZiB4KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25feChzZWxmLCAqYXJncykKICAgIGRlZiB5KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25feShzZWxmLCAqYXJncykKICAgIGRlZiB6KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25feihzZWxmLCAqYXJncykKICAgIGRlZiB3KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fdyhzZWxmLCAqYXJncykKICAgIGRlZiB6ZXJvUm90YXRpb24oc2VsZik6IHJldHVybiBfb2Yub2ZRdWF0ZXJuaW9uX3plcm9Sb3RhdGlvbihzZWxmKQogICAgZGVmIF9faW11bF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fX19pbXVsX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19kaXZfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZRdWF0ZXJuaW9uX19fZGl2X18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pZGl2X18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUXVhdGVybmlvbl9fX2lkaXZfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2FkZF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fX19hZGRfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2lhZGRfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZRdWF0ZXJuaW9uX19faWFkZF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fc3ViX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUXVhdGVybmlvbl9fX3N1Yl9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faXN1Yl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fX19pc3ViX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19uZWdfXyhzZWxmKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fX19uZWdfXyhzZWxmKQogICAgZGVmIF9fbXVsX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mUXVhdGVybmlvbl9fX211bF9fKHNlbGYsICphcmdzKQogICAgZGVmIGxlbmd0aChzZWxmKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fbGVuZ3RoKHNlbGYpCiAgICBkZWYgbGVuZ3RoMihzZWxmKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fbGVuZ3RoMihzZWxmKQogICAgZGVmIGNvbmooc2VsZik6IHJldHVybiBfb2Yub2ZRdWF0ZXJuaW9uX2Nvbmooc2VsZikKICAgIGRlZiBpbnZlcnNlKHNlbGYpOiByZXR1cm4gX29mLm9mUXVhdGVybmlvbl9pbnZlcnNlKHNlbGYpCiAgICBkZWYgbWFrZVJvdGF0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZRdWF0ZXJuaW9uX21ha2VSb3RhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbWFrZVJvdGF0ZV9vcmlnaW5hbChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZRdWF0ZXJuaW9uX21ha2VSb3RhdGVfb3JpZ2luYWwoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0Um90YXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fZ2V0Um90YXRlKHNlbGYsICphcmdzKQogICAgZGVmIGdldEV1bGVyKHNlbGYpOiByZXR1cm4gX29mLm9mUXVhdGVybmlvbl9nZXRFdWxlcihzZWxmKQogICAgZGVmIHNsZXJwKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlF1YXRlcm5pb25fc2xlcnAoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbm9ybWFsaXplKHNlbGYpOiByZXR1cm4gX29mLm9mUXVhdGVybmlvbl9ub3JtYWxpemUoc2VsZikKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mUXVhdGVybmlvbgogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKb2ZRdWF0ZXJuaW9uX3N3aWdyZWdpc3RlciA9IF9vZi5vZlF1YXRlcm5pb25fc3dpZ3JlZ2lzdGVyCm9mUXVhdGVybmlvbl9zd2lncmVnaXN0ZXIob2ZRdWF0ZXJuaW9uKQoKY2xhc3Mgb2ZWZWMyZihfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZWZWMyZiwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZWZWMyZiwgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX3NldG1ldGhvZHNfX1sieCJdID0gX29mLm9mVmVjMmZfeF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIngiXSA9IF9vZi5vZlZlYzJmX3hfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6eCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlZlYzJmX3hfZ2V0LCBfb2Yub2ZWZWMyZl94X3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInkiXSA9IF9vZi5vZlZlYzJmX3lfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ5Il0gPSBfb2Yub2ZWZWMyZl95X2dldAogICAgaWYgX25ld2NsYXNzOnkgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZWZWMyZl95X2dldCwgX29mLm9mVmVjMmZfeV9zZXQpCiAgICBESU0gPSBfb2Yub2ZWZWMyZl9ESU0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mVmVjMmYoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgZ2V0UHRyKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX2dldFB0cihzZWxmLCAqYXJncykKICAgIGRlZiBzZXQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfc2V0KHNlbGYsICphcmdzKQogICAgZGVmIF9fZXFfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9fX2VxX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19uZV9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX19fbmVfXyhzZWxmLCAqYXJncykKICAgIGRlZiBtYXRjaChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9tYXRjaChzZWxmLCAqYXJncykKICAgIGRlZiBpc0FsaWduZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfaXNBbGlnbmVkKHNlbGYsICphcmdzKQogICAgZGVmIGlzQWxpZ25lZFJhZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9pc0FsaWduZWRSYWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYWxpZ24oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfYWxpZ24oc2VsZiwgKmFyZ3MpCiAgICBkZWYgYWxpZ25SYWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfYWxpZ25SYWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19hZGRfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9fX2FkZF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faWFkZF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX19faWFkZF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fc3ViX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfX19zdWJfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2lzdWJfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9fX2lzdWJfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX25lZ19fKHNlbGYpOiByZXR1cm4gX29mLm9mVmVjMmZfX19uZWdfXyhzZWxmKQogICAgZGVmIF9fbXVsX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfX19tdWxfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2ltdWxfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9fX2ltdWxfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2Rpdl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX19fZGl2X18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pZGl2X18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfX19pZGl2X18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0U2NhbGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX2dldFNjYWxlZChzZWxmLCAqYXJncykKICAgIGRlZiBzY2FsZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9zY2FsZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRSb3RhdGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX2dldFJvdGF0ZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcm90YXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX3JvdGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRSb3RhdGVkUmFkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX2dldFJvdGF0ZWRSYWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcm90YXRlUmFkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX3JvdGF0ZVJhZChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRNYXBwZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfZ2V0TWFwcGVkKHNlbGYsICphcmdzKQogICAgZGVmIG1hcChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9tYXAoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZGlzdGFuY2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfZGlzdGFuY2Uoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc3F1YXJlRGlzdGFuY2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfc3F1YXJlRGlzdGFuY2Uoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0SW50ZXJwb2xhdGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX2dldEludGVycG9sYXRlZChzZWxmLCAqYXJncykKICAgIGRlZiBpbnRlcnBvbGF0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9pbnRlcnBvbGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRNaWRkbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfZ2V0TWlkZGxlKHNlbGYsICphcmdzKQogICAgZGVmIG1pZGRsZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9taWRkbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYXZlcmFnZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9hdmVyYWdlKHNlbGYsICphcmdzKQogICAgZGVmIGdldE5vcm1hbGl6ZWQoc2VsZik6IHJldHVybiBfb2Yub2ZWZWMyZl9nZXROb3JtYWxpemVkKHNlbGYpCiAgICBkZWYgbm9ybWFsaXplKHNlbGYpOiByZXR1cm4gX29mLm9mVmVjMmZfbm9ybWFsaXplKHNlbGYpCiAgICBkZWYgZ2V0TGltaXRlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9nZXRMaW1pdGVkKHNlbGYsICphcmdzKQogICAgZGVmIGxpbWl0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX2xpbWl0KHNlbGYsICphcmdzKQogICAgZGVmIGdldFBlcnBlbmRpY3VsYXIoc2VsZik6IHJldHVybiBfb2Yub2ZWZWMyZl9nZXRQZXJwZW5kaWN1bGFyKHNlbGYpCiAgICBkZWYgcGVycGVuZGljdWxhcihzZWxmKTogcmV0dXJuIF9vZi5vZlZlYzJmX3BlcnBlbmRpY3VsYXIoc2VsZikKICAgIGRlZiBsZW5ndGgoc2VsZik6IHJldHVybiBfb2Yub2ZWZWMyZl9sZW5ndGgoc2VsZikKICAgIGRlZiBsZW5ndGhTcXVhcmVkKHNlbGYpOiByZXR1cm4gX29mLm9mVmVjMmZfbGVuZ3RoU3F1YXJlZChzZWxmKQogICAgZGVmIHNxdWFyZUxlbmd0aChzZWxmKTogcmV0dXJuIF9vZi5vZlZlYzJmX3NxdWFyZUxlbmd0aChzZWxmKQogICAgZGVmIGFuZ2xlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX2FuZ2xlKHNlbGYsICphcmdzKQogICAgZGVmIGFuZ2xlUmFkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX2FuZ2xlUmFkKHNlbGYsICphcmdzKQogICAgZGVmIGRvdChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9kb3Qoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVzY2FsZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjMmZfcmVzY2FsZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVzY2FsZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9yZXNjYWxlKHNlbGYsICphcmdzKQogICAgZGVmIG5vcm1hbGl6ZWQoc2VsZik6IHJldHVybiBfb2Yub2ZWZWMyZl9ub3JtYWxpemVkKHNlbGYpCiAgICBkZWYgbGltaXRlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9saW1pdGVkKHNlbGYsICphcmdzKQogICAgZGVmIHBlcnBlbmRpY3VsYXJlZChzZWxmKTogcmV0dXJuIF9vZi5vZlZlYzJmX3BlcnBlbmRpY3VsYXJlZChzZWxmKQogICAgZGVmIGludGVycG9sYXRlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9pbnRlcnBvbGF0ZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbWlkZGxlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9taWRkbGVkKHNlbGYsICphcmdzKQogICAgZGVmIG1hcHBlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMyZl9tYXBwZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZGlzdGFuY2VTcXVhcmVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX2Rpc3RhbmNlU3F1YXJlZChzZWxmLCAqYXJncykKICAgIGRlZiByb3RhdGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzJmX3JvdGF0ZWQoc2VsZiwgKmFyZ3MpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ6ZXJvIl0gPSBsYW1iZGEgeDogX29mLm9mVmVjMmZfemVybwogICAgaWYgX25ld2NsYXNzOnplcm8gPSBzdGF0aWNtZXRob2QoX29mLm9mVmVjMmZfemVybykKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm9uZSJdID0gbGFtYmRhIHg6IF9vZi5vZlZlYzJmX29uZQogICAgaWYgX25ld2NsYXNzOm9uZSA9IHN0YXRpY21ldGhvZChfb2Yub2ZWZWMyZl9vbmUpCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZlZlYzJmCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZlZlYzJmX3N3aWdyZWdpc3RlciA9IF9vZi5vZlZlYzJmX3N3aWdyZWdpc3RlcgpvZlZlYzJmX3N3aWdyZWdpc3RlcihvZlZlYzJmKQoKZGVmIG9mVmVjMmZfemVybygpOgogIHJldHVybiBfb2Yub2ZWZWMyZl96ZXJvKCkKb2ZWZWMyZl96ZXJvID0gX29mLm9mVmVjMmZfemVybwoKZGVmIG9mVmVjMmZfb25lKCk6CiAgcmV0dXJuIF9vZi5vZlZlYzJmX29uZSgpCm9mVmVjMmZfb25lID0gX29mLm9mVmVjMmZfb25lCgpjbGFzcyBvZlZlYzNmKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZlZlYzNmLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlZlYzNmLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ4Il0gPSBfb2Yub2ZWZWMzZl94X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sieCJdID0gX29mLm9mVmVjM2ZfeF9nZXQKICAgIGlmIF9uZXdjbGFzczp4ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVmVjM2ZfeF9nZXQsIF9vZi5vZlZlYzNmX3hfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sieSJdID0gX29mLm9mVmVjM2ZfeV9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInkiXSA9IF9vZi5vZlZlYzNmX3lfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6eSA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlZlYzNmX3lfZ2V0LCBfb2Yub2ZWZWMzZl95X3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInoiXSA9IF9vZi5vZlZlYzNmX3pfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ6Il0gPSBfb2Yub2ZWZWMzZl96X2dldAogICAgaWYgX25ld2NsYXNzOnogPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZWZWMzZl96X2dldCwgX29mLm9mVmVjM2Zfel9zZXQpCiAgICBESU0gPSBfb2Yub2ZWZWMzZl9ESU0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mVmVjM2YoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgZ2V0UHRyKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX2dldFB0cihzZWxmLCAqYXJncykKICAgIGRlZiBzZXQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2Zfc2V0KHNlbGYsICphcmdzKQogICAgZGVmIF9fZXFfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9fX2VxX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19uZV9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX19fbmVfXyhzZWxmLCAqYXJncykKICAgIGRlZiBtYXRjaChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9tYXRjaChzZWxmLCAqYXJncykKICAgIGRlZiBpc0FsaWduZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfaXNBbGlnbmVkKHNlbGYsICphcmdzKQogICAgZGVmIGFsaWduKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX2FsaWduKHNlbGYsICphcmdzKQogICAgZGVmIGlzQWxpZ25lZFJhZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9pc0FsaWduZWRSYWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYWxpZ25SYWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfYWxpZ25SYWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19uZWdfXyhzZWxmKTogcmV0dXJuIF9vZi5vZlZlYzNmX19fbmVnX18oc2VsZikKICAgIGRlZiBfX2FkZF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX19fYWRkX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pYWRkX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfX19pYWRkX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19zdWJfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9fX3N1Yl9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faXN1Yl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX19faXN1Yl9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fbXVsX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfX19tdWxfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2ltdWxfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9fX2ltdWxfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2Rpdl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX19fZGl2X18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pZGl2X18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfX19pZGl2X18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0U2NhbGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX2dldFNjYWxlZChzZWxmLCAqYXJncykKICAgIGRlZiBzY2FsZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9zY2FsZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRSb3RhdGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX2dldFJvdGF0ZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcm90YXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX3JvdGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRSb3RhdGVkUmFkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX2dldFJvdGF0ZWRSYWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcm90YXRlUmFkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX3JvdGF0ZVJhZChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRNYXBwZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfZ2V0TWFwcGVkKHNlbGYsICphcmdzKQogICAgZGVmIG1hcChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9tYXAoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZGlzdGFuY2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfZGlzdGFuY2Uoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc3F1YXJlRGlzdGFuY2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2Zfc3F1YXJlRGlzdGFuY2Uoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0SW50ZXJwb2xhdGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX2dldEludGVycG9sYXRlZChzZWxmLCAqYXJncykKICAgIGRlZiBpbnRlcnBvbGF0ZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9pbnRlcnBvbGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRNaWRkbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfZ2V0TWlkZGxlKHNlbGYsICphcmdzKQogICAgZGVmIG1pZGRsZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9taWRkbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYXZlcmFnZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9hdmVyYWdlKHNlbGYsICphcmdzKQogICAgZGVmIGdldE5vcm1hbGl6ZWQoc2VsZik6IHJldHVybiBfb2Yub2ZWZWMzZl9nZXROb3JtYWxpemVkKHNlbGYpCiAgICBkZWYgbm9ybWFsaXplKHNlbGYpOiByZXR1cm4gX29mLm9mVmVjM2Zfbm9ybWFsaXplKHNlbGYpCiAgICBkZWYgZ2V0TGltaXRlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9nZXRMaW1pdGVkKHNlbGYsICphcmdzKQogICAgZGVmIGxpbWl0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX2xpbWl0KHNlbGYsICphcmdzKQogICAgZGVmIGdldENyb3NzZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfZ2V0Q3Jvc3NlZChzZWxmLCAqYXJncykKICAgIGRlZiBjcm9zcyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9jcm9zcyhzZWxmLCAqYXJncykKICAgIGRlZiBnZXRQZXJwZW5kaWN1bGFyKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX2dldFBlcnBlbmRpY3VsYXIoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcGVycGVuZGljdWxhcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9wZXJwZW5kaWN1bGFyKHNlbGYsICphcmdzKQogICAgZGVmIGxlbmd0aChzZWxmKTogcmV0dXJuIF9vZi5vZlZlYzNmX2xlbmd0aChzZWxmKQogICAgZGVmIGxlbmd0aFNxdWFyZWQoc2VsZik6IHJldHVybiBfb2Yub2ZWZWMzZl9sZW5ndGhTcXVhcmVkKHNlbGYpCiAgICBkZWYgc3F1YXJlTGVuZ3RoKHNlbGYpOiByZXR1cm4gX29mLm9mVmVjM2Zfc3F1YXJlTGVuZ3RoKHNlbGYpCiAgICBkZWYgYW5nbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfYW5nbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgYW5nbGVSYWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfYW5nbGVSYWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZG90KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX2RvdChzZWxmLCAqYXJncykKICAgIGRlZiByZXNjYWxlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9yZXNjYWxlZChzZWxmLCAqYXJncykKICAgIGRlZiByZXNjYWxlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX3Jlc2NhbGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbm9ybWFsaXplZChzZWxmKTogcmV0dXJuIF9vZi5vZlZlYzNmX25vcm1hbGl6ZWQoc2VsZikKICAgIGRlZiBsaW1pdGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX2xpbWl0ZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgY3Jvc3NlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9jcm9zc2VkKHNlbGYsICphcmdzKQogICAgZGVmIHBlcnBlbmRpY3VsYXJlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9wZXJwZW5kaWN1bGFyZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbWFwcGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzNmX21hcHBlZChzZWxmLCAqYXJncykKICAgIGRlZiBkaXN0YW5jZVNxdWFyZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2ZfZGlzdGFuY2VTcXVhcmVkKHNlbGYsICphcmdzKQogICAgZGVmIGludGVycG9sYXRlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9pbnRlcnBvbGF0ZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgbWlkZGxlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWMzZl9taWRkbGVkKHNlbGYsICphcmdzKQogICAgZGVmIHJvdGF0ZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjM2Zfcm90YXRlZChzZWxmLCAqYXJncykKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInplcm8iXSA9IGxhbWJkYSB4OiBfb2Yub2ZWZWMzZl96ZXJvCiAgICBpZiBfbmV3Y2xhc3M6emVybyA9IHN0YXRpY21ldGhvZChfb2Yub2ZWZWMzZl96ZXJvKQogICAgX19zd2lnX2dldG1ldGhvZHNfX1sib25lIl0gPSBsYW1iZGEgeDogX29mLm9mVmVjM2Zfb25lCiAgICBpZiBfbmV3Y2xhc3M6b25lID0gc3RhdGljbWV0aG9kKF9vZi5vZlZlYzNmX29uZSkKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mVmVjM2YKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mVmVjM2Zfc3dpZ3JlZ2lzdGVyID0gX29mLm9mVmVjM2Zfc3dpZ3JlZ2lzdGVyCm9mVmVjM2Zfc3dpZ3JlZ2lzdGVyKG9mVmVjM2YpCgpkZWYgb2ZWZWMzZl96ZXJvKCk6CiAgcmV0dXJuIF9vZi5vZlZlYzNmX3plcm8oKQpvZlZlYzNmX3plcm8gPSBfb2Yub2ZWZWMzZl96ZXJvCgpkZWYgb2ZWZWMzZl9vbmUoKToKICByZXR1cm4gX29mLm9mVmVjM2Zfb25lKCkKb2ZWZWMzZl9vbmUgPSBfb2Yub2ZWZWMzZl9vbmUKCmNsYXNzIG9mVmVjNGYoX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mVmVjNGYsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mVmVjNGYsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bIngiXSA9IF9vZi5vZlZlYzRmX3hfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ4Il0gPSBfb2Yub2ZWZWM0Zl94X2dldAogICAgaWYgX25ld2NsYXNzOnggPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZWZWM0Zl94X2dldCwgX29mLm9mVmVjNGZfeF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ5Il0gPSBfb2Yub2ZWZWM0Zl95X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1sieSJdID0gX29mLm9mVmVjNGZfeV9nZXQKICAgIGlmIF9uZXdjbGFzczp5ID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVmVjNGZfeV9nZXQsIF9vZi5vZlZlYzRmX3lfc2V0KQogICAgX19zd2lnX3NldG1ldGhvZHNfX1sieiJdID0gX29mLm9mVmVjNGZfel9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bInoiXSA9IF9vZi5vZlZlYzRmX3pfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6eiA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlZlYzRmX3pfZ2V0LCBfb2Yub2ZWZWM0Zl96X3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bInciXSA9IF9vZi5vZlZlYzRmX3dfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ3Il0gPSBfb2Yub2ZWZWM0Zl93X2dldAogICAgaWYgX25ld2NsYXNzOncgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZWZWM0Zl93X2dldCwgX29mLm9mVmVjNGZfd19zZXQpCiAgICBESU0gPSBfb2Yub2ZWZWM0Zl9ESU0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mVmVjNGYoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgc2V0KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX3NldChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRQdHIoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjNGZfZ2V0UHRyKHNlbGYsICphcmdzKQogICAgZGVmIF9fZXFfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9fX2VxX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19uZV9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX19fbmVfXyhzZWxmLCAqYXJncykKICAgIGRlZiBtYXRjaChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9tYXRjaChzZWxmLCAqYXJncykKICAgIGRlZiBfX3N1Yl9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX19fc3ViX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19pc3ViX18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjNGZfX19pc3ViX18oc2VsZiwgKmFyZ3MpCiAgICBkZWYgX19hZGRfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9fX2FkZF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faWFkZF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX19faWFkZF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fbmVnX18oc2VsZik6IHJldHVybiBfb2Yub2ZWZWM0Zl9fX25lZ19fKHNlbGYpCiAgICBkZWYgX19tdWxfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9fX211bF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9faW11bF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX19faW11bF9fKHNlbGYsICphcmdzKQogICAgZGVmIF9fZGl2X18oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjNGZfX19kaXZfXyhzZWxmLCAqYXJncykKICAgIGRlZiBfX2lkaXZfXyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9fX2lkaXZfXyhzZWxmLCAqYXJncykKICAgIGRlZiBnZXRTY2FsZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjNGZfZ2V0U2NhbGVkKHNlbGYsICphcmdzKQogICAgZGVmIHNjYWxlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX3NjYWxlKHNlbGYsICphcmdzKQogICAgZGVmIGRpc3RhbmNlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX2Rpc3RhbmNlKHNlbGYsICphcmdzKQogICAgZGVmIHNxdWFyZURpc3RhbmNlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX3NxdWFyZURpc3RhbmNlKHNlbGYsICphcmdzKQogICAgZGVmIGdldEludGVycG9sYXRlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9nZXRJbnRlcnBvbGF0ZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgaW50ZXJwb2xhdGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjNGZfaW50ZXJwb2xhdGUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0TWlkZGxlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX2dldE1pZGRsZShzZWxmLCAqYXJncykKICAgIGRlZiBtaWRkbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjNGZfbWlkZGxlKHNlbGYsICphcmdzKQogICAgZGVmIGF2ZXJhZ2Uoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjNGZfYXZlcmFnZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXROb3JtYWxpemVkKHNlbGYpOiByZXR1cm4gX29mLm9mVmVjNGZfZ2V0Tm9ybWFsaXplZChzZWxmKQogICAgZGVmIG5vcm1hbGl6ZShzZWxmKTogcmV0dXJuIF9vZi5vZlZlYzRmX25vcm1hbGl6ZShzZWxmKQogICAgZGVmIGdldExpbWl0ZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjNGZfZ2V0TGltaXRlZChzZWxmLCAqYXJncykKICAgIGRlZiBsaW1pdChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9saW1pdChzZWxmLCAqYXJncykKICAgIGRlZiBsZW5ndGgoc2VsZik6IHJldHVybiBfb2Yub2ZWZWM0Zl9sZW5ndGgoc2VsZikKICAgIGRlZiBsZW5ndGhTcXVhcmVkKHNlbGYpOiByZXR1cm4gX29mLm9mVmVjNGZfbGVuZ3RoU3F1YXJlZChzZWxmKQogICAgZGVmIHNxdWFyZUxlbmd0aChzZWxmKTogcmV0dXJuIF9vZi5vZlZlYzRmX3NxdWFyZUxlbmd0aChzZWxmKQogICAgZGVmIGRvdChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9kb3Qoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVzY2FsZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmVjNGZfcmVzY2FsZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgcmVzY2FsZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9yZXNjYWxlKHNlbGYsICphcmdzKQogICAgZGVmIG5vcm1hbGl6ZWQoc2VsZik6IHJldHVybiBfb2Yub2ZWZWM0Zl9ub3JtYWxpemVkKHNlbGYpCiAgICBkZWYgbGltaXRlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9saW1pdGVkKHNlbGYsICphcmdzKQogICAgZGVmIGRpc3RhbmNlU3F1YXJlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWZWM0Zl9kaXN0YW5jZVNxdWFyZWQoc2VsZiwgKmFyZ3MpCiAgICBkZWYgaW50ZXJwb2xhdGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX2ludGVycG9sYXRlZChzZWxmLCAqYXJncykKICAgIGRlZiBtaWRkbGVkKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZlYzRmX21pZGRsZWQoc2VsZiwgKmFyZ3MpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ6ZXJvIl0gPSBsYW1iZGEgeDogX29mLm9mVmVjNGZfemVybwogICAgaWYgX25ld2NsYXNzOnplcm8gPSBzdGF0aWNtZXRob2QoX29mLm9mVmVjNGZfemVybykKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bIm9uZSJdID0gbGFtYmRhIHg6IF9vZi5vZlZlYzRmX29uZQogICAgaWYgX25ld2NsYXNzOm9uZSA9IHN0YXRpY21ldGhvZChfb2Yub2ZWZWM0Zl9vbmUpCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZlZlYzRmCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZlZlYzRmX3N3aWdyZWdpc3RlciA9IF9vZi5vZlZlYzRmX3N3aWdyZWdpc3RlcgpvZlZlYzRmX3N3aWdyZWdpc3RlcihvZlZlYzRmKQoKZGVmIG9mVmVjNGZfemVybygpOgogIHJldHVybiBfb2Yub2ZWZWM0Zl96ZXJvKCkKb2ZWZWM0Zl96ZXJvID0gX29mLm9mVmVjNGZfemVybwoKZGVmIG9mVmVjNGZfb25lKCk6CiAgcmV0dXJuIF9vZi5vZlZlYzRmX29uZSgpCm9mVmVjNGZfb25lID0gX29mLm9mVmVjNGZfb25lCgoKZGVmIG9mU291bmRTdG9wQWxsKCk6CiAgcmV0dXJuIF9vZi5vZlNvdW5kU3RvcEFsbCgpCm9mU291bmRTdG9wQWxsID0gX29mLm9mU291bmRTdG9wQWxsCgpkZWYgb2ZTb3VuZFNldFZvbHVtZSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNvdW5kU2V0Vm9sdW1lKCphcmdzKQpvZlNvdW5kU2V0Vm9sdW1lID0gX29mLm9mU291bmRTZXRWb2x1bWUKCmRlZiBvZlNvdW5kVXBkYXRlKCk6CiAgcmV0dXJuIF9vZi5vZlNvdW5kVXBkYXRlKCkKb2ZTb3VuZFVwZGF0ZSA9IF9vZi5vZlNvdW5kVXBkYXRlCgpkZWYgb2ZTb3VuZEdldFNwZWN0cnVtKCphcmdzKToKICByZXR1cm4gX29mLm9mU291bmRHZXRTcGVjdHJ1bSgqYXJncykKb2ZTb3VuZEdldFNwZWN0cnVtID0gX29mLm9mU291bmRHZXRTcGVjdHJ1bQoKZGVmIG9mU291bmRTaHV0ZG93bigpOgogIHJldHVybiBfb2Yub2ZTb3VuZFNodXRkb3duKCkKb2ZTb3VuZFNodXRkb3duID0gX29mLm9mU291bmRTaHV0ZG93bgpjbGFzcyBvZlNvdW5kUGxheWVyKF9vYmplY3QpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZlNvdW5kUGxheWVyLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlNvdW5kUGxheWVyLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZik6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mU291bmRQbGF5ZXIoKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgZGVmIHNldFBsYXllcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTb3VuZFBsYXllcl9zZXRQbGF5ZXIoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0UGxheWVyKHNlbGYpOiByZXR1cm4gX29mLm9mU291bmRQbGF5ZXJfZ2V0UGxheWVyKHNlbGYpCiAgICBkZWYgbG9hZFNvdW5kKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNvdW5kUGxheWVyX2xvYWRTb3VuZChzZWxmLCAqYXJncykKICAgIGRlZiB1bmxvYWRTb3VuZChzZWxmKTogcmV0dXJuIF9vZi5vZlNvdW5kUGxheWVyX3VubG9hZFNvdW5kKHNlbGYpCiAgICBkZWYgcGxheShzZWxmKTogcmV0dXJuIF9vZi5vZlNvdW5kUGxheWVyX3BsYXkoc2VsZikKICAgIGRlZiBzdG9wKHNlbGYpOiByZXR1cm4gX29mLm9mU291bmRQbGF5ZXJfc3RvcChzZWxmKQogICAgZGVmIHNldFZvbHVtZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTb3VuZFBsYXllcl9zZXRWb2x1bWUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0UGFuKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNvdW5kUGxheWVyX3NldFBhbihzZWxmLCAqYXJncykKICAgIGRlZiBzZXRTcGVlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTb3VuZFBsYXllcl9zZXRTcGVlZChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRQYXVzZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU291bmRQbGF5ZXJfc2V0UGF1c2VkKHNlbGYsICphcmdzKQogICAgZGVmIHNldExvb3Aoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU291bmRQbGF5ZXJfc2V0TG9vcChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRNdWx0aVBsYXkoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU291bmRQbGF5ZXJfc2V0TXVsdGlQbGF5KHNlbGYsICphcmdzKQogICAgZGVmIHNldFBvc2l0aW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNvdW5kUGxheWVyX3NldFBvc2l0aW9uKHNlbGYsICphcmdzKQogICAgZGVmIHNldFBvc2l0aW9uTVMoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU291bmRQbGF5ZXJfc2V0UG9zaXRpb25NUyhzZWxmLCAqYXJncykKICAgIGRlZiBnZXRQb3NpdGlvbk1TKHNlbGYpOiByZXR1cm4gX29mLm9mU291bmRQbGF5ZXJfZ2V0UG9zaXRpb25NUyhzZWxmKQogICAgZGVmIGdldFBvc2l0aW9uKHNlbGYpOiByZXR1cm4gX29mLm9mU291bmRQbGF5ZXJfZ2V0UG9zaXRpb24oc2VsZikKICAgIGRlZiBnZXRJc1BsYXlpbmcoc2VsZik6IHJldHVybiBfb2Yub2ZTb3VuZFBsYXllcl9nZXRJc1BsYXlpbmcoc2VsZikKICAgIGRlZiBnZXRTcGVlZChzZWxmKTogcmV0dXJuIF9vZi5vZlNvdW5kUGxheWVyX2dldFNwZWVkKHNlbGYpCiAgICBkZWYgZ2V0UGFuKHNlbGYpOiByZXR1cm4gX29mLm9mU291bmRQbGF5ZXJfZ2V0UGFuKHNlbGYpCiAgICBkZWYgZ2V0Vm9sdW1lKHNlbGYpOiByZXR1cm4gX29mLm9mU291bmRQbGF5ZXJfZ2V0Vm9sdW1lKHNlbGYpCiAgICBkZWYgaXNMb2FkZWQoc2VsZik6IHJldHVybiBfb2Yub2ZTb3VuZFBsYXllcl9pc0xvYWRlZChzZWxmKQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZTb3VuZFBsYXllcgogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKb2ZTb3VuZFBsYXllcl9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZTb3VuZFBsYXllcl9zd2lncmVnaXN0ZXIKb2ZTb3VuZFBsYXllcl9zd2lncmVnaXN0ZXIob2ZTb3VuZFBsYXllcikKCgpkZWYgb2ZTb3VuZFN0cmVhbVNldHVwKCphcmdzKToKICByZXR1cm4gX29mLm9mU291bmRTdHJlYW1TZXR1cCgqYXJncykKb2ZTb3VuZFN0cmVhbVNldHVwID0gX29mLm9mU291bmRTdHJlYW1TZXR1cAoKZGVmIG9mU291bmRTdHJlYW1TdG9wKCk6CiAgcmV0dXJuIF9vZi5vZlNvdW5kU3RyZWFtU3RvcCgpCm9mU291bmRTdHJlYW1TdG9wID0gX29mLm9mU291bmRTdHJlYW1TdG9wCgpkZWYgb2ZTb3VuZFN0cmVhbVN0YXJ0KCk6CiAgcmV0dXJuIF9vZi5vZlNvdW5kU3RyZWFtU3RhcnQoKQpvZlNvdW5kU3RyZWFtU3RhcnQgPSBfb2Yub2ZTb3VuZFN0cmVhbVN0YXJ0CgpkZWYgb2ZTb3VuZFN0cmVhbUNsb3NlKCk6CiAgcmV0dXJuIF9vZi5vZlNvdW5kU3RyZWFtQ2xvc2UoKQpvZlNvdW5kU3RyZWFtQ2xvc2UgPSBfb2Yub2ZTb3VuZFN0cmVhbUNsb3NlCgpkZWYgb2ZTb3VuZFN0cmVhbUxpc3REZXZpY2VzKCk6CiAgcmV0dXJuIF9vZi5vZlNvdW5kU3RyZWFtTGlzdERldmljZXMoKQpvZlNvdW5kU3RyZWFtTGlzdERldmljZXMgPSBfb2Yub2ZTb3VuZFN0cmVhbUxpc3REZXZpY2VzCmNsYXNzIG9mU291bmRTdHJlYW0oX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mU291bmRTdHJlYW0sIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mU291bmRTdHJlYW0sIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZTb3VuZFN0cmVhbSgpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBkZWYgc2V0U291bmRTdHJlYW0oc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU291bmRTdHJlYW1fc2V0U291bmRTdHJlYW0oc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0U291bmRTdHJlYW0oc2VsZik6IHJldHVybiBfb2Yub2ZTb3VuZFN0cmVhbV9nZXRTb3VuZFN0cmVhbShzZWxmKQogICAgZGVmIGxpc3REZXZpY2VzKHNlbGYpOiByZXR1cm4gX29mLm9mU291bmRTdHJlYW1fbGlzdERldmljZXMoc2VsZikKICAgIGRlZiBzZXREZXZpY2VJRChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTb3VuZFN0cmVhbV9zZXREZXZpY2VJRChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRJbnB1dChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZTb3VuZFN0cmVhbV9zZXRJbnB1dChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRPdXRwdXQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mU291bmRTdHJlYW1fc2V0T3V0cHV0KHNlbGYsICphcmdzKQogICAgZGVmIHNldHVwKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlNvdW5kU3RyZWFtX3NldHVwKHNlbGYsICphcmdzKQogICAgZGVmIHN0YXJ0KHNlbGYpOiByZXR1cm4gX29mLm9mU291bmRTdHJlYW1fc3RhcnQoc2VsZikKICAgIGRlZiBzdG9wKHNlbGYpOiByZXR1cm4gX29mLm9mU291bmRTdHJlYW1fc3RvcChzZWxmKQogICAgZGVmIGNsb3NlKHNlbGYpOiByZXR1cm4gX29mLm9mU291bmRTdHJlYW1fY2xvc2Uoc2VsZikKICAgIGRlZiBnZXRUaWNrQ291bnQoc2VsZik6IHJldHVybiBfb2Yub2ZTb3VuZFN0cmVhbV9nZXRUaWNrQ291bnQoc2VsZikKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mU291bmRTdHJlYW0KICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mU291bmRTdHJlYW1fc3dpZ3JlZ2lzdGVyID0gX29mLm9mU291bmRTdHJlYW1fc3dpZ3JlZ2lzdGVyCm9mU291bmRTdHJlYW1fc3dpZ3JlZ2lzdGVyKG9mU291bmRTdHJlYW0pCgpPRl9WRVJTSU9OX01BSk9SID0gX29mLk9GX1ZFUlNJT05fTUFKT1IKT0ZfVkVSU0lPTl9NSU5PUiA9IF9vZi5PRl9WRVJTSU9OX01JTk9SCk9GX1ZFUlNJT05fUEFUQ0ggPSBfb2YuT0ZfVkVSU0lPTl9QQVRDSApPRl9MT09QX05PTkUgPSBfb2YuT0ZfTE9PUF9OT05FCk9GX0xPT1BfUEFMSU5EUk9NRSA9IF9vZi5PRl9MT09QX1BBTElORFJPTUUKT0ZfTE9PUF9OT1JNQUwgPSBfb2YuT0ZfTE9PUF9OT1JNQUwKT0ZfVEFSR0VUX09TWCA9IF9vZi5PRl9UQVJHRVRfT1NYCk9GX1RBUkdFVF9XSU5HQ0MgPSBfb2YuT0ZfVEFSR0VUX1dJTkdDQwpPRl9UQVJHRVRfV0lOVlMgPSBfb2YuT0ZfVEFSR0VUX1dJTlZTCk9GX1RBUkdFVF9JUEhPTkUgPSBfb2YuT0ZfVEFSR0VUX0lQSE9ORQpPRl9UQVJHRVRfQU5EUk9JRCA9IF9vZi5PRl9UQVJHRVRfQU5EUk9JRApPRl9UQVJHRVRfTElOVVggPSBfb2YuT0ZfVEFSR0VUX0xJTlVYCk9GX1RBUkdFVF9MSU5VWDY0ID0gX29mLk9GX1RBUkdFVF9MSU5VWDY0CkIxNDQwMCA9IF9vZi5CMTQ0MDAKQjI4ODAwID0gX29mLkIyODgwMApPRl9TRVJJQUxfTk9fREFUQSA9IF9vZi5PRl9TRVJJQUxfTk9fREFUQQpPRl9TRVJJQUxfRVJST1IgPSBfb2YuT0ZfU0VSSUFMX0VSUk9SClBJID0gX29mLlBJClRXT19QSSA9IF9vZi5UV09fUEkKTV9UV09fUEkgPSBfb2YuTV9UV09fUEkKRk9VUl9QSSA9IF9vZi5GT1VSX1BJCkhBTEZfUEkgPSBfb2YuSEFMRl9QSQpERUdfVE9fUkFEID0gX29mLkRFR19UT19SQUQKUkFEX1RPX0RFRyA9IF9vZi5SQURfVE9fREVHCk9GX09VVExJTkUgPSBfb2YuT0ZfT1VUTElORQpPRl9GSUxMRUQgPSBfb2YuT0ZfRklMTEVECk9GX1dJTkRPVyA9IF9vZi5PRl9XSU5ET1cKT0ZfRlVMTFNDUkVFTiA9IF9vZi5PRl9GVUxMU0NSRUVOCk9GX0dBTUVfTU9ERSA9IF9vZi5PRl9HQU1FX01PREUKT0ZfQVNQRUNUX1JBVElPX0lHTk9SRSA9IF9vZi5PRl9BU1BFQ1RfUkFUSU9fSUdOT1JFCk9GX0FTUEVDVF9SQVRJT19LRUVQID0gX29mLk9GX0FTUEVDVF9SQVRJT19LRUVQCk9GX0FTUEVDVF9SQVRJT19LRUVQX0JZX0VYUEFORElORyA9IF9vZi5PRl9BU1BFQ1RfUkFUSU9fS0VFUF9CWV9FWFBBTkRJTkcKT0ZfQUxJR05fVkVSVF9JR05PUkUgPSBfb2YuT0ZfQUxJR05fVkVSVF9JR05PUkUKT0ZfQUxJR05fVkVSVF9UT1AgPSBfb2YuT0ZfQUxJR05fVkVSVF9UT1AKT0ZfQUxJR05fVkVSVF9CT1RUT00gPSBfb2YuT0ZfQUxJR05fVkVSVF9CT1RUT00KT0ZfQUxJR05fVkVSVF9DRU5URVIgPSBfb2YuT0ZfQUxJR05fVkVSVF9DRU5URVIKT0ZfQUxJR05fSE9SWl9JR05PUkUgPSBfb2YuT0ZfQUxJR05fSE9SWl9JR05PUkUKT0ZfQUxJR05fSE9SWl9MRUZUID0gX29mLk9GX0FMSUdOX0hPUlpfTEVGVApPRl9BTElHTl9IT1JaX1JJR0hUID0gX29mLk9GX0FMSUdOX0hPUlpfUklHSFQKT0ZfQUxJR05fSE9SWl9DRU5URVIgPSBfb2YuT0ZfQUxJR05fSE9SWl9DRU5URVIKT0ZfUkVDVE1PREVfQ09STkVSID0gX29mLk9GX1JFQ1RNT0RFX0NPUk5FUgpPRl9SRUNUTU9ERV9DRU5URVIgPSBfb2YuT0ZfUkVDVE1PREVfQ0VOVEVSCk9GX1NDQUxFTU9ERV9GSVQgPSBfb2YuT0ZfU0NBTEVNT0RFX0ZJVApPRl9TQ0FMRU1PREVfRklMTCA9IF9vZi5PRl9TQ0FMRU1PREVfRklMTApPRl9TQ0FMRU1PREVfQ0VOVEVSID0gX29mLk9GX1NDQUxFTU9ERV9DRU5URVIKT0ZfU0NBTEVNT0RFX1NUUkVUQ0hfVE9fRklMTCA9IF9vZi5PRl9TQ0FMRU1PREVfU1RSRVRDSF9UT19GSUxMCk9GX0lNQUdFX0dSQVlTQ0FMRSA9IF9vZi5PRl9JTUFHRV9HUkFZU0NBTEUKT0ZfSU1BR0VfQ09MT1IgPSBfb2YuT0ZfSU1BR0VfQ09MT1IKT0ZfSU1BR0VfQ09MT1JfQUxQSEEgPSBfb2YuT0ZfSU1BR0VfQ09MT1JfQUxQSEEKT0ZfSU1BR0VfVU5ERUZJTkVEID0gX29mLk9GX0lNQUdFX1VOREVGSU5FRApPRl9QSVhFTFNfTU9OTyA9IF9vZi5PRl9QSVhFTFNfTU9OTwpPRl9QSVhFTFNfUkdCID0gX29mLk9GX1BJWEVMU19SR0IKT0ZfUElYRUxTX1JHQkEgPSBfb2YuT0ZfUElYRUxTX1JHQkEKT0ZfUElYRUxTX0JHUkEgPSBfb2YuT0ZfUElYRUxTX0JHUkEKT0ZfUElYRUxTX1JHQjU2NSA9IF9vZi5PRl9QSVhFTFNfUkdCNTY1Ck9GX01BWF9TVFlMRV9ISVNUT1JZID0gX29mLk9GX01BWF9TVFlMRV9ISVNUT1JZCk9GX01BWF9WSUVXUE9SVF9ISVNUT1JZID0gX29mLk9GX01BWF9WSUVXUE9SVF9ISVNUT1JZCk9GX01BWF9DSVJDTEVfUFRTID0gX29mLk9GX01BWF9DSVJDTEVfUFRTCk9GX0JMRU5ETU9ERV9ESVNBQkxFRCA9IF9vZi5PRl9CTEVORE1PREVfRElTQUJMRUQKT0ZfQkxFTkRNT0RFX0FMUEhBID0gX29mLk9GX0JMRU5ETU9ERV9BTFBIQQpPRl9CTEVORE1PREVfQUREID0gX29mLk9GX0JMRU5ETU9ERV9BREQKT0ZfQkxFTkRNT0RFX1NVQlRSQUNUID0gX29mLk9GX0JMRU5ETU9ERV9TVUJUUkFDVApPRl9CTEVORE1PREVfTVVMVElQTFkgPSBfb2YuT0ZfQkxFTkRNT0RFX01VTFRJUExZCk9GX0JMRU5ETU9ERV9TQ1JFRU4gPSBfb2YuT0ZfQkxFTkRNT0RFX1NDUkVFTgpPRl9PUklFTlRBVElPTl9ERUZBVUxUID0gX29mLk9GX09SSUVOVEFUSU9OX0RFRkFVTFQKT0ZfT1JJRU5UQVRJT05fMTgwID0gX29mLk9GX09SSUVOVEFUSU9OXzE4MApPRl9PUklFTlRBVElPTl85MF9MRUZUID0gX29mLk9GX09SSUVOVEFUSU9OXzkwX0xFRlQKT0ZfT1JJRU5UQVRJT05fOTBfUklHSFQgPSBfb2YuT0ZfT1JJRU5UQVRJT05fOTBfUklHSFQKT0ZfT1JJRU5UQVRJT05fVU5LTk9XTiA9IF9vZi5PRl9PUklFTlRBVElPTl9VTktOT1dOCk9GX0dSQURJRU5UX0xJTkVBUiA9IF9vZi5PRl9HUkFESUVOVF9MSU5FQVIKT0ZfR1JBRElFTlRfQ0lSQ1VMQVIgPSBfb2YuT0ZfR1JBRElFTlRfQ0lSQ1VMQVIKT0ZfR1JBRElFTlRfQkFSID0gX29mLk9GX0dSQURJRU5UX0JBUgpPRl9QT0xZX1dJTkRJTkdfT0REID0gX29mLk9GX1BPTFlfV0lORElOR19PREQKT0ZfUE9MWV9XSU5ESU5HX05PTlpFUk8gPSBfb2YuT0ZfUE9MWV9XSU5ESU5HX05PTlpFUk8KT0ZfUE9MWV9XSU5ESU5HX1BPU0lUSVZFID0gX29mLk9GX1BPTFlfV0lORElOR19QT1NJVElWRQpPRl9QT0xZX1dJTkRJTkdfTkVHQVRJVkUgPSBfb2YuT0ZfUE9MWV9XSU5ESU5HX05FR0FUSVZFCk9GX1BPTFlfV0lORElOR19BQlNfR0VRX1RXTyA9IF9vZi5PRl9QT0xZX1dJTkRJTkdfQUJTX0dFUV9UV08KT0ZfQ0xPU0UgPSBfb2YuT0ZfQ0xPU0UKT0ZfTEVGVF9IQU5ERUQgPSBfb2YuT0ZfTEVGVF9IQU5ERUQKT0ZfUklHSFRfSEFOREVEID0gX29mLk9GX1JJR0hUX0hBTkRFRApPRl9NQVRSSVhfTU9ERUxWSUVXID0gX29mLk9GX01BVFJJWF9NT0RFTFZJRVcKT0ZfTUFUUklYX1BST0pFQ1RJT04gPSBfb2YuT0ZfTUFUUklYX1BST0pFQ1RJT04KT0ZfTUFUUklYX1RFWFRVUkUgPSBfb2YuT0ZfTUFUUklYX1RFWFRVUkUKT0ZfS0VZX01PRElGSUVSID0gX29mLk9GX0tFWV9NT0RJRklFUgpPRl9LRVlfUkVUVVJOID0gX29mLk9GX0tFWV9SRVRVUk4KT0ZfS0VZX0VTQyA9IF9vZi5PRl9LRVlfRVNDCk9GX0tFWV9DVFJMID0gX29mLk9GX0tFWV9DVFJMCk9GX0tFWV9BTFQgPSBfb2YuT0ZfS0VZX0FMVApPRl9LRVlfU0hJRlQgPSBfb2YuT0ZfS0VZX1NISUZUCk9GX0tFWV9CQUNLU1BBQ0UgPSBfb2YuT0ZfS0VZX0JBQ0tTUEFDRQpPRl9LRVlfREVMID0gX29mLk9GX0tFWV9ERUwKT0ZfS0VZX0YxID0gX29mLk9GX0tFWV9GMQpPRl9LRVlfRjIgPSBfb2YuT0ZfS0VZX0YyCk9GX0tFWV9GMyA9IF9vZi5PRl9LRVlfRjMKT0ZfS0VZX0Y0ID0gX29mLk9GX0tFWV9GNApPRl9LRVlfRjUgPSBfb2YuT0ZfS0VZX0Y1Ck9GX0tFWV9GNiA9IF9vZi5PRl9LRVlfRjYKT0ZfS0VZX0Y3ID0gX29mLk9GX0tFWV9GNwpPRl9LRVlfRjggPSBfb2YuT0ZfS0VZX0Y4Ck9GX0tFWV9GOSA9IF9vZi5PRl9LRVlfRjkKT0ZfS0VZX0YxMCA9IF9vZi5PRl9LRVlfRjEwCk9GX0tFWV9GMTEgPSBfb2YuT0ZfS0VZX0YxMQpPRl9LRVlfRjEyID0gX29mLk9GX0tFWV9GMTIKT0ZfS0VZX0xFRlQgPSBfb2YuT0ZfS0VZX0xFRlQKT0ZfS0VZX1VQID0gX29mLk9GX0tFWV9VUApPRl9LRVlfUklHSFQgPSBfb2YuT0ZfS0VZX1JJR0hUCk9GX0tFWV9ET1dOID0gX29mLk9GX0tFWV9ET1dOCk9GX0tFWV9QQUdFX1VQID0gX29mLk9GX0tFWV9QQUdFX1VQCk9GX0tFWV9QQUdFX0RPV04gPSBfb2YuT0ZfS0VZX1BBR0VfRE9XTgpPRl9LRVlfSE9NRSA9IF9vZi5PRl9LRVlfSE9NRQpPRl9LRVlfRU5EID0gX29mLk9GX0tFWV9FTkQKT0ZfS0VZX0lOU0VSVCA9IF9vZi5PRl9LRVlfSU5TRVJUCk9GX0NPTlNPTEVfQ09MT1JfUkVTVE9SRSA9IF9vZi5PRl9DT05TT0xFX0NPTE9SX1JFU1RPUkUKT0ZfQ09OU09MRV9DT0xPUl9CTEFDSyA9IF9vZi5PRl9DT05TT0xFX0NPTE9SX0JMQUNLCk9GX0NPTlNPTEVfQ09MT1JfUkVEID0gX29mLk9GX0NPTlNPTEVfQ09MT1JfUkVECk9GX0NPTlNPTEVfQ09MT1JfR1JFRU4gPSBfb2YuT0ZfQ09OU09MRV9DT0xPUl9HUkVFTgpPRl9DT05TT0xFX0NPTE9SX1lFTExPVyA9IF9vZi5PRl9DT05TT0xFX0NPTE9SX1lFTExPVwpPRl9DT05TT0xFX0NPTE9SX0JMVUUgPSBfb2YuT0ZfQ09OU09MRV9DT0xPUl9CTFVFCk9GX0NPTlNPTEVfQ09MT1JfUFVSUExFID0gX29mLk9GX0NPTlNPTEVfQ09MT1JfUFVSUExFCk9GX0NPTlNPTEVfQ09MT1JfQ1lBTiA9IF9vZi5PRl9DT05TT0xFX0NPTE9SX0NZQU4KT0ZfQ09OU09MRV9DT0xPUl9XSElURSA9IF9vZi5PRl9DT05TT0xFX0NPTE9SX1dISVRFCk9GX0JJVE1BUE1PREVfU0lNUExFID0gX29mLk9GX0JJVE1BUE1PREVfU0lNUExFCk9GX0JJVE1BUE1PREVfU0NSRUVOID0gX29mLk9GX0JJVE1BUE1PREVfU0NSRUVOCk9GX0JJVE1BUE1PREVfVklFV1BPUlQgPSBfb2YuT0ZfQklUTUFQTU9ERV9WSUVXUE9SVApPRl9CSVRNQVBNT0RFX01PREVMID0gX29mLk9GX0JJVE1BUE1PREVfTU9ERUwKT0ZfQklUTUFQTU9ERV9NT0RFTF9CSUxMQk9BUkQgPSBfb2YuT0ZfQklUTUFQTU9ERV9NT0RFTF9CSUxMQk9BUkQKT0ZfTE9HX1ZFUkJPU0UgPSBfb2YuT0ZfTE9HX1ZFUkJPU0UKT0ZfTE9HX05PVElDRSA9IF9vZi5PRl9MT0dfTk9USUNFCk9GX0xPR19XQVJOSU5HID0gX29mLk9GX0xPR19XQVJOSU5HCk9GX0xPR19FUlJPUiA9IF9vZi5PRl9MT0dfRVJST1IKT0ZfTE9HX0ZBVEFMX0VSUk9SID0gX29mLk9GX0xPR19GQVRBTF9FUlJPUgpPRl9MT0dfU0lMRU5UID0gX29mLk9GX0xPR19TSUxFTlQKCmRlZiBvZlNldExvZ0xldmVsKCphcmdzKToKICByZXR1cm4gX29mLm9mU2V0TG9nTGV2ZWwoKmFyZ3MpCm9mU2V0TG9nTGV2ZWwgPSBfb2Yub2ZTZXRMb2dMZXZlbAoKZGVmIG9mR2V0TG9nTGV2ZWwoKToKICByZXR1cm4gX29mLm9mR2V0TG9nTGV2ZWwoKQpvZkdldExvZ0xldmVsID0gX29mLm9mR2V0TG9nTGV2ZWwKCmRlZiBvZlNldExvZ2dlckNoYW5uZWwoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTZXRMb2dnZXJDaGFubmVsKCphcmdzKQpvZlNldExvZ2dlckNoYW5uZWwgPSBfb2Yub2ZTZXRMb2dnZXJDaGFubmVsCgpkZWYgb2ZHZXRMb2dMZXZlbE5hbWUoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZHZXRMb2dMZXZlbE5hbWUoKmFyZ3MpCm9mR2V0TG9nTGV2ZWxOYW1lID0gX29mLm9mR2V0TG9nTGV2ZWxOYW1lCgpkZWYgb2ZMb2dUb0ZpbGUoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZMb2dUb0ZpbGUoKmFyZ3MpCm9mTG9nVG9GaWxlID0gX29mLm9mTG9nVG9GaWxlCgpkZWYgb2ZMb2dUb0NvbnNvbGUoKToKICByZXR1cm4gX29mLm9mTG9nVG9Db25zb2xlKCkKb2ZMb2dUb0NvbnNvbGUgPSBfb2Yub2ZMb2dUb0NvbnNvbGUKY2xhc3Mgb2ZMb2coX29iamVjdCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mTG9nLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkxvZywgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZMb2coKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkxvZwogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBfX2xzaGlmdF9fKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZkxvZ19fX2xzaGlmdF9fKHNlbGYsICphcmdzKQogICAgX19zd2lnX2dldG1ldGhvZHNfX1sic2V0QXV0b1NwYWNlIl0gPSBsYW1iZGEgeDogX29mLm9mTG9nX3NldEF1dG9TcGFjZQogICAgaWYgX25ld2NsYXNzOnNldEF1dG9TcGFjZSA9IHN0YXRpY21ldGhvZChfb2Yub2ZMb2dfc2V0QXV0b1NwYWNlKQogICAgX19zd2lnX2dldG1ldGhvZHNfX1sic2V0Q2hhbm5lbCJdID0gbGFtYmRhIHg6IF9vZi5vZkxvZ19zZXRDaGFubmVsCiAgICBpZiBfbmV3Y2xhc3M6c2V0Q2hhbm5lbCA9IHN0YXRpY21ldGhvZChfb2Yub2ZMb2dfc2V0Q2hhbm5lbCkKb2ZMb2dfc3dpZ3JlZ2lzdGVyID0gX29mLm9mTG9nX3N3aWdyZWdpc3RlcgpvZkxvZ19zd2lncmVnaXN0ZXIob2ZMb2cpCgpkZWYgb2ZMb2dfc2V0QXV0b1NwYWNlKCphcmdzKToKICByZXR1cm4gX29mLm9mTG9nX3NldEF1dG9TcGFjZSgqYXJncykKb2ZMb2dfc2V0QXV0b1NwYWNlID0gX29mLm9mTG9nX3NldEF1dG9TcGFjZQoKZGVmIG9mTG9nX3NldENoYW5uZWwoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZMb2dfc2V0Q2hhbm5lbCgqYXJncykKb2ZMb2dfc2V0Q2hhbm5lbCA9IF9vZi5vZkxvZ19zZXRDaGFubmVsCgpjbGFzcyBvZkxvZ1ZlcmJvc2Uob2ZMb2cpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mTG9nXTogX19zd2lnX3NldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX3NldG1ldGhvZHNfXycse30pKQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZMb2dWZXJib3NlLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkxvZ106IF9fc3dpZ19nZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19nZXRtZXRob2RzX18nLHt9KSkKICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZMb2dWZXJib3NlLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkxvZ1ZlcmJvc2UoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkxvZ1ZlcmJvc2UKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mTG9nVmVyYm9zZV9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZMb2dWZXJib3NlX3N3aWdyZWdpc3RlcgpvZkxvZ1ZlcmJvc2Vfc3dpZ3JlZ2lzdGVyKG9mTG9nVmVyYm9zZSkKCmNsYXNzIG9mTG9nTm90aWNlKG9mTG9nKToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkxvZ106IF9fc3dpZ19zZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19zZXRtZXRob2RzX18nLHt9KSkKICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mTG9nTm90aWNlLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkxvZ106IF9fc3dpZ19nZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19nZXRtZXRob2RzX18nLHt9KSkKICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZMb2dOb3RpY2UsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mTG9nTm90aWNlKCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZMb2dOb3RpY2UKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mTG9nTm90aWNlX3N3aWdyZWdpc3RlciA9IF9vZi5vZkxvZ05vdGljZV9zd2lncmVnaXN0ZXIKb2ZMb2dOb3RpY2Vfc3dpZ3JlZ2lzdGVyKG9mTG9nTm90aWNlKQoKY2xhc3Mgb2ZMb2dXYXJuaW5nKG9mTG9nKToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkxvZ106IF9fc3dpZ19zZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19zZXRtZXRob2RzX18nLHt9KSkKICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mTG9nV2FybmluZywgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZMb2ddOiBfX3N3aWdfZ2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfZ2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mTG9nV2FybmluZywgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgZGVmIF9faW5pdF9fKHNlbGYsICphcmdzKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZMb2dXYXJuaW5nKCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZMb2dXYXJuaW5nCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZkxvZ1dhcm5pbmdfc3dpZ3JlZ2lzdGVyID0gX29mLm9mTG9nV2FybmluZ19zd2lncmVnaXN0ZXIKb2ZMb2dXYXJuaW5nX3N3aWdyZWdpc3RlcihvZkxvZ1dhcm5pbmcpCgpjbGFzcyBvZkxvZ0Vycm9yKG9mTG9nKToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkxvZ106IF9fc3dpZ19zZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19zZXRtZXRob2RzX18nLHt9KSkKICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mTG9nRXJyb3IsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mTG9nXTogX19zd2lnX2dldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX2dldG1ldGhvZHNfXycse30pKQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkxvZ0Vycm9yLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkxvZ0Vycm9yKCphcmdzKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZMb2dFcnJvcgogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKb2ZMb2dFcnJvcl9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZMb2dFcnJvcl9zd2lncmVnaXN0ZXIKb2ZMb2dFcnJvcl9zd2lncmVnaXN0ZXIob2ZMb2dFcnJvcikKCmNsYXNzIG9mTG9nRmF0YWxFcnJvcihvZkxvZyk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZMb2ddOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZkxvZ0ZhdGFsRXJyb3IsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mTG9nXTogX19zd2lnX2dldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX2dldG1ldGhvZHNfXycse30pKQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkxvZ0ZhdGFsRXJyb3IsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mTG9nRmF0YWxFcnJvcigqYXJncykKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mTG9nRmF0YWxFcnJvcgogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKb2ZMb2dGYXRhbEVycm9yX3N3aWdyZWdpc3RlciA9IF9vZi5vZkxvZ0ZhdGFsRXJyb3Jfc3dpZ3JlZ2lzdGVyCm9mTG9nRmF0YWxFcnJvcl9zd2lncmVnaXN0ZXIob2ZMb2dGYXRhbEVycm9yKQoKY2xhc3Mgb2ZCYXNlTG9nZ2VyQ2hhbm5lbChfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZCYXNlTG9nZ2VyQ2hhbm5lbCwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZCYXNlTG9nZ2VyQ2hhbm5lbCwgbmFtZSkKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncywgKiprd2FyZ3MpOiByYWlzZSBBdHRyaWJ1dGVFcnJvcigiTm8gY29uc3RydWN0b3IgZGVmaW5lZCAtIGNsYXNzIGlzIGFic3RyYWN0IikKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZCYXNlTG9nZ2VyQ2hhbm5lbAogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBsb2coc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQmFzZUxvZ2dlckNoYW5uZWxfbG9nKHNlbGYsICphcmdzKQpvZkJhc2VMb2dnZXJDaGFubmVsX3N3aWdyZWdpc3RlciA9IF9vZi5vZkJhc2VMb2dnZXJDaGFubmVsX3N3aWdyZWdpc3RlcgpvZkJhc2VMb2dnZXJDaGFubmVsX3N3aWdyZWdpc3RlcihvZkJhc2VMb2dnZXJDaGFubmVsKQoKY2xhc3Mgb2ZDb25zb2xlTG9nZ2VyQ2hhbm5lbChvZkJhc2VMb2dnZXJDaGFubmVsKToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkJhc2VMb2dnZXJDaGFubmVsXTogX19zd2lnX3NldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX3NldG1ldGhvZHNfXycse30pKQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZDb25zb2xlTG9nZ2VyQ2hhbm5lbCwgbmFtZSwgdmFsdWUpCiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZCYXNlTG9nZ2VyQ2hhbm5lbF06IF9fc3dpZ19nZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19nZXRtZXRob2RzX18nLHt9KSkKICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZDb25zb2xlTG9nZ2VyQ2hhbm5lbCwgbmFtZSkKICAgIF9fcmVwcl9fID0gX3N3aWdfcmVwcgogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZDb25zb2xlTG9nZ2VyQ2hhbm5lbAogICAgX19kZWxfXyA9IGxhbWJkYSBzZWxmIDogTm9uZTsKICAgIGRlZiBsb2coc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mQ29uc29sZUxvZ2dlckNoYW5uZWxfbG9nKHNlbGYsICphcmdzKQogICAgZGVmIF9faW5pdF9fKHNlbGYpOiAKICAgICAgICB0aGlzID0gX29mLm5ld19vZkNvbnNvbGVMb2dnZXJDaGFubmVsKCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKb2ZDb25zb2xlTG9nZ2VyQ2hhbm5lbF9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZDb25zb2xlTG9nZ2VyQ2hhbm5lbF9zd2lncmVnaXN0ZXIKb2ZDb25zb2xlTG9nZ2VyQ2hhbm5lbF9zd2lncmVnaXN0ZXIob2ZDb25zb2xlTG9nZ2VyQ2hhbm5lbCkKCmNsYXNzIG9mRmlsZUxvZ2dlckNoYW5uZWwob2ZCYXNlTG9nZ2VyQ2hhbm5lbCk6CiAgICBfX3N3aWdfc2V0bWV0aG9kc19fID0ge30KICAgIGZvciBfcyBpbiBbb2ZCYXNlTG9nZ2VyQ2hhbm5lbF06IF9fc3dpZ19zZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19zZXRtZXRob2RzX18nLHt9KSkKICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mRmlsZUxvZ2dlckNoYW5uZWwsIG5hbWUsIHZhbHVlKQogICAgX19zd2lnX2dldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mQmFzZUxvZ2dlckNoYW5uZWxdOiBfX3N3aWdfZ2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfZ2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX2dldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lOiBfc3dpZ19nZXRhdHRyKHNlbGYsIG9mRmlsZUxvZ2dlckNoYW5uZWwsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncyk6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mRmlsZUxvZ2dlckNoYW5uZWwoKmFyZ3MpCiAgICAgICAgdHJ5OiBzZWxmLnRoaXMuYXBwZW5kKHRoaXMpCiAgICAgICAgZXhjZXB0OiBzZWxmLnRoaXMgPSB0aGlzCiAgICBfX3N3aWdfZGVzdHJveV9fID0gX29mLmRlbGV0ZV9vZkZpbGVMb2dnZXJDaGFubmVsCiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwogICAgZGVmIHNldEZpbGUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmlsZUxvZ2dlckNoYW5uZWxfc2V0RmlsZShzZWxmLCAqYXJncykKICAgIGRlZiBsb2coc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mRmlsZUxvZ2dlckNoYW5uZWxfbG9nKHNlbGYsICphcmdzKQogICAgZGVmIGNsb3NlKHNlbGYpOiByZXR1cm4gX29mLm9mRmlsZUxvZ2dlckNoYW5uZWxfY2xvc2Uoc2VsZikKb2ZGaWxlTG9nZ2VyQ2hhbm5lbF9zd2lncmVnaXN0ZXIgPSBfb2Yub2ZGaWxlTG9nZ2VyQ2hhbm5lbF9zd2lncmVnaXN0ZXIKb2ZGaWxlTG9nZ2VyQ2hhbm5lbF9zd2lncmVnaXN0ZXIob2ZGaWxlTG9nZ2VyQ2hhbm5lbCkKCmNsYXNzIG9mRmlsZURpYWxvZ1Jlc3VsdChfb2JqZWN0KToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgX19zZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZSwgdmFsdWU6IF9zd2lnX3NldGF0dHIoc2VsZiwgb2ZGaWxlRGlhbG9nUmVzdWx0LCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZkZpbGVEaWFsb2dSZXN1bHQsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZGaWxlRGlhbG9nUmVzdWx0KCkKICAgICAgICB0cnk6IHNlbGYudGhpcy5hcHBlbmQodGhpcykKICAgICAgICBleGNlcHQ6IHNlbGYudGhpcyA9IHRoaXMKICAgIGRlZiBnZXROYW1lKHNlbGYpOiByZXR1cm4gX29mLm9mRmlsZURpYWxvZ1Jlc3VsdF9nZXROYW1lKHNlbGYpCiAgICBkZWYgZ2V0UGF0aChzZWxmKTogcmV0dXJuIF9vZi5vZkZpbGVEaWFsb2dSZXN1bHRfZ2V0UGF0aChzZWxmKQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siZmlsZVBhdGgiXSA9IF9vZi5vZkZpbGVEaWFsb2dSZXN1bHRfZmlsZVBhdGhfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJmaWxlUGF0aCJdID0gX29mLm9mRmlsZURpYWxvZ1Jlc3VsdF9maWxlUGF0aF9nZXQKICAgIGlmIF9uZXdjbGFzczpmaWxlUGF0aCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZkZpbGVEaWFsb2dSZXN1bHRfZmlsZVBhdGhfZ2V0LCBfb2Yub2ZGaWxlRGlhbG9nUmVzdWx0X2ZpbGVQYXRoX3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bImZpbGVOYW1lIl0gPSBfb2Yub2ZGaWxlRGlhbG9nUmVzdWx0X2ZpbGVOYW1lX3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siZmlsZU5hbWUiXSA9IF9vZi5vZkZpbGVEaWFsb2dSZXN1bHRfZmlsZU5hbWVfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6ZmlsZU5hbWUgPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZGaWxlRGlhbG9nUmVzdWx0X2ZpbGVOYW1lX2dldCwgX29mLm9mRmlsZURpYWxvZ1Jlc3VsdF9maWxlTmFtZV9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJiU3VjY2VzcyJdID0gX29mLm9mRmlsZURpYWxvZ1Jlc3VsdF9iU3VjY2Vzc19zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImJTdWNjZXNzIl0gPSBfb2Yub2ZGaWxlRGlhbG9nUmVzdWx0X2JTdWNjZXNzX2dldAogICAgaWYgX25ld2NsYXNzOmJTdWNjZXNzID0gX3N3aWdfcHJvcGVydHkoX29mLm9mRmlsZURpYWxvZ1Jlc3VsdF9iU3VjY2Vzc19nZXQsIF9vZi5vZkZpbGVEaWFsb2dSZXN1bHRfYlN1Y2Nlc3Nfc2V0KQogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZGaWxlRGlhbG9nUmVzdWx0CiAgICBfX2RlbF9fID0gbGFtYmRhIHNlbGYgOiBOb25lOwpvZkZpbGVEaWFsb2dSZXN1bHRfc3dpZ3JlZ2lzdGVyID0gX29mLm9mRmlsZURpYWxvZ1Jlc3VsdF9zd2lncmVnaXN0ZXIKb2ZGaWxlRGlhbG9nUmVzdWx0X3N3aWdyZWdpc3RlcihvZkZpbGVEaWFsb2dSZXN1bHQpCgoKZGVmIG9mU3lzdGVtQWxlcnREaWFsb2coKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTeXN0ZW1BbGVydERpYWxvZygqYXJncykKb2ZTeXN0ZW1BbGVydERpYWxvZyA9IF9vZi5vZlN5c3RlbUFsZXJ0RGlhbG9nCgpkZWYgb2ZTeXN0ZW1Mb2FkRGlhbG9nKHdpbmRvd1RpdGxlPSIiLCBiRm9sZGVyU2VsZWN0aW9uPUZhbHNlLCBkZWZhdWx0UGF0aD0iIik6CiAgcmV0dXJuIF9vZi5vZlN5c3RlbUxvYWREaWFsb2cod2luZG93VGl0bGUsIGJGb2xkZXJTZWxlY3Rpb24sIGRlZmF1bHRQYXRoKQpvZlN5c3RlbUxvYWREaWFsb2cgPSBfb2Yub2ZTeXN0ZW1Mb2FkRGlhbG9nCgpkZWYgb2ZTeXN0ZW1TYXZlRGlhbG9nKCphcmdzKToKICByZXR1cm4gX29mLm9mU3lzdGVtU2F2ZURpYWxvZygqYXJncykKb2ZTeXN0ZW1TYXZlRGlhbG9nID0gX29mLm9mU3lzdGVtU2F2ZURpYWxvZwoKZGVmIG9mU3lzdGVtVGV4dEJveERpYWxvZygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlN5c3RlbVRleHRCb3hEaWFsb2coKmFyZ3MpCm9mU3lzdGVtVGV4dEJveERpYWxvZyA9IF9vZi5vZlN5c3RlbVRleHRCb3hEaWFsb2cKCmRlZiBvZlJlc2V0RWxhcHNlZFRpbWVDb3VudGVyKCk6CiAgcmV0dXJuIF9vZi5vZlJlc2V0RWxhcHNlZFRpbWVDb3VudGVyKCkKb2ZSZXNldEVsYXBzZWRUaW1lQ291bnRlciA9IF9vZi5vZlJlc2V0RWxhcHNlZFRpbWVDb3VudGVyCgpkZWYgb2ZHZXRFbGFwc2VkVGltZWYoKToKICByZXR1cm4gX29mLm9mR2V0RWxhcHNlZFRpbWVmKCkKb2ZHZXRFbGFwc2VkVGltZWYgPSBfb2Yub2ZHZXRFbGFwc2VkVGltZWYKCmRlZiBvZkdldEVsYXBzZWRUaW1lTWlsbGlzKCk6CiAgcmV0dXJuIF9vZi5vZkdldEVsYXBzZWRUaW1lTWlsbGlzKCkKb2ZHZXRFbGFwc2VkVGltZU1pbGxpcyA9IF9vZi5vZkdldEVsYXBzZWRUaW1lTWlsbGlzCgpkZWYgb2ZHZXRFbGFwc2VkVGltZU1pY3JvcygpOgogIHJldHVybiBfb2Yub2ZHZXRFbGFwc2VkVGltZU1pY3JvcygpCm9mR2V0RWxhcHNlZFRpbWVNaWNyb3MgPSBfb2Yub2ZHZXRFbGFwc2VkVGltZU1pY3JvcwoKZGVmIG9mR2V0RnJhbWVOdW0oKToKICByZXR1cm4gX29mLm9mR2V0RnJhbWVOdW0oKQpvZkdldEZyYW1lTnVtID0gX29mLm9mR2V0RnJhbWVOdW0KCmRlZiBvZkdldFNlY29uZHMoKToKICByZXR1cm4gX29mLm9mR2V0U2Vjb25kcygpCm9mR2V0U2Vjb25kcyA9IF9vZi5vZkdldFNlY29uZHMKCmRlZiBvZkdldE1pbnV0ZXMoKToKICByZXR1cm4gX29mLm9mR2V0TWludXRlcygpCm9mR2V0TWludXRlcyA9IF9vZi5vZkdldE1pbnV0ZXMKCmRlZiBvZkdldEhvdXJzKCk6CiAgcmV0dXJuIF9vZi5vZkdldEhvdXJzKCkKb2ZHZXRIb3VycyA9IF9vZi5vZkdldEhvdXJzCgpkZWYgb2ZHZXRVbml4VGltZSgpOgogIHJldHVybiBfb2Yub2ZHZXRVbml4VGltZSgpCm9mR2V0VW5peFRpbWUgPSBfb2Yub2ZHZXRVbml4VGltZQoKZGVmIG9mR2V0U3lzdGVtVGltZSgpOgogIHJldHVybiBfb2Yub2ZHZXRTeXN0ZW1UaW1lKCkKb2ZHZXRTeXN0ZW1UaW1lID0gX29mLm9mR2V0U3lzdGVtVGltZQoKZGVmIG9mR2V0U3lzdGVtVGltZU1pY3JvcygpOgogIHJldHVybiBfb2Yub2ZHZXRTeXN0ZW1UaW1lTWljcm9zKCkKb2ZHZXRTeXN0ZW1UaW1lTWljcm9zID0gX29mLm9mR2V0U3lzdGVtVGltZU1pY3JvcwoKZGVmIG9mR2V0VGltZXN0YW1wU3RyaW5nKCphcmdzKToKICByZXR1cm4gX29mLm9mR2V0VGltZXN0YW1wU3RyaW5nKCphcmdzKQpvZkdldFRpbWVzdGFtcFN0cmluZyA9IF9vZi5vZkdldFRpbWVzdGFtcFN0cmluZwoKZGVmIG9mR2V0WWVhcigpOgogIHJldHVybiBfb2Yub2ZHZXRZZWFyKCkKb2ZHZXRZZWFyID0gX29mLm9mR2V0WWVhcgoKZGVmIG9mR2V0TW9udGgoKToKICByZXR1cm4gX29mLm9mR2V0TW9udGgoKQpvZkdldE1vbnRoID0gX29mLm9mR2V0TW9udGgKCmRlZiBvZkdldERheSgpOgogIHJldHVybiBfb2Yub2ZHZXREYXkoKQpvZkdldERheSA9IF9vZi5vZkdldERheQoKZGVmIG9mR2V0V2Vla2RheSgpOgogIHJldHVybiBfb2Yub2ZHZXRXZWVrZGF5KCkKb2ZHZXRXZWVrZGF5ID0gX29mLm9mR2V0V2Vla2RheQoKZGVmIG9mTGF1bmNoQnJvd3NlcigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkxhdW5jaEJyb3dzZXIoKmFyZ3MpCm9mTGF1bmNoQnJvd3NlciA9IF9vZi5vZkxhdW5jaEJyb3dzZXIKCmRlZiBvZkVuYWJsZURhdGFQYXRoKCk6CiAgcmV0dXJuIF9vZi5vZkVuYWJsZURhdGFQYXRoKCkKb2ZFbmFibGVEYXRhUGF0aCA9IF9vZi5vZkVuYWJsZURhdGFQYXRoCgpkZWYgb2ZEaXNhYmxlRGF0YVBhdGgoKToKICByZXR1cm4gX29mLm9mRGlzYWJsZURhdGFQYXRoKCkKb2ZEaXNhYmxlRGF0YVBhdGggPSBfb2Yub2ZEaXNhYmxlRGF0YVBhdGgKCmRlZiBvZlRvRGF0YVBhdGgoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZUb0RhdGFQYXRoKCphcmdzKQpvZlRvRGF0YVBhdGggPSBfb2Yub2ZUb0RhdGFQYXRoCgpkZWYgb2ZTZXREYXRhUGF0aFJvb3QoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTZXREYXRhUGF0aFJvb3QoKmFyZ3MpCm9mU2V0RGF0YVBhdGhSb290ID0gX29mLm9mU2V0RGF0YVBhdGhSb290CgpkZWYgb2ZUb0hleCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlRvSGV4KCphcmdzKQpvZlRvSGV4ID0gX29mLm9mVG9IZXgKCmRlZiBvZkhleFRvSW50KCphcmdzKToKICByZXR1cm4gX29mLm9mSGV4VG9JbnQoKmFyZ3MpCm9mSGV4VG9JbnQgPSBfb2Yub2ZIZXhUb0ludAoKZGVmIG9mSGV4VG9DaGFyKCphcmdzKToKICByZXR1cm4gX29mLm9mSGV4VG9DaGFyKCphcmdzKQpvZkhleFRvQ2hhciA9IF9vZi5vZkhleFRvQ2hhcgoKZGVmIG9mSGV4VG9GbG9hdCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkhleFRvRmxvYXQoKmFyZ3MpCm9mSGV4VG9GbG9hdCA9IF9vZi5vZkhleFRvRmxvYXQKCmRlZiBvZkhleFRvU3RyaW5nKCphcmdzKToKICByZXR1cm4gX29mLm9mSGV4VG9TdHJpbmcoKmFyZ3MpCm9mSGV4VG9TdHJpbmcgPSBfb2Yub2ZIZXhUb1N0cmluZwoKZGVmIG9mVG9JbnQoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZUb0ludCgqYXJncykKb2ZUb0ludCA9IF9vZi5vZlRvSW50CgpkZWYgb2ZUb0NoYXIoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZUb0NoYXIoKmFyZ3MpCm9mVG9DaGFyID0gX29mLm9mVG9DaGFyCgpkZWYgb2ZUb0Zsb2F0KCphcmdzKToKICByZXR1cm4gX29mLm9mVG9GbG9hdCgqYXJncykKb2ZUb0Zsb2F0ID0gX29mLm9mVG9GbG9hdAoKZGVmIG9mVG9Eb3VibGUoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZUb0RvdWJsZSgqYXJncykKb2ZUb0RvdWJsZSA9IF9vZi5vZlRvRG91YmxlCgpkZWYgb2ZUb0Jvb2woKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZUb0Jvb2woKmFyZ3MpCm9mVG9Cb29sID0gX29mLm9mVG9Cb29sCgpkZWYgb2ZUb0JpbmFyeSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlRvQmluYXJ5KCphcmdzKQpvZlRvQmluYXJ5ID0gX29mLm9mVG9CaW5hcnkKCmRlZiBvZkJpbmFyeVRvSW50KCphcmdzKToKICByZXR1cm4gX29mLm9mQmluYXJ5VG9JbnQoKmFyZ3MpCm9mQmluYXJ5VG9JbnQgPSBfb2Yub2ZCaW5hcnlUb0ludAoKZGVmIG9mQmluYXJ5VG9DaGFyKCphcmdzKToKICByZXR1cm4gX29mLm9mQmluYXJ5VG9DaGFyKCphcmdzKQpvZkJpbmFyeVRvQ2hhciA9IF9vZi5vZkJpbmFyeVRvQ2hhcgoKZGVmIG9mQmluYXJ5VG9GbG9hdCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkJpbmFyeVRvRmxvYXQoKmFyZ3MpCm9mQmluYXJ5VG9GbG9hdCA9IF9vZi5vZkJpbmFyeVRvRmxvYXQKCmRlZiBvZkJpbmFyeVRvU3RyaW5nKCphcmdzKToKICByZXR1cm4gX29mLm9mQmluYXJ5VG9TdHJpbmcoKmFyZ3MpCm9mQmluYXJ5VG9TdHJpbmcgPSBfb2Yub2ZCaW5hcnlUb1N0cmluZwoKZGVmIG9mR2V0VmVyc2lvbkluZm8oKToKICByZXR1cm4gX29mLm9mR2V0VmVyc2lvbkluZm8oKQpvZkdldFZlcnNpb25JbmZvID0gX29mLm9mR2V0VmVyc2lvbkluZm8KCmRlZiBvZlNhdmVTY3JlZW4oKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTYXZlU2NyZWVuKCphcmdzKQpvZlNhdmVTY3JlZW4gPSBfb2Yub2ZTYXZlU2NyZWVuCgpkZWYgb2ZTYXZlRnJhbWUoYlVzZVZpZXdwb3J0PUZhbHNlKToKICByZXR1cm4gX29mLm9mU2F2ZUZyYW1lKGJVc2VWaWV3cG9ydCkKb2ZTYXZlRnJhbWUgPSBfb2Yub2ZTYXZlRnJhbWUKCmRlZiBvZlNhdmVWaWV3cG9ydCgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlNhdmVWaWV3cG9ydCgqYXJncykKb2ZTYXZlVmlld3BvcnQgPSBfb2Yub2ZTYXZlVmlld3BvcnQKCmRlZiBvZlNwbGl0U3RyaW5nKCphcmdzKToKICByZXR1cm4gX29mLm9mU3BsaXRTdHJpbmcoKmFyZ3MpCm9mU3BsaXRTdHJpbmcgPSBfb2Yub2ZTcGxpdFN0cmluZwoKZGVmIG9mSm9pblN0cmluZygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZkpvaW5TdHJpbmcoKmFyZ3MpCm9mSm9pblN0cmluZyA9IF9vZi5vZkpvaW5TdHJpbmcKCmRlZiBvZlN0cmluZ1JlcGxhY2UoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZTdHJpbmdSZXBsYWNlKCphcmdzKQpvZlN0cmluZ1JlcGxhY2UgPSBfb2Yub2ZTdHJpbmdSZXBsYWNlCgpkZWYgb2ZJc1N0cmluZ0luU3RyaW5nKCphcmdzKToKICByZXR1cm4gX29mLm9mSXNTdHJpbmdJblN0cmluZygqYXJncykKb2ZJc1N0cmluZ0luU3RyaW5nID0gX29mLm9mSXNTdHJpbmdJblN0cmluZwoKZGVmIG9mVG9Mb3dlcigqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlRvTG93ZXIoKmFyZ3MpCm9mVG9Mb3dlciA9IF9vZi5vZlRvTG93ZXIKCmRlZiBvZlRvVXBwZXIoKmFyZ3MpOgogIHJldHVybiBfb2Yub2ZUb1VwcGVyKCphcmdzKQpvZlRvVXBwZXIgPSBfb2Yub2ZUb1VwcGVyCgpkZWYgb2ZWQUFyZ3NUb1N0cmluZygqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlZBQXJnc1RvU3RyaW5nKCphcmdzKQpvZlZBQXJnc1RvU3RyaW5nID0gX29mLm9mVkFBcmdzVG9TdHJpbmcKCmRlZiBvZlN5c3RlbSgqYXJncyk6CiAgcmV0dXJuIF9vZi5vZlN5c3RlbSgqYXJncykKb2ZTeXN0ZW0gPSBfb2Yub2ZTeXN0ZW0KCmRlZiBvZkdldFRhcmdldFBsYXRmb3JtKCk6CiAgcmV0dXJuIF9vZi5vZkdldFRhcmdldFBsYXRmb3JtKCkKb2ZHZXRUYXJnZXRQbGF0Zm9ybSA9IF9vZi5vZkdldFRhcmdldFBsYXRmb3JtCmNsYXNzIG9mVmlkZW9HcmFiYmVyKG9mQmFzZVZpZGVvR3JhYmJlcixvZkJhc2VWaWRlb0RyYXdzKToKICAgIF9fc3dpZ19zZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkJhc2VWaWRlb0dyYWJiZXIsb2ZCYXNlVmlkZW9EcmF3c106IF9fc3dpZ19zZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19zZXRtZXRob2RzX18nLHt9KSkKICAgIF9fc2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWUsIHZhbHVlOiBfc3dpZ19zZXRhdHRyKHNlbGYsIG9mVmlkZW9HcmFiYmVyLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkJhc2VWaWRlb0dyYWJiZXIsb2ZCYXNlVmlkZW9EcmF3c106IF9fc3dpZ19nZXRtZXRob2RzX18udXBkYXRlKGdldGF0dHIoX3MsJ19fc3dpZ19nZXRtZXRob2RzX18nLHt9KSkKICAgIF9fZ2V0YXR0cl9fID0gbGFtYmRhIHNlbGYsIG5hbWU6IF9zd2lnX2dldGF0dHIoc2VsZiwgb2ZWaWRlb0dyYWJiZXIsIG5hbWUpCiAgICBfX3JlcHJfXyA9IF9zd2lnX3JlcHIKICAgIGRlZiBfX2luaXRfXyhzZWxmKTogCiAgICAgICAgdGhpcyA9IF9vZi5uZXdfb2ZWaWRlb0dyYWJiZXIoKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgX19zd2lnX2Rlc3Ryb3lfXyA9IF9vZi5kZWxldGVfb2ZWaWRlb0dyYWJiZXIKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7CiAgICBkZWYgc2V0R3JhYmJlcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWaWRlb0dyYWJiZXJfc2V0R3JhYmJlcihzZWxmLCAqYXJncykKICAgIGRlZiBnZXRHcmFiYmVyKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9HcmFiYmVyX2dldEdyYWJiZXIoc2VsZikKICAgIGRlZiBsaXN0RGV2aWNlcyhzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl9saXN0RGV2aWNlcyhzZWxmKQogICAgZGVmIGlzRnJhbWVOZXcoc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb0dyYWJiZXJfaXNGcmFtZU5ldyhzZWxmKQogICAgZGVmIHVwZGF0ZShzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl91cGRhdGUoc2VsZikKICAgIGRlZiBncmFiRnJhbWUoc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb0dyYWJiZXJfZ3JhYkZyYW1lKHNlbGYpCiAgICBkZWYgY2xvc2Uoc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb0dyYWJiZXJfY2xvc2Uoc2VsZikKICAgIGRlZiBpbml0R3JhYmJlcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWaWRlb0dyYWJiZXJfaW5pdEdyYWJiZXIoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0UGl4ZWxGb3JtYXQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmlkZW9HcmFiYmVyX3NldFBpeGVsRm9ybWF0KHNlbGYsICphcmdzKQogICAgZGVmIGdldFBpeGVsRm9ybWF0KHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9HcmFiYmVyX2dldFBpeGVsRm9ybWF0KHNlbGYpCiAgICBkZWYgdmlkZW9TZXR0aW5ncyhzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl92aWRlb1NldHRpbmdzKHNlbGYpCiAgICBkZWYgZ2V0UGl4ZWxzKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9HcmFiYmVyX2dldFBpeGVscyhzZWxmKQogICAgZGVmIGdldFBpeGVsc1JlZihzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl9nZXRQaXhlbHNSZWYoc2VsZikKICAgIGRlZiBnZXRUZXh0dXJlUmVmZXJlbmNlKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9HcmFiYmVyX2dldFRleHR1cmVSZWZlcmVuY2Uoc2VsZikKICAgIGRlZiBzZXRWZXJib3NlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl9zZXRWZXJib3NlKHNlbGYsICphcmdzKQogICAgZGVmIHNldERldmljZUlEKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl9zZXREZXZpY2VJRChzZWxmLCAqYXJncykKICAgIGRlZiBzZXREZXNpcmVkRnJhbWVSYXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl9zZXREZXNpcmVkRnJhbWVSYXRlKHNlbGYsICphcmdzKQogICAgZGVmIHNldFVzZVRleHR1cmUoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmlkZW9HcmFiYmVyX3NldFVzZVRleHR1cmUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZHJhdyhzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWaWRlb0dyYWJiZXJfZHJhdyhzZWxmLCAqYXJncykKICAgIGRlZiBzZXRBbmNob3JQZXJjZW50KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl9zZXRBbmNob3JQZXJjZW50KHNlbGYsICphcmdzKQogICAgZGVmIHNldEFuY2hvclBvaW50KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl9zZXRBbmNob3JQb2ludChzZWxmLCAqYXJncykKICAgIGRlZiByZXNldEFuY2hvcihzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl9yZXNldEFuY2hvcihzZWxmKQogICAgZGVmIGdldEhlaWdodChzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl9nZXRIZWlnaHQoc2VsZikKICAgIGRlZiBnZXRXaWR0aChzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvR3JhYmJlcl9nZXRXaWR0aChzZWxmKQogICAgZGVmIGlzSW5pdGlhbGl6ZWQoc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb0dyYWJiZXJfaXNJbml0aWFsaXplZChzZWxmKQogICAgX19zd2lnX3NldG1ldGhvZHNfX1siaGVpZ2h0Il0gPSBfb2Yub2ZWaWRlb0dyYWJiZXJfaGVpZ2h0X3NldAogICAgX19zd2lnX2dldG1ldGhvZHNfX1siaGVpZ2h0Il0gPSBfb2Yub2ZWaWRlb0dyYWJiZXJfaGVpZ2h0X2dldAogICAgaWYgX25ld2NsYXNzOmhlaWdodCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlZpZGVvR3JhYmJlcl9oZWlnaHRfZ2V0LCBfb2Yub2ZWaWRlb0dyYWJiZXJfaGVpZ2h0X3NldCkKICAgIF9fc3dpZ19zZXRtZXRob2RzX19bIndpZHRoIl0gPSBfb2Yub2ZWaWRlb0dyYWJiZXJfd2lkdGhfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ3aWR0aCJdID0gX29mLm9mVmlkZW9HcmFiYmVyX3dpZHRoX2dldAogICAgaWYgX25ld2NsYXNzOndpZHRoID0gX3N3aWdfcHJvcGVydHkoX29mLm9mVmlkZW9HcmFiYmVyX3dpZHRoX2dldCwgX29mLm9mVmlkZW9HcmFiYmVyX3dpZHRoX3NldCkKb2ZWaWRlb0dyYWJiZXJfc3dpZ3JlZ2lzdGVyID0gX29mLm9mVmlkZW9HcmFiYmVyX3N3aWdyZWdpc3RlcgpvZlZpZGVvR3JhYmJlcl9zd2lncmVnaXN0ZXIob2ZWaWRlb0dyYWJiZXIpCgpjbGFzcyBvZlZpZGVvUGxheWVyKG9mQmFzZVZpZGVvUGxheWVyLG9mQmFzZVZpZGVvRHJhd3MpOgogICAgX19zd2lnX3NldG1ldGhvZHNfXyA9IHt9CiAgICBmb3IgX3MgaW4gW29mQmFzZVZpZGVvUGxheWVyLG9mQmFzZVZpZGVvRHJhd3NdOiBfX3N3aWdfc2V0bWV0aG9kc19fLnVwZGF0ZShnZXRhdHRyKF9zLCdfX3N3aWdfc2V0bWV0aG9kc19fJyx7fSkpCiAgICBfX3NldGF0dHJfXyA9IGxhbWJkYSBzZWxmLCBuYW1lLCB2YWx1ZTogX3N3aWdfc2V0YXR0cihzZWxmLCBvZlZpZGVvUGxheWVyLCBuYW1lLCB2YWx1ZSkKICAgIF9fc3dpZ19nZXRtZXRob2RzX18gPSB7fQogICAgZm9yIF9zIGluIFtvZkJhc2VWaWRlb1BsYXllcixvZkJhc2VWaWRlb0RyYXdzXTogX19zd2lnX2dldG1ldGhvZHNfXy51cGRhdGUoZ2V0YXR0cihfcywnX19zd2lnX2dldG1ldGhvZHNfXycse30pKQogICAgX19nZXRhdHRyX18gPSBsYW1iZGEgc2VsZiwgbmFtZTogX3N3aWdfZ2V0YXR0cihzZWxmLCBvZlZpZGVvUGxheWVyLCBuYW1lKQogICAgX19yZXByX18gPSBfc3dpZ19yZXByCiAgICBkZWYgX19pbml0X18oc2VsZik6IAogICAgICAgIHRoaXMgPSBfb2YubmV3X29mVmlkZW9QbGF5ZXIoKQogICAgICAgIHRyeTogc2VsZi50aGlzLmFwcGVuZCh0aGlzKQogICAgICAgIGV4Y2VwdDogc2VsZi50aGlzID0gdGhpcwogICAgZGVmIHNldFBsYXllcihzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9zZXRQbGF5ZXIoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0UGxheWVyKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfZ2V0UGxheWVyKHNlbGYpCiAgICBkZWYgbG9hZE1vdmllKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX2xvYWRNb3ZpZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRNb3ZpZVBhdGgoc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9nZXRNb3ZpZVBhdGgoc2VsZikKICAgIGRlZiBzZXRQaXhlbEZvcm1hdChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9zZXRQaXhlbEZvcm1hdChzZWxmLCAqYXJncykKICAgIGRlZiBnZXRQaXhlbEZvcm1hdChzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX2dldFBpeGVsRm9ybWF0KHNlbGYpCiAgICBkZWYgY2xvc2VNb3ZpZShzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX2Nsb3NlTW92aWUoc2VsZikKICAgIGRlZiBjbG9zZShzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX2Nsb3NlKHNlbGYpCiAgICBkZWYgdXBkYXRlKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfdXBkYXRlKHNlbGYpCiAgICBkZWYgaWRsZU1vdmllKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfaWRsZU1vdmllKHNlbGYpCiAgICBkZWYgcGxheShzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX3BsYXkoc2VsZikKICAgIGRlZiBzdG9wKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfc3RvcChzZWxmKQogICAgZGVmIGlzRnJhbWVOZXcoc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9pc0ZyYW1lTmV3KHNlbGYpCiAgICBkZWYgZ2V0UGl4ZWxzKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfZ2V0UGl4ZWxzKHNlbGYpCiAgICBkZWYgZ2V0UGl4ZWxzUmVmKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfZ2V0UGl4ZWxzUmVmKHNlbGYpCiAgICBkZWYgZ2V0UG9zaXRpb24oc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9nZXRQb3NpdGlvbihzZWxmKQogICAgZGVmIGdldFNwZWVkKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfZ2V0U3BlZWQoc2VsZikKICAgIGRlZiBnZXREdXJhdGlvbihzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX2dldER1cmF0aW9uKHNlbGYpCiAgICBkZWYgZ2V0SXNNb3ZpZURvbmUoc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9nZXRJc01vdmllRG9uZShzZWxmKQogICAgZGVmIHNldFBvc2l0aW9uKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX3NldFBvc2l0aW9uKHNlbGYsICphcmdzKQogICAgZGVmIHNldFZvbHVtZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9zZXRWb2x1bWUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0TG9vcFN0YXRlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX3NldExvb3BTdGF0ZShzZWxmLCAqYXJncykKICAgIGRlZiBnZXRMb29wU3RhdGUoc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9nZXRMb29wU3RhdGUoc2VsZikKICAgIGRlZiBzZXRTcGVlZChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9zZXRTcGVlZChzZWxmLCAqYXJncykKICAgIGRlZiBzZXRGcmFtZShzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9zZXRGcmFtZShzZWxmLCAqYXJncykKICAgIGRlZiBzZXRVc2VUZXh0dXJlKHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX3NldFVzZVRleHR1cmUoc2VsZiwgKmFyZ3MpCiAgICBkZWYgZ2V0VGV4dHVyZVJlZmVyZW5jZShzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX2dldFRleHR1cmVSZWZlcmVuY2Uoc2VsZikKICAgIGRlZiBkcmF3KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX2RyYXcoc2VsZiwgKmFyZ3MpCiAgICBkZWYgc2V0QW5jaG9yUGVyY2VudChzZWxmLCAqYXJncyk6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9zZXRBbmNob3JQZXJjZW50KHNlbGYsICphcmdzKQogICAgZGVmIHNldEFuY2hvclBvaW50KHNlbGYsICphcmdzKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX3NldEFuY2hvclBvaW50KHNlbGYsICphcmdzKQogICAgZGVmIHJlc2V0QW5jaG9yKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfcmVzZXRBbmNob3Ioc2VsZikKICAgIGRlZiBzZXRQYXVzZWQoc2VsZiwgKmFyZ3MpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfc2V0UGF1c2VkKHNlbGYsICphcmdzKQogICAgZGVmIGdldEN1cnJlbnRGcmFtZShzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX2dldEN1cnJlbnRGcmFtZShzZWxmKQogICAgZGVmIGdldFRvdGFsTnVtRnJhbWVzKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfZ2V0VG90YWxOdW1GcmFtZXMoc2VsZikKICAgIGRlZiBmaXJzdEZyYW1lKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfZmlyc3RGcmFtZShzZWxmKQogICAgZGVmIG5leHRGcmFtZShzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX25leHRGcmFtZShzZWxmKQogICAgZGVmIHByZXZpb3VzRnJhbWUoc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9wcmV2aW91c0ZyYW1lKHNlbGYpCiAgICBkZWYgZ2V0SGVpZ2h0KHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfZ2V0SGVpZ2h0KHNlbGYpCiAgICBkZWYgZ2V0V2lkdGgoc2VsZik6IHJldHVybiBfb2Yub2ZWaWRlb1BsYXllcl9nZXRXaWR0aChzZWxmKQogICAgZGVmIGlzUGF1c2VkKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfaXNQYXVzZWQoc2VsZikKICAgIGRlZiBpc0xvYWRlZChzZWxmKTogcmV0dXJuIF9vZi5vZlZpZGVvUGxheWVyX2lzTG9hZGVkKHNlbGYpCiAgICBkZWYgaXNQbGF5aW5nKHNlbGYpOiByZXR1cm4gX29mLm9mVmlkZW9QbGF5ZXJfaXNQbGF5aW5nKHNlbGYpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJoZWlnaHQiXSA9IF9vZi5vZlZpZGVvUGxheWVyX2hlaWdodF9zZXQKICAgIF9fc3dpZ19nZXRtZXRob2RzX19bImhlaWdodCJdID0gX29mLm9mVmlkZW9QbGF5ZXJfaGVpZ2h0X2dldAogICAgaWYgX25ld2NsYXNzOmhlaWdodCA9IF9zd2lnX3Byb3BlcnR5KF9vZi5vZlZpZGVvUGxheWVyX2hlaWdodF9nZXQsIF9vZi5vZlZpZGVvUGxheWVyX2hlaWdodF9zZXQpCiAgICBfX3N3aWdfc2V0bWV0aG9kc19fWyJ3aWR0aCJdID0gX29mLm9mVmlkZW9QbGF5ZXJfd2lkdGhfc2V0CiAgICBfX3N3aWdfZ2V0bWV0aG9kc19fWyJ3aWR0aCJdID0gX29mLm9mVmlkZW9QbGF5ZXJfd2lkdGhfZ2V0CiAgICBpZiBfbmV3Y2xhc3M6d2lkdGggPSBfc3dpZ19wcm9wZXJ0eShfb2Yub2ZWaWRlb1BsYXllcl93aWR0aF9nZXQsIF9vZi5vZlZpZGVvUGxheWVyX3dpZHRoX3NldCkKICAgIF9fc3dpZ19kZXN0cm95X18gPSBfb2YuZGVsZXRlX29mVmlkZW9QbGF5ZXIKICAgIF9fZGVsX18gPSBsYW1iZGEgc2VsZiA6IE5vbmU7Cm9mVmlkZW9QbGF5ZXJfc3dpZ3JlZ2lzdGVyID0gX29mLm9mVmlkZW9QbGF5ZXJfc3dpZ3JlZ2lzdGVyCm9mVmlkZW9QbGF5ZXJfc3dpZ3JlZ2lzdGVyKG9mVmlkZW9QbGF5ZXIpCgojIFRoaXMgZmlsZSBpcyBjb21wYXRpYmxlIHdpdGggYm90aCBjbGFzc2ljIGFuZCBuZXctc3R5bGUgY2xhc3Nlcy4KCgo=";